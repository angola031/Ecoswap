<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSwap - Mockups</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @media (max-width: 768px) {

            /* Chat Mobile Optimizations */
            .chat-container {
                max-height: calc(100vh - 250px) !important;
                padding: 15px !important;
            }

            .chat-container>div[style*="display: flex; gap: 12px"] {
                margin-bottom: 12px !important;
            }

            /* Chat header mobile */
            .header>div:first-child {
                flex: 1;
                min-width: 0;
            }

            .header>div:first-child>div:last-child>div:first-child {
                font-size: 14px !important;
            }

            .header>div:first-child>div:last-child>div:last-child {
                font-size: 11px !important;
            }

            /* Product context bar mobile */
            #chat div[style*="border-bottom: 1px solid #e0e0e0"] {
                padding: 12px 15px !important;
            }

            #chat div[style*="border-bottom: 1px solid #e0e0e0"]>div {
                padding: 10px !important;
            }

            /* Message input mobile */
            #chat>div:last-child {
                padding: 12px 15px !important;
            }

            #chat textarea {
                font-size: 16px !important;
                /* Prevent zoom on iOS */
                padding: 10px 40px 10px 14px !important;
            }

            /* Quick replies mobile */
            #chat>div:last-child>div:last-child {
                gap: 6px !important;
                margin-top: 10px !important;
            }

            #chat>div:last-child>div:last-child button {
                font-size: 11px !important;
                padding: 5px 10px !important;
            }

            /* Message bubbles mobile */
            .chat-container div[style*="border-radius: 18px"] {
                padding: 10px 12px !important;
                font-size: 14px !important;
            }

            .chat-container div[style*="max-width: 80%"] {
                max-width: 85% !important;
            }

            /* System messages mobile */
            .chat-container div[style*="text-align: center"] div {
                font-size: 11px !important;
                padding: 6px 12px !important;
            }

            /* Location card mobile */
            .chat-container div[style*="border-left: 3px solid #3498DB"] {
                padding: 10px !important;
            }

            .chat-container div[style*="border-left: 3px solid #3498DB"] button {
                font-size: 10px !important;
                padding: 5px 10px !important;
            }

            /* About page mobile optimizations */
            #about>div {
                padding: 15px !important;
            }

            #about div[style*="padding: 60px 40px"] {
                padding: 40px 20px !important;
            }

            #about h1[style*="font-size: 42px"] {
                font-size: 28px !important;
            }

            #about div[style*="font-size: 80px"] {
                font-size: 60px !important;
                margin-bottom: 15px !important;
            }

            #about p[style*="font-size: 18px"] {
                font-size: 16px !important;
            }

            #about div[style*="display: grid; grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            #about div[style*="padding: 40px"] {
                padding: 25px 20px !important;
            }

            #about h2[style*="font-size: 32px"] {
                font-size: 24px !important;
            }

            #about h2[style*="font-size: 28px"] {
                font-size: 22px !important;
            }

            #about div[style*="width: 60px; height: 60px"] {
                width: 50px !important;
                height: 50px !important;
                font-size: 24px !important;
            }

            #about div[style*="width: 80px; height: 80px"] {
                width: 70px !important;
                height: 70px !important;
                font-size: 28px !important;
            }

            #about div[style*="width: 100px; height: 100px"] {
                width: 80px !important;
                height: 80px !important;
                font-size: 28px !important;
            }

            #about div[style*="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr))"] {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            #about div[style*="padding: 50px 40px"] {
                padding: 30px 20px !important;
            }

            #about div[style*="font-size: 48px"] {
                font-size: 36px !important;
            }

            #about div[style*="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap"] {
                flex-direction: column !important;
                gap: 15px !important;
                align-items: center !important;
            }

            #about button[style*="margin-right: 15px"] {
                margin-right: 0 !important;
                margin-bottom: 15px !important;
                width: 100% !important;
                max-width: 250px !important;
            }

            #about button[style*="background: transparent"] {
                width: 100% !important;
                max-width: 250px !important;
            }

            /* Profile Stats Mobile */
            #profile .main-stats-grid {
                grid-template-columns: 1fr 1fr !important;
                gap: 15px !important;
            }

            #profile .main-stats-grid>div {
                padding: 20px 15px !important;
            }

            #profile .main-stats-grid>div>div:first-child {
                font-size: 36px !important;
            }

            #profile .detailed-stats-section {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            #profile .quick-stats-row {
                grid-template-columns: 1fr 1fr !important;
                gap: 12px !important;
            }

            #profile .quick-stats-row>div {
                padding: 15px 12px !important;
            }
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #A8E6CF 0%, #3498DB 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .nav-tabs {
            display: flex;
            background: #34495E;
            overflow-x: auto;
        }

        .nav-tab {
            padding: 15px 25px;
            background: #34495E;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-tab:hover {
            background: #2ECC71;
        }

        .nav-tab.active {
            background: #27AE60;
        }

        /* Estilos para las pesta√±as de interacciones */
        .interactions-container {
            transition: all 0.3s ease;
        }

        .interactions-container[style*="display: none"] {
            opacity: 0;
            transform: translateY(10px);
        }

        .interactions-container:not([style*="display: none"]) {
            opacity: 1;
            transform: translateY(0);
        }

        .mockup-screen {
            display: none;
            padding: 0;
            min-height: 600px;
            background: #f8f9fa;
        }

        .mockup-screen.active {
            display: block;
        }

        /* Estilos comunes */
        .header {
            background: linear-gradient(135deg, #2ECC71, #27AE60);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Estilos para mejorar la legibilidad del texto */
        .mockup-screen {
            line-height: 1.6;
            letter-spacing: 0.2px;
        }

        .mockup-screen h1,
        .mockup-screen h2,
        .mockup-screen h3,
        .mockup-screen h4,
        .mockup-screen h5,
        .mockup-screen h6 {
            line-height: 1.4;
            margin-bottom: 16px;
            margin-top: 24px;
        }

        .mockup-screen p {
            line-height: 1.7;
            margin-bottom: 16px;
            margin-top: 16px;
        }

        .mockup-screen div {
            line-height: 1.5;
        }

        /* Mejorar espaciado en tarjetas y contenedores */
        .mockup-screen>div {
            margin-bottom: 24px;
        }

        /* Mejorar legibilidad en botones */
        .mockup-screen button {
            line-height: 1.4;
            letter-spacing: 0.3px;
        }

        .btn-primary {
            background: #E67E22;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #D35400;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #3498DB;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #2980B9;
        }

        /* Login Screen */
        .login-container {
            display: flex;
            min-height: 600px;
        }

        .login-left {
            flex: 1;
            background: linear-gradient(135deg, #2ECC71, #3498DB);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            padding: 40px;
        }

        .login-right {
            flex: 1;
            padding: 60px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .login-form {
            max-width: 400px;
            width: 100%;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #2ECC71;
        }

        /* Home Screen */
        .search-bar {
            background: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-input {
            width: 100%;
            max-width: 600px;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 30px;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .categories {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .category-chip {
            background: #A8E6CF;
            color: #27AE60;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            padding: 30px 20px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #999;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #34495E;
        }

        .product-type {
            background: #E67E22;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 10px;
        }

        .product-location {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 15px;
        }

        /* Upload Screen */
        .upload-form {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .upload-area {
            border: 2px dashed #2ECC71;
            border-radius: 10px;
            padding: 60px 20px;
            text-align: center;
            background: #f8fff8;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            background: #f0fff0;
            border-color: #27AE60;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Detail Screen */
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            padding: 30px;
            background: white;
        }

        .detail-images {
            position: relative;
        }

        .main-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 72px;
            color: #999;
            margin-bottom: 15px;
        }

        .image-thumbnails {
            display: flex;
            gap: 10px;
        }

        .thumbnail {
            width: 80px;
            height: 80px;
            background: #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .thumbnail.active {
            border-color: #2ECC71;
        }

        .detail-info h1 {
            font-size: 32px;
            color: #34495E;
            margin-bottom: 10px;
        }

        .detail-badges {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-swap {
            background: #A8E6CF;
            color: #27AE60;
        }

        .badge-sell {
            background: #FFE5B4;
            color: #E67E22;
        }

        .badge-donate {
            background: #E8F4FD;
            color: #3498DB;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 20px 0;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #2ECC71;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        /* Interactions Screen */
        .interactions-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .interaction-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .interaction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .interaction-type {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .type-proposed {
            background: #FFF2CC;
            color: #F39C12;
        }

        .type-accepted {
            background: #D5FDCB;
            color: #27AE60;
        }

        .type-pending {
            background: #FFE5E5;
            color: #E74C3C;
        }

        .type-rejected {
            background: #FFE5E5;
            color: #E74C3C;
        }

        .interaction-products {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .mini-product {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }

        .mini-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #999;
        }

        .exchange-arrow {
            font-size: 24px;
            color: #2ECC71;
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .container {
                border-radius: 0;
                margin: 0;
                min-height: 100vh;
            }

            .nav-tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }

            .nav-tabs::-webkit-scrollbar {
                display: none;
            }

            .nav-tab {
                flex: 0 0 auto;
                min-width: 100px;
                padding: 12px 16px;
                font-size: 12px;
            }

            /* Login/Register Mobile */
            .login-container {
                flex-direction: column;
                min-height: calc(100vh - 60px);
            }

            .login-left {
                min-height: 200px;
                padding: 30px 20px;
            }

            .login-left h2 {
                font-size: 24px !important;
            }

            .login-left p {
                font-size: 14px !important;
            }

            .login-right {
                padding: 30px 20px;
                flex: 1;
                display: flex;
                justify-content: center;
            }

            .login-form {
                width: 100%;
                max-width: 100%;
            }

            /* Header Mobile */
            .header {
                padding: 15px 20px;
                flex-wrap: wrap;
                gap: 10px;
            }

            .logo {
                font-size: 20px;
            }

            .logo span {
                font-size: 24px !important;
            }

            /* Search Bar Mobile */
            .search-bar {
                padding: 20px 15px;
            }

            .search-input {
                font-size: 16px;
                padding: 12px 16px;
                margin-bottom: 15px;
            }

            .categories {
                gap: 8px;
                overflow-x: auto;
                padding-bottom: 5px;
                -webkit-overflow-scrolling: touch;
            }

            .category-chip {
                flex: 0 0 auto;
                white-space: nowrap;
                padding: 6px 12px;
                font-size: 12px;
            }

            /* Products Grid Mobile */
            .products-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 20px 15px;
            }

            .product-card {
                border-radius: 12px;
            }

            .product-image {
                height: 180px;
                font-size: 36px;
            }

            .product-info {
                padding: 15px;
            }

            .product-title {
                font-size: 16px;
            }

            /* Product Detail Mobile */
            .product-detail {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px 15px;
            }

            .main-image {
                height: 300px;
                font-size: 48px;
            }

            .image-thumbnails {
                overflow-x: auto;
                padding-bottom: 5px;
            }

            .thumbnail {
                flex: 0 0 auto;
            }

            .detail-info h1 {
                font-size: 24px;
            }

            .user-info {
                padding: 15px;
                margin: 15px 0;
            }

            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .action-buttons .btn-primary,
            .action-buttons .btn-secondary {
                width: 100%;
                text-align: center;
            }

            /* Upload Form Mobile */
            .upload-form {
                margin: 15px;
                padding: 20px 15px;
                border-radius: 12px;
            }

            .upload-area {
                padding: 40px 15px;
                margin-bottom: 20px;
            }

            .upload-area div:first-child {
                font-size: 36px !important;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .form-control,
            select.form-control {
                font-size: 16px;
                padding: 12px 15px;
            }

            textarea.form-control {
                min-height: 100px;
            }

            /* Transaction Type Mobile */
            .form-row label[style*="display: flex"] {
                padding: 10px 8px !important;
                font-size: 12px;
                text-align: center;
            }

            #swap-section,
            #sell-section {
                padding: 15px;
                margin: 15px 0;
            }

            /* Interactions Mobile */
            .interactions-container {
                padding: 15px;
            }

            /* Accept Proposal Mobile Enhancements */
            #accept-proposal .header {
                padding: 15px 20px;
            }

            #accept-proposal .header>div:last-child {
                flex-direction: column;
                gap: 10px;
            }

            #accept-proposal .header>div:last-child button {
                width: 100%;
                text-align: center;
                padding: 12px 16px;
                font-size: 14px;
            }

            #accept-proposal .interactions-container {
                padding: 15px;
            }

            #accept-proposal .interactions-container>div {
                margin-bottom: 20px;
                padding: 20px 15px;
                border-radius: 15px;
            }

            #accept-proposal .interactions-container h1 {
                font-size: 24px !important;
            }

            #accept-proposal .interactions-container h2 {
                font-size: 20px !important;
            }

            #accept-proposal .interactions-container .exchange-arrow {
                font-size: 24px !important;
            }

            /* Header buttons mobile */
            .header>div:last-child {
                flex-direction: column;
                gap: 10px;
            }

            .header>div:last-child button {
                width: 100%;
                text-align: center;
                padding: 12px 16px;
                font-size: 14px;
            }

            .interaction-card {
                padding: 20px 15px;
                border-radius: 12px;
                margin-bottom: 15px;
            }

            .interaction-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                margin-bottom: 15px;
            }

            .interaction-products {
                flex-direction: column;
                gap: 15px;
                margin: 15px 0;
            }

            .mini-product {
                background: #f8f9fa;
                padding: 12px;
                border-radius: 8px;
            }

            .exchange-arrow {
                align-self: center;
                transform: rotate(90deg);
            }

            .interaction-card>div:last-child {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .interaction-card>div:last-child button {
                width: 100%;
                text-align: center;
            }

            /* Form Elements Mobile */
            .btn-primary,
            .btn-secondary {
                padding: 14px 20px;
                font-size: 14px;
                border-radius: 25px;
                width: 100%;
                margin-bottom: 10px;
            }

            /* Better touch targets */
            button,
            .form-control,
            input[type="checkbox"],
            input[type="radio"] {
                min-height: 44px;
            }

            input[type="checkbox"],
            input[type="radio"] {
                transform: scale(1.3);
            }

            /* Spacing adjustments */
            .form-group {
                margin-bottom: 20px;
            }

            /* Header action buttons mobile */
            .header>div:last-child {
                display: flex;
                align-items: center;
                gap: 15px;
            }

            .header>div:last-child span {
                font-size: 20px;
                padding: 8px;
            }

            /* Bottom safe area for iOS */
            .mockup-screen {
                padding-bottom: constant(safe-area-inset-bottom);
                padding-bottom: env(safe-area-inset-bottom);
            }

            /* Improve readability */
            .product-location,
            .user-info>div:last-child>div:last-child {
                font-size: 12px;
            }

            .detail-badges {
                flex-wrap: wrap;
                gap: 8px;
            }

            .badge {
                font-size: 10px;
                padding: 4px 8px;
            }
        }

        /* Extra small devices */
        @media (max-width: 480px) {
            .nav-tab {
                min-width: 90px;
                padding: 10px 12px;
                font-size: 11px;
            }

            /* Accept Proposal Extra Small */
            #accept-proposal .interactions-container {
                padding: 10px;
            }

            #accept-proposal .interactions-container>div {
                padding: 15px 10px;
                margin-bottom: 15px;
            }

            #accept-proposal .interactions-container h1 {
                font-size: 20px !important;
            }

            #accept-proposal .interactions-container h2 {
                font-size: 18px !important;
            }

            #accept-proposal .interactions-container .exchange-arrow {
                font-size: 20px !important;
            }

            #accept-proposal .interactions-container .exchange-arrow+div {
                font-size: 10px !important;
            }

            .logo {
                font-size: 18px;
            }

            .products-grid {
                padding: 15px 10px;
            }

            .product-detail,
            .upload-form,
            .interactions-container {
                padding: 15px 10px;
            }

            .login-right,
            .login-left {
                padding: 20px 15px;
            }

            .search-input {
                font-size: 16px;
                /* Prevents zoom on iOS */
            }

            .detail-info h1 {
                font-size: 20px;
            }

            .interaction-products {
                gap: 10px;
            }

            .mini-product {
                padding: 10px;
            }

            /* Profile Stats Extra Small */
            #profile .main-stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }

            #profile .main-stats-grid>div {
                padding: 20px 15px !important;
            }

            #profile .main-stats-grid>div>div:first-child {
                font-size: 32px !important;
            }

            #profile .detailed-stats-section {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }

            #profile .quick-stats-row {
                grid-template-columns: 1fr !important;
                gap: 12px !important;
            }

            #profile .quick-stats-row>div {
                padding: 15px 12px !important;
            }

            #profile .stats-header h2 {
                font-size: 20px !important;
            }

            #profile .stats-header p {
                font-size: 13px !important;
            }
        }

        /* CSS Animations for Chat */
        @keyframes typing {

            0%,
            60%,
            100% {
                transform: translateY(0);
                opacity: 0.5;
            }

            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Enhanced Animations for Accept Proposal */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Profile Stats Animations */
        @keyframes slideInFromBottom {
            from {
                transform: translateY(30px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Profile Stats Hover Effects */
        #profile .stats-card {
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease-out;
        }

        #profile .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        #profile .main-stats-grid>div {
            animation: scaleIn 0.5s ease-out;
        }

        #profile .main-stats-grid>div:nth-child(1) {
            animation-delay: 0.1s;
        }

        #profile .main-stats-grid>div:nth-child(2) {
            animation-delay: 0.2s;
        }

        #profile .main-stats-grid>div:nth-child(3) {
            animation-delay: 0.3s;
        }

        #profile .main-stats-grid>div:nth-child(4) {
            animation-delay: 0.4s;
        }

        #profile .detailed-stats-section>div {
            animation: slideInFromBottom 0.6s ease-out;
        }

        #profile .detailed-stats-section>div:nth-child(1) {
            animation-delay: 0.2s;
        }

        #profile .detailed-stats-section>div:nth-child(2) {
            animation-delay: 0.4s;
        }

        #profile .quick-stats-row>div {
            animation: fadeInUp 0.5s ease-out;
        }

        #profile .quick-stats-row>div:nth-child(1) {
            animation-delay: 0.3s;
        }

        #profile .quick-stats-row>div:nth-child(2) {
            animation-delay: 0.4s;
        }

        #profile .quick-stats-row>div:nth-child(3) {
            animation-delay: 0.5s;
        }

        #profile .quick-stats-row>div:nth-child(4) {
            animation-delay: 0.6s;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 6px 20px rgba(46, 204, 113, 0.3);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 6px 20px rgba(46, 204, 113, 0.3);
            }
        }

        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeInScale {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .chat-container {
            scrollbar-width: thin;
            scrollbar-color: #bdc3c7 transparent;
        }

        .chat-container::-webkit-scrollbar {
            width: 4px;
        }

        .chat-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-container::-webkit-scrollbar-thumb {
            background: #bdc3c7;
            border-radius: 2px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showScreen('login')">Inicio de Sesi√≥n</button>
            <button class="nav-tab" onclick="showScreen('register')">Registro</button>
            <button class="nav-tab" onclick="showScreen('home')">P√°gina Principal</button>
            <button class="nav-tab" onclick="showScreen('detail')">Detalle Producto</button>
            <button class="nav-tab" onclick="showScreen('upload')">Subir Producto</button>
            <button class="nav-tab" onclick="showScreen('interactions')">Interacciones</button>
            <button class="nav-tab" onclick="showScreen('chat')">Chat</button>
            <button class="nav-tab" onclick="showScreen('profile')">Mi Perfil</button>
            <button class="nav-tab" onclick="showScreen('about')">Acerca de</button>
        </div>

        <!-- Accept Proposal Screen -->
        <div id="accept-proposal" class="mockup-screen">
            <!-- Ultra Modern Header with Enhanced Progress Indicator -->
            <div class="header"
                style="position: relative; overflow: hidden; background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); border-radius: 0 0 30px 30px;">
                <!-- Animated Background Elements -->
                <div
                    style="position: absolute; top: -50px; left: -50px; width: 150px; height: 150px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 10s ease-in-out infinite;">
                </div>
                <div
                    style="position: absolute; bottom: -30px; right: -30px; width: 120px; height: 120px; background: rgba(255,255,255,0.08); border-radius: 50%; animation: float 8s ease-in-out infinite reverse;">
                </div>
                <div
                    style="position: absolute; top: 50%; left: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.05); border-radius: 50%; animation: float 6s ease-in-out infinite;">
                </div>

                <div class="logo" style="position: relative; z-index: 2;">
                    <span style="font-size: 36px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));">üå±</span>
                    <span
                        style="font-size: 32px; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.2);">EcoSwap</span>
                </div>
                <div style="display: flex; align-items: center; gap: 20px; position: relative; z-index: 2;">
                    <button class="btn-secondary" onclick="showScreen('interactions')"
                        style="display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3); backdrop-filter: blur(15px); padding: 12px 24px; border-radius: 25px; font-weight: 600; box-shadow: 0 8px 20px rgba(0,0,0,0.1); transition: all 0.3s ease;"
                        onmouseover="this.style.background='rgba(255,255,255,0.25)'; this.style.transform='translateY(-2px)'"
                        onmouseout="this.style.background='rgba(255,255,255,0.15)'; this.style.transform='translateY(0)'">
                        <span style="font-size: 20px;">‚Üê</span>
                        Volver
                    </button>
                </div>

                <!-- Enhanced Progress Bar with Glow Effect -->
                <div
                    style="position: absolute; bottom: 0; left: 0; right: 0; height: 8px; background: rgba(255,255,255,0.2); border-radius: 0 0 30px 30px;">
                    <div
                        style="height: 100%; background: linear-gradient(90deg, #2ECC71, #27AE60, #16a085, #2ECC71); width: 75%; transition: width 1s ease; border-radius: 0 0 30px 30px; box-shadow: 0 0 20px rgba(46, 204, 113, 0.6); position: relative; overflow: hidden;">
                        <div
                            style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); animation: shimmer 2s infinite;">
                        </div>
                    </div>
                </div>
            </div>

            <div style="max-width: 1000px; margin: 0 auto; padding: 40px;">
                <!-- Ultra Modern Success Header with Premium Design -->
                <div
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); color: white; padding: 60px; border-radius: 35px; text-align: center; margin-bottom: 40px; position: relative; overflow: hidden; box-shadow: 0 25px 50px rgba(102, 126, 234, 0.4); border: 1px solid rgba(255,255,255,0.2);">
                    <!-- Premium Background Elements -->
                    <div
                        style="position: absolute; top: -40px; left: -40px; width: 120px; height: 120px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 12s ease-in-out infinite; backdrop-filter: blur(10px);">
                    </div>
                    <div
                        style="position: absolute; bottom: -50px; right: -50px; width: 140px; height: 140px; background: rgba(255,255,255,0.08); border-radius: 50%; animation: float 15s ease-in-out infinite reverse; backdrop-filter: blur(10px);">
                    </div>
                    <div
                        style="position: absolute; top: 50%; left: -30px; width: 100px; height: 100px; background: rgba(255,255,255,0.05); border-radius: 50%; animation: float 8s ease-in-out infinite; backdrop-filter: blur(10px);">
                    </div>

                    <!-- Premium Icon with Glow Effect -->
                    <div
                        style="font-size: 80px; margin-bottom: 30px; animation: bounce 3s ease-in-out infinite; filter: drop-shadow(0 0 20px rgba(255,255,255,0.5));">
                        üéØ</div>

                    <!-- Premium Typography -->
                    <h1
                        style="font-size: 42px; margin-bottom: 30px; font-weight: 900; text-shadow: 0 4px 8px rgba(0,0,0,0.3); letter-spacing: -0.5px; background: linear-gradient(45deg, #ffffff, #f0f0f0); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; line-height: 1.2;">
                        ¬°Confirmar Intercambio!
                    </h1>
                    <p
                        style="font-size: 22px; opacity: 0.95; line-height: 1.8; margin-bottom: 35px; max-width: 700px; margin-left: auto; margin-right: auto; font-weight: 400; letter-spacing: 0.2px;">
                        Est√°s a punto de completar este intercambio con Carlos. Revisa todos los detalles antes de
                        confirmar.
                    </p>

                    <!-- Premium Status Badge with Glassmorphism -->
                    <div
                        style="display: inline-block; background: rgba(255,255,255,0.15); padding: 15px 30px; border-radius: 30px; backdrop-filter: blur(20px); border: 2px solid rgba(255,255,255,0.3); box-shadow: 0 15px 35px rgba(0,0,0,0.2); position: relative; overflow: hidden;">
                        <div
                            style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); animation: shimmer 3s infinite;">
                        </div>
                        <span
                            style="font-weight: 800; font-size: 16px; letter-spacing: 1px; position: relative; z-index: 1;">PASO
                            3 DE 4</span>
                    </div>
                </div>

                <!-- Premium Exchange Summary with Ultra Modern Design -->
                <div
                    style="background: white; margin-bottom: 40px; padding: 45px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.12); border: 1px solid #f0f0f0; position: relative; overflow: hidden;">
                    <!-- Premium Background Pattern -->
                    <div
                        style="position: absolute; top: 0; right: 0; width: 250px; height: 250px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.03) 0%, rgba(118, 75, 162, 0.03) 100%); border-radius: 50%; transform: translate(50%, -50%);">
                    </div>
                    <div
                        style="position: absolute; bottom: 0; left: 0; width: 200px; height: 200px; background: linear-gradient(135deg, rgba(46, 204, 113, 0.03) 0%, rgba(39, 174, 96, 0.03) 100%); border-radius: 50%; transform: translate(-50%, 50%);">
                    </div>

                    <div
                        style="display: flex; align-items: center; gap: 20px; margin-bottom: 40px; position: relative; z-index: 1;">
                        <div
                            style="width: 70px; height: 70px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; box-shadow: 0 12px 25px rgba(102, 126, 234, 0.4); border: 3px solid rgba(255,255,255,0.2);">
                            üîÑ
                        </div>
                        <div>
                            <h2
                                style="color: #2c3e50; margin: 0 0 16px 0; font-size: 32px; font-weight: 900; letter-spacing: -0.5px; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; line-height: 1.3;">
                                Resumen del Intercambio
                            </h2>
                            <p
                                style="color: #7f8c8d; margin: 0; font-size: 18px; font-weight: 400; line-height: 1.6; letter-spacing: 0.1px;">
                                Revisa los
                                productos y participantes del intercambio</p>
                        </div>
                    </div>

                    <!-- Premium Participants Grid with Ultra Modern Cards -->
                    <div
                        style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 40px; margin-bottom: 40px; align-items: center;">
                        <!-- Carlos Mendoza - Premium Card -->
                        <div style="text-align: center; padding: 35px; background: linear-gradient(135deg, #fff8f0, #fff5e6); border-radius: 30px; border: 3px solid #ffeaa7; position: relative; transition: all 0.5s ease; cursor: pointer; box-shadow: 0 15px 35px rgba(230, 126, 34, 0.15); overflow: hidden;"
                            onmouseover="this.style.transform='translateY(-10px) scale(1.02)'; this.style.boxShadow='0 25px 50px rgba(230, 126, 34, 0.25)'"
                            onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 15px 35px rgba(230, 126, 34, 0.15)'">

                            <!-- Premium Background Pattern -->
                            <div
                                style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: linear-gradient(135deg, rgba(230, 126, 34, 0.1), rgba(211, 84, 0, 0.1)); border-radius: 50%;">
                            </div>

                            <!-- Premium Status Badge -->
                            <div
                                style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #E67E22, #D35400); color: white; padding: 12px 24px; border-radius: 25px; font-size: 14px; font-weight: 700; box-shadow: 0 8px 20px rgba(230, 126, 34, 0.4); letter-spacing: 0.5px; border: 2px solid rgba(255,255,255,0.3); backdrop-filter: blur(10px);">
                                OFRECE
                            </div>

                            <!-- Premium Avatar with Glow Effect -->
                            <div
                                style="width: 100px; height: 100px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 36px; font-weight: 800; margin: 0 auto 25px auto; box-shadow: 0 15px 35px rgba(230, 126, 34, 0.5); border: 4px solid white; position: relative; overflow: hidden;">
                                <div
                                    style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); animation: shimmer 4s infinite;">
                                </div>
                                <span style="position: relative; z-index: 1;">CM</span>
                            </div>

                            <!-- Premium User Info -->
                            <h3
                                style="color: #2c3e50; margin-bottom: 12px; font-size: 22px; font-weight: 800; letter-spacing: -0.5px; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                Carlos Mendoza
                            </h3>
                            <div
                                style="color: #E67E22; font-size: 15px; margin-bottom: 20px; font-weight: 700; background: rgba(230, 126, 34, 0.1); padding: 8px 18px; border-radius: 20px; display: inline-block; border: 1px solid rgba(230, 126, 34, 0.2); box-shadow: 0 4px 15px rgba(230, 126, 34, 0.1);">
                                ‚≠ê 4.6 ‚Ä¢ 15 intercambios
                            </div>

                            <!-- Premium Product Card -->
                            <div
                                style="background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); border: 2px solid #ffeaa7; transition: all 0.3s ease; position: relative; overflow: hidden;">
                                <!-- Premium Background Pattern -->
                                <div
                                    style="position: absolute; top: -15px; right: -15px; width: 60px; height: 60px; background: linear-gradient(135deg, rgba(230, 126, 34, 0.05), rgba(211, 84, 0, 0.05)); border-radius: 50%;">
                                </div>

                                <div
                                    style="width: 80px; height: 80px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 32px; margin: 0 auto 18px auto; border: 3px solid #ffeaa7; box-shadow: 0 8px 20px rgba(0,0,0,0.1); position: relative; overflow: hidden;">
                                    <div
                                        style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent); animation: shimmer 3s infinite;">
                                    </div>
                                    <span style="position: relative; z-index: 1;">üíª</span>
                                </div>
                                <div
                                    style="font-weight: 800; color: #2c3e50; font-size: 18px; margin-bottom: 12px; letter-spacing: -0.2px; line-height: 1.3;">
                                    MacBook Air M1
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 12px; line-height: 1.4;">
                                    2021, 256GB SSD</div>
                                <div
                                    style="color: #27AE60; font-size: 13px; font-weight: 700; margin-top: 12px; background: rgba(39, 174, 96, 0.1); padding: 8px 16px; border-radius: 15px; display: inline-block; border: 1px solid rgba(39, 174, 96, 0.2); line-height: 1.4;">
                                    Excelente estado
                                </div>
                            </div>

                            <!-- Premium Action Buttons -->
                            <div style="display: flex; gap: 12px; margin-top: 25px; justify-content: center;">
                                <button onclick="viewUserProfile('carlos')"
                                    style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 10px 18px; border-radius: 20px; font-size: 13px; cursor: pointer; font-weight: 700; box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4); transition: all 0.3s ease; display: flex; align-items: center; gap: 6px; border: 2px solid rgba(255,255,255,0.2);"
                                    onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 25px rgba(52, 152, 219, 0.5)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(52, 152, 219, 0.4)'">
                                    üë§ Perfil
                                </button>
                                <button onclick="startChat('carlos')"
                                    style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 10px 18px; border-radius: 20px; font-size: 13px; cursor: pointer; font-weight: 700; box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4); transition: all 0.3s ease; display: flex; align-items: center; gap: 6px; border: 2px solid rgba(255,255,255,0.2);"
                                    onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 25px rgba(46, 204, 113, 0.5)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(46, 204, 113, 0.4)'">
                                    üí¨ Chat
                                </button>
                            </div>
                        </div>

                        <!-- Premium Exchange Arrow with Ultra Modern Design -->
                        <div
                            style="display: flex; flex-direction: column; align-items: center; gap: 25px; position: relative;">
                            <!-- Premium Exchange Icon with Glow Effect -->
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; box-shadow: 0 15px 35px rgba(102, 126, 234, 0.5); animation: pulse 3s ease-in-out infinite; border: 3px solid rgba(255,255,255,0.3); position: relative; overflow: hidden;">
                                <div
                                    style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); animation: shimmer 4s infinite;">
                                </div>
                                <span style="position: relative; z-index: 1;">üîÑ</span>
                            </div>

                            <!-- Premium Exchange Arrow -->
                            <div
                                style="font-size: 48px; color: #667eea; animation: bounce 3s ease-in-out infinite; filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.4));">
                                üîÑ
                            </div>

                            <!-- Premium Exchange Label -->
                            <div
                                style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px 25px; border-radius: 25px; font-size: 14px; font-weight: 800; box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); letter-spacing: 0.8px; border: 2px solid rgba(255,255,255,0.3); backdrop-filter: blur(10px);">
                                INTERCAMBIO
                            </div>

                            <!-- Premium Exchange Status -->
                            <div
                                style="text-align: center; padding: 12px 20px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 15px; border: 2px solid #d1ecf1; box-shadow: 0 8px 20px rgba(52, 152, 219, 0.15); position: relative; overflow: hidden;">
                                <div
                                    style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent, rgba(52, 152, 219, 0.05), transparent); animation: shimmer 3s infinite;">
                                </div>
                                <div
                                    style="color: #3498DB; font-weight: 700; font-size: 12px; position: relative; z-index: 1;">
                                    ESTADO</div>
                                <div
                                    style="color: #2980B9; font-size: 11px; font-weight: 600; position: relative; z-index: 1;">
                                    PENDIENTE</div>
                            </div>

                            <!-- Premium Progress Indicator -->
                            <div
                                style="background: rgba(102, 126, 234, 0.1); padding: 10px 20px; border-radius: 20px; border: 2px solid rgba(102, 126, 234, 0.2); box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);">
                                <div style="color: #667eea; font-size: 12px; font-weight: 700; letter-spacing: 0.5px;">
                                    75% Completado</div>
                            </div>
                        </div>

                        <!-- You - Enhanced -->
                        <div style="text-align: center; padding: 25px; background: linear-gradient(135deg, #f0fff4, #e6fffa); border-radius: 20px; border: 2px solid #a8e6cf; position: relative; transition: all 0.3s ease; cursor: pointer;"
                            onmouseover="this.style.transform='translateY(-5px)'"
                            onmouseout="this.style.transform='translateY(0)'">
                            <div
                                style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 8px 16px; border-radius: 15px; font-size: 12px; font-weight: 600; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);">
                                ENTREGAS
                            </div>

                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; margin: 0 auto 20px auto; box-shadow: 0 8px 20px rgba(46, 204, 113, 0.3);">
                                MJ
                            </div>

                            <h3 style="color: #34495E; margin-bottom: 8px; font-size: 18px; font-weight: 700;">Mar√≠a
                                Jos√© (T√∫)</h3>
                            <div
                                style="color: #27AE60; font-size: 13px; margin-bottom: 15px; font-weight: 600; background: rgba(46, 204, 113, 0.1); padding: 4px 12px; border-radius: 12px; display: inline-block;">
                                ‚≠ê 4.8 ‚Ä¢ 23 intercambios
                            </div>

                            <div
                                style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #a8e6cf;">
                                <div
                                    style="width: 60px; height: 60px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 12px auto; border: 2px solid #a8e6cf;">
                                    üì±
                                </div>
                                <div style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 5px;">
                                    iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 12px;">128GB, Azul Pac√≠fico</div>
                                <div style="color: #27AE60; font-size: 11px; font-weight: 600; margin-top: 5px;">95%
                                    bater√≠a</div>
                            </div>

                            <!-- Quick Actions -->
                            <div style="margin-top: 15px; display: flex; gap: 8px; justify-content: center;">
                                <button onclick="editMyProduct()"
                                    style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 6px 12px; border-radius: 10px; font-size: 11px; cursor: pointer; font-weight: 600; box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                    ‚úèÔ∏è Editar
                                </button>
                                <button onclick="addPhotos()"
                                    style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 6px 12px; border-radius: 10px; font-size: 11px; cursor: pointer; font-weight: 600; box-shadow: 0 2px 8px rgba(46, 204, 113, 0.3); transition: all 0.3s ease;">
                                    üì∑ Fotos
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Original Message -->
                    <div
                        style="background: linear-gradient(135deg, #f8fff8, #f0fff4); padding: 20px; border-radius: 15px; border-left: 4px solid #2ECC71; margin-bottom: 25px; position: relative; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.1);">
                        <div
                            style="position: absolute; top: -10px; left: 20px; background: #2ECC71; color: white; padding: 4px 12px; border-radius: 10px; font-size: 11px; font-weight: 600;">
                            üí¨ MENSAJE ORIGINAL
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                            <div
                                style="width: 40px; height: 40px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: bold;">
                                CM
                            </div>
                            <div>
                                <div style="color: #27AE60; font-weight: 700; margin-bottom: 3px; font-size: 14px;">
                                    Carlos Mendoza</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Hace 2 horas</div>
                            </div>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 12px; border: 1px solid #e8f5e8;">
                            <p
                                style="color: #34495E; margin: 0; font-size: 15px; line-height: 1.6; font-style: italic;">
                                "¬°Hola! Me interesa mucho tu iPhone. Mi MacBook est√° en excelente estado, apenas 6 meses
                                de
                                uso. ¬øPodemos coordinar para vernos?"
                            </p>
                        </div>
                    </div>

                    <!-- Enhanced Exchange Value Estimation -->
                    <div
                        style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); padding: 25px; border-radius: 15px; border: 1px solid #d1ecf1; position: relative; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.1);">
                        <div
                            style="position: absolute; top: -12px; left: 25px; background: linear-gradient(135deg, #3498DB, #2980B9); color: white; padding: 6px 15px; border-radius: 12px; font-size: 12px; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);">
                            üí∞ AN√ÅLISIS DE VALOR
                        </div>

                        <div
                            style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; align-items: center; margin-bottom: 15px;">
                            <div
                                style="text-align: center; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #d1ecf1;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üíª</div>
                                <div style="color: #3498DB; font-weight: 700; font-size: 18px; margin-bottom: 5px;">
                                    $2,200,000</div>
                                <div style="color: #2980B9; font-size: 13px; font-weight: 600;">MacBook Air M1</div>
                                <div style="color: #7f8c8d; font-size: 11px;">2021, 256GB SSD</div>
                            </div>

                            <div style="text-align: center;">
                                <div style="font-size: 36px; color: #3498DB; margin-bottom: 5px;">‚âà</div>
                                <div
                                    style="background: #3498DB; color: white; padding: 4px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                    EQUILIBRADO
                                </div>
                            </div>

                            <div
                                style="text-align: center; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #d1ecf1;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üì±</div>
                                <div style="color: #3498DB; font-weight: 700; font-size: 18px; margin-bottom: 5px;">
                                    $2,100,000</div>
                                <div style="color: #2980B9; font-size: 13px; font-weight: 600;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 11px;">128GB, Azul</div>
                            </div>
                        </div>

                        <div
                            style="text-align: center; background: white; padding: 12px; border-radius: 10px; border: 1px solid #d1ecf1;">
                            <div style="color: #27AE60; font-weight: 600; font-size: 13px; margin-bottom: 3px;">‚úÖ
                                Intercambio Equilibrado</div>
                            <div style="color: #2980B9; font-size: 12px;">Diferencia de valor: ~5% ‚Ä¢ Recomendado por
                                EcoSwap</div>
                        </div>
                    </div>
                </div>

                <!-- Meeting Coordination -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            üìç</div>
                        <h2 style="color: #34495E; margin: 0; font-size: 22px; font-weight: 700;">Coordinar Encuentro
                        </h2>
                    </div>

                    <!-- Location Selection with Map Preview -->
                    <div style="margin-bottom: 25px;">
                        <label
                            style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                            üó∫Ô∏è Lugar de Encuentro</label>
                        <div style="display: grid; grid-template-columns: 1fr auto; gap: 15px; align-items: start;">
                            <select id="meeting-location" onchange="updateLocationPreview()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="pereira-plaza" selected>üè¢ Centro Comercial Pereira Plaza</option>
                                <option value="parque-arboleda">üå≥ Parque Arboleda</option>
                                <option value="universidad">üéì Universidad Tecnol√≥gica</option>
                                <option value="starbucks">‚òï Starbucks Centro</option>
                                <option value="plaza-bolivar">üèõÔ∏è Plaza de Bol√≠var</option>
                                <option value="custom">üìç Otro lugar (especificar)</option>
                            </select>
                            <button onclick="openLocationPicker()"
                                style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 12px 16px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                üó∫Ô∏è Mapa
                            </button>
                        </div>

                        <!-- Location Preview -->
                        <div id="location-preview"
                            style="margin-top: 15px; padding: 15px; background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; border: 1px solid #e8e8e8;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div
                                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                    üè¢</div>
                                <div>
                                    <div style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 3px;">
                                        Centro Comercial Pereira Plaza</div>
                                    <div style="color: #7f8c8d; font-size: 12px;">üìç Calle 15 #23-45, Centro, Pereira
                                    </div>
                                    <div style="color: #27AE60; font-size: 11px; font-weight: 600;">‚úÖ Lugar p√∫blico y
                                        seguro</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Date and Time Selection -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üìÖ Fecha del Encuentro</label>
                            <input type="date" id="meeting-date" onchange="updateDateInfo()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                min="2024-09-01" onfocus="this.style.borderColor='#3498DB'"
                                onblur="this.style.borderColor='#e0e0e0'">

                            <!-- Date Info -->
                            <div id="date-info"
                                style="margin-top: 8px; padding: 8px 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 8px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 11px;">üìÖ S√°bado, 14 de
                                    Septiembre</div>
                                <div style="color: #2980B9; font-size: 10px;">‚è∞ En 3 d√≠as</div>
                            </div>
                        </div>

                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üïê Hora del Encuentro</label>
                            <select id="meeting-time" onchange="updateTimeInfo()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="09:00">üåÖ 09:00 AM</option>
                                <option value="10:00">üåÖ 10:00 AM</option>
                                <option value="11:00">üåÖ 11:00 AM</option>
                                <option value="14:00">‚òÄÔ∏è 02:00 PM</option>
                                <option value="15:00" selected>‚òÄÔ∏è 03:00 PM</option>
                                <option value="16:00">‚òÄÔ∏è 04:00 PM</option>
                                <option value="17:00">üåÜ 05:00 PM</option>
                                <option value="18:00">üåÜ 06:00 PM</option>
                            </select>

                            <!-- Time Info -->
                            <div id="time-info"
                                style="margin-top: 8px; padding: 8px 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 8px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 11px;">‚òÄÔ∏è Tarde (15:00)</div>
                                <div style="color: #2980B9; font-size: 10px;">‚è±Ô∏è Duraci√≥n: 30 min</div>
                            </div>
                        </div>
                    </div>

                    <!-- Duration and Notes -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                ‚è±Ô∏è Duraci√≥n Estimada</label>
                            <select id="meeting-duration" onchange="updateDurationInfo()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="15">‚ö° 15 minutos</option>
                                <option value="30" selected>‚ö° 30 minutos</option>
                                <option value="45">‚ö° 45 minutos</option>
                                <option value="60">‚ö° 1 hora</option>
                            </select>
                        </div>

                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üì± Tu Tel√©fono de Contacto</label>
                            <input type="tel" id="contact-phone" placeholder="+57 300 123 4567"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                        </div>
                    </div>

                    <!-- Additional Notes -->
                    <div style="margin-bottom: 25px;">
                        <label
                            style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                            üí¨ Notas Adicionales para Carlos</label>
                        <textarea id="meeting-notes"
                            placeholder="Ej: Nos vemos en la entrada principal del centro comercial. Llevar√© una camisa azul. Mi tel√©fono: +57 300 123 4567"
                            style="width: 100%; min-height: 100px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical; transition: border-color 0.3s ease;"
                            onfocus="this.style.borderColor='#3498DB'"
                            onblur="this.style.borderColor='#e0e0e0'"></textarea>

                        <!-- Character Counter -->
                        <div style="margin-top: 8px; text-align: right;">
                            <span id="notes-count" style="color: #7f8c8d; font-size: 12px;">0/500 caracteres</span>
                        </div>
                    </div>

                    <!-- Enhanced Safety Recommendations -->
                    <div
                        style="background: linear-gradient(135deg, #FFF2CC, #FFEAA7); padding: 20px; border-radius: 15px; border: 2px solid #F39C12; position: relative; overflow: hidden;">
                        <div
                            style="position: absolute; top: -10px; right: -10px; width: 40px; height: 40px; background: rgba(243, 156, 18, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;">
                            üõ°Ô∏è</div>

                        <div style="color: #F39C12; font-weight: 700; margin-bottom: 15px; font-size: 16px;">üõ°Ô∏è
                            Recomendaciones de Seguridad</div>

                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #F39C12;">
                                <div style="color: #F39C12; font-weight: 600; font-size: 13px; margin-bottom: 8px;">üìç
                                    Lugar Seguro</div>
                                <div style="color: #E67E22; font-size: 12px;">Encuentra en lugares p√∫blicos y seguros
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #F39C12;">
                                <div style="color: #F39C12; font-weight: 600; font-size: 13px; margin-bottom: 8px;">üë•
                                    Informar</div>
                                <div style="color: #E67E22; font-size: 12px;">Informa a alguien sobre tu encuentro</div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #F39C12;">
                                <div style="color: #F39C12; font-weight: 600; font-size: 13px; margin-bottom: 8px;">üîç
                                    Verificar</div>
                                <div style="color: #E67E22; font-size: 12px;">Verifica el producto antes de intercambiar
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #F39C12;">
                                <div style="color: #F39C12; font-weight: 600; font-size: 13px; margin-bottom: 8px;">üí¨
                                    Comunicaci√≥n</div>
                                <div style="color: #E67E22; font-size: 12px;">Mant√©n comunicaci√≥n a trav√©s de EcoSwap
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Verification -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üîç Verificaci√≥n de Productos</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <!-- Carlos's Product -->
                        <div style="border: 1px solid #e0e0e0; border-radius: 12px; padding: 15px;">
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 16px; text-align: center;">
                                MacBook de Carlos</h3>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">
                                    Detalles verificados:</div>
                                <ul style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px;">
                                    <li>‚úÖ Modelo: MacBook Air M1 (2021)</li>
                                    <li>‚úÖ Almacenamiento: 256GB SSD</li>
                                    <li>‚úÖ Estado: Excelente</li>
                                    <li>‚úÖ Incluye: Cargador original</li>
                                    <li>‚è≥ Bater√≠a: Por verificar</li>
                                </ul>
                            </div>
                            <button onclick="requestMorePhotos('carlos')"
                                style="width: 100%; background: #3498DB; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 12px;">üì∏
                                Solicitar m√°s fotos</button>
                        </div>

                        <!-- Your Product -->
                        <div style="border: 1px solid #e0e0e0; border-radius: 12px; padding: 15px;">
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 16px; text-align: center;">Tu
                                iPhone</h3>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">Tu
                                    producto incluye:</div>
                                <ul style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px;">
                                    <li>‚úÖ iPhone 12 Pro - 128GB</li>
                                    <li>‚úÖ Color: Azul Pac√≠fico</li>
                                    <li>‚úÖ Estado: Excelente (95% bater√≠a)</li>
                                    <li>‚úÖ Incluye: Cargador + protector</li>
                                    <li>‚úÖ Sin iCloud lock</li>
                                </ul>
                            </div>
                            <button onclick="addMorePhotos()"
                                style="width: 100%; background: #2ECC71; color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 12px;">üì∑
                                Agregar m√°s fotos</button>
                        </div>
                    </div>

                    <!-- Verification Checklist -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                        <div style="font-weight: 600; color: #34495E; margin-bottom: 15px; font-size: 16px;">‚òëÔ∏è Lista de
                            Verificaci√≥n para el Encuentro</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">
                                    Verificar MacBook:</div>
                                <ul
                                    style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px; line-height: 1.4;">
                                    <li>Encendido y funcionamiento</li>
                                    <li>Pantalla sin rayones</li>
                                    <li>Teclado y trackpad</li>
                                    <li>Puertos y conectividad</li>
                                    <li>Bater√≠a y carga</li>
                                </ul>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">
                                    Preparar iPhone:</div>
                                <ul
                                    style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px; line-height: 1.4;">
                                    <li>Cerrar sesi√≥n de iCloud</li>
                                    <li>Restablecer configuraci√≥n</li>
                                    <li>Limpiar datos personales</li>
                                    <li>Verificar desbloqueo</li>
                                    <li>Incluir accesorios</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Terms and Agreements -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã T√©rminos del Intercambio</h2>

                    <div style="space-y: 15px;">
                        <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 15px;">
                            <input type="checkbox" id="verify-condition"
                                style="margin-top: 2px; transform: scale(1.2);">
                            <label for="verify-condition"
                                style="color: #34495E; font-size: 14px; line-height: 1.5; cursor: pointer;">
                                <strong>Verificaci√≥n de Estado:</strong> Acepto que ambos productos est√°n en las
                                condiciones descritas y tengo derecho a verificar el producto antes de completar el
                                intercambio.
                            </label>
                        </div>

                        <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 15px;">
                            <input type="checkbox" id="meeting-safety" style="margin-top: 2px; transform: scale(1.2);">
                            <label for="meeting-safety"
                                style="color: #34495E; font-size: 14px; line-height: 1.5; cursor: pointer;">
                                <strong>Seguridad del Encuentro:</strong> Me comprometo a encontrarme en un lugar
                                p√∫blico y seguro, y a seguir las recomendaciones de seguridad de EcoSwap.
                            </label>
                        </div>

                        <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 15px;">
                            <input type="checkbox" id="communication-platform"
                                style="margin-top: 2px; transform: scale(1.2);">
                            <label for="communication-platform"
                                style="color: #34495E; font-size: 14px; line-height: 1.5; cursor: pointer;">
                                <strong>Comunicaci√≥n:</strong> Mantendr√© la comunicaci√≥n principal a trav√©s de EcoSwap
                                hasta completar el intercambio y calificar la experiencia.
                            </label>
                        </div>

                        <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 15px;">
                            <input type="checkbox" id="no-returns" style="margin-top: 2px; transform: scale(1.2);">
                            <label for="no-returns"
                                style="color: #34495E; font-size: 14px; line-height: 1.5; cursor: pointer;">
                                <strong>Sin Devoluciones:</strong> Entiendo que una vez completado el intercambio, no
                                habr√° devoluciones salvo casos excepcionales mediados por EcoSwap.
                            </label>
                        </div>

                        <div style="display: flex; align-items: start; gap: 12px; margin-bottom: 15px;">
                            <input type="checkbox" id="rating-commitment"
                                style="margin-top: 2px; transform: scale(1.2);">
                            <label for="rating-commitment"
                                style="color: #34495E; font-size: 14px; line-height: 1.5; cursor: pointer;">
                                <strong>Calificaci√≥n Mutua:</strong> Me comprometo a calificar la experiencia de forma
                                honesta y constructiva despu√©s del intercambio.
                            </label>
                        </div>
                    </div>

                    <div
                        style="background: #E8F4FD; padding: 15px; border-radius: 10px; border-left: 4px solid #3498DB; margin-top: 20px;">
                        <div style="color: #3498DB; font-weight: 600; margin-bottom: 5px; font-size: 14px;">‚ÑπÔ∏è
                            Importante</div>
                        <p style="color: #2980B9; font-size: 13px; margin: 0; line-height: 1.5;">
                            Al aceptar este intercambio, tanto t√∫ como Carlos se comprometen a completarlo seg√∫n los
                            t√©rminos acordados.
                            EcoSwap facilitar√° la comunicaci√≥n y proporcionar√° soporte en caso de disputas.
                        </p>
                    </div>
                </div>

                <!-- Final Confirmation -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üéØ Confirmaci√≥n Final</h2>

                    <div
                        style="background: #D5FDCB; padding: 20px; border-radius: 12px; border: 1px solid #A8E6CF; margin-bottom: 20px;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <div style="font-size: 32px; margin-bottom: 10px;">ü§ù</div>
                            <div style="font-weight: 600; color: #27AE60; font-size: 18px;">¬øConfirmas este intercambio?
                            </div>
                        </div>
                        <div style="color: #27AE60; font-size: 14px; text-align: center;">
                            <strong>MacBook Air M1 (Carlos) ‚ü∑ iPhone 12 Pro (T√∫)</strong>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="showScreen('interactions')" style="min-width: 150px;">‚Üê
                            Revisar despu√©s</button>
                        <button id="final-accept-btn" onclick="confirmAcceptance()" disabled
                            style="background: #bdc3c7; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: not-allowed; font-weight: 600; min-width: 150px;">‚úÖ
                            Confirmar intercambio</button>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <p style="color: #7f8c8d; font-size: 12px; line-height: 1.5;">
                            Al confirmar, Carlos recibir√° la aceptaci√≥n inmediatamente y podr√°n coordinar los detalles
                            finales del encuentro.
                        </p>
                        <div style="margin-top: 10px;">
                            <button onclick="openNegotiationChat()"
                                style="background: #3498DB; color: white; border: none; padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 12px;">üí¨
                                Negociar detalles antes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coordinate Meeting Screen -->
        <div id="coordinate-meeting" class="mockup-screen">
            <!-- Enhanced Header with Progress Indicator -->
            <div class="header" style="position: relative; overflow: hidden;">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')"
                        style="display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 18px;">‚Üê</span>
                        Volver
                    </button>
                </div>

                <!-- Progress Bar -->
                <div
                    style="position: absolute; bottom: 0; left: 0; right: 0; height: 4px; background: rgba(255,255,255,0.3);">
                    <div
                        style="height: 100%; background: linear-gradient(90deg, #2ECC71, #27AE60); width: 100%; transition: width 0.5s ease;">
                    </div>
                </div>
            </div>

            <div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
                <!-- Enhanced Success Header with Animation -->
                <div
                    style="background: linear-gradient(135deg, #E8F4FD, #3498DB, #2980B9); color: white; padding: 40px; border-radius: 25px; text-align: center; margin-bottom: 30px; position: relative; overflow: hidden; box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);">
                    <!-- Floating Elements -->
                    <div
                        style="position: absolute; top: -20px; left: -20px; width: 60px; height: 60px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 6s ease-in-out infinite;">
                    </div>
                    <div
                        style="position: absolute; bottom: -30px; right: -30px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 8s ease-in-out infinite reverse;">
                    </div>

                    <div style="font-size: 64px; margin-bottom: 20px; animation: bounce 2s ease-in-out infinite;">ü§ù
                    </div>
                    <h1
                        style="font-size: 32px; margin-bottom: 15px; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        Coordinar Encuentro</h1>
                    <p style="font-size: 18px; opacity: 0.95; line-height: 1.6; margin-bottom: 20px;">
                        Organiza los detalles finales para completar tu intercambio
                    </p>

                    <!-- Status Badge -->
                    <div
                        style="display: inline-block; background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3);">
                        <span style="font-weight: 600; font-size: 14px;">PASO FINAL</span>
                    </div>
                </div>

                <!-- Exchange Summary Card -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            üîÑ</div>
                        <h2 style="color: #34495E; margin: 0; font-size: 22px; font-weight: 700;">Resumen del
                            Intercambio</h2>
                    </div>

                    <!-- Exchange Visual -->
                    <div
                        style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 25px; align-items: center; margin-bottom: 25px;">
                        <!-- Your Product -->
                        <div
                            style="text-align: center; background: linear-gradient(135deg, #f0fff4, #e6fffa); padding: 20px; border-radius: 15px; border: 2px solid #a8e6cf;">
                            <div style="font-size: 32px; margin-bottom: 10px;">üì±</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">iPhone
                                12 Pro</div>
                            <div style="color: #27AE60; font-size: 13px; font-weight: 600;">T√∫ entregas</div>
                        </div>

                        <!-- Exchange Arrow -->
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                            <div style="font-size: 36px; color: #2ECC71; animation: bounce 2s ease-in-out infinite;">‚ü∑
                            </div>
                            <div
                                style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 6px 12px; border-radius: 10px; font-size: 11px; font-weight: 600;">
                                INTERCAMBIO
                            </div>
                        </div>

                        <!-- Their Product -->
                        <div
                            style="text-align: center; background: linear-gradient(135deg, #fff8f0, #fff5e6); padding: 20px; border-radius: 15px; border: 2px solid #ffeaa7;">
                            <div style="font-size: 32px; margin-bottom: 10px;">üíª</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">MacBook
                                Air M1</div>
                            <div style="color: #E67E22; font-size: 13px; font-weight: 600;">Carlos entrega</div>
                        </div>
                    </div>

                    <!-- Meeting Status -->
                    <div
                        style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); padding: 15px; border-radius: 12px; border: 1px solid #d1ecf1; text-align: center;">
                        <div style="color: #3498DB; font-weight: 600; font-size: 14px; margin-bottom: 5px;">üìÖ Encuentro
                            Programado</div>
                        <div style="color: #2980B9; font-size: 12px;">S√°bado, 14 de Septiembre ‚Ä¢ 3:00 PM ‚Ä¢ Centro
                            Comercial Pereira Plaza</div>
                    </div>
                </div>

                <!-- Meeting Details Form -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            üìç</div>
                        <h2 style="color: #34495E; margin: 0; font-size: 22px; font-weight: 700;">Detalles del Encuentro
                        </h2>
                    </div>

                    <!-- Location Section -->
                    <div style="margin-bottom: 25px;">
                        <label
                            style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                            üó∫Ô∏è Lugar de Encuentro</label>
                        <div style="display: grid; grid-template-columns: 1fr auto; gap: 15px; align-items: start;">
                            <select id="meeting-location-coord" onchange="updateLocationPreviewCoord()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="pereira-plaza" selected>üè¢ Centro Comercial Pereira Plaza</option>
                                <option value="parque-arboleda">üå≥ Parque Arboleda</option>
                                <option value="universidad">üéì Universidad Tecnol√≥gica</option>
                                <option value="starbucks">‚òï Starbucks Centro</option>
                                <option value="plaza-bolivar">üèõÔ∏è Plaza de Bol√≠var</option>
                                <option value="custom">üìç Otro lugar (especificar)</option>
                            </select>
                            <button onclick="openLocationPickerCoord()"
                                style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 12px 16px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                üó∫Ô∏è Mapa
                            </button>
                        </div>

                        <!-- Location Preview -->
                        <div id="location-preview-coord"
                            style="margin-top: 15px; padding: 15px; background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 12px; border: 1px solid #e8e8e8;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div
                                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                    üè¢</div>
                                <div>
                                    <div style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 3px;">
                                        Centro Comercial Pereira Plaza</div>
                                    <div style="color: #7f8c8d; font-size: 12px;">üìç Calle 15 #23-45, Centro, Pereira
                                    </div>
                                    <div style="color: #27AE60; font-size: 11px; font-weight: 600;">‚úÖ Lugar p√∫blico y
                                        seguro</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Date and Time Section -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üìÖ Fecha del Encuentro</label>
                            <input type="date" id="meeting-date-coord" onchange="updateDateInfoCoord()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                min="2024-09-01" onfocus="this.style.borderColor='#3498DB'"
                                onblur="this.style.borderColor='#e0e0e0'">

                            <!-- Date Info -->
                            <div id="date-info-coord"
                                style="margin-top: 8px; padding: 8px 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 8px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 11px;">üìÖ S√°bado, 14 de
                                    Septiembre</div>
                                <div style="color: #2980B9; font-size: 10px;">‚è∞ En 3 d√≠as</div>
                            </div>
                        </div>

                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üïê Hora del Encuentro</label>
                            <select id="meeting-time-coord" onchange="updateTimeInfoCoord()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="09:00">üåÖ 09:00 AM</option>
                                <option value="10:00">üåÖ 10:00 AM</option>
                                <option value="11:00">üåÖ 11:00 AM</option>
                                <option value="14:00">‚òÄÔ∏è 02:00 PM</option>
                                <option value="15:00" selected>‚òÄÔ∏è 03:00 PM</option>
                                <option value="16:00">‚òÄÔ∏è 04:00 PM</option>
                                <option value="17:00">üåÜ 05:00 PM</option>
                                <option value="18:00">üåÜ 06:00 PM</option>
                            </select>

                            <!-- Time Info -->
                            <div id="time-info-coord"
                                style="margin-top: 8px; padding: 8px 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 8px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 11px;">‚òÄÔ∏è Tarde (15:00)</div>
                                <div style="color: #2980B9; font-size: 10px;">‚è±Ô∏è Duraci√≥n: 30 min</div>
                            </div>
                        </div>
                    </div>

                    <!-- Duration and Contact -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                ‚è±Ô∏è Duraci√≥n Estimada</label>
                            <select id="meeting-duration-coord" onchange="updateDurationInfoCoord()"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                                <option value="15">‚ö° 15 minutos</option>
                                <option value="30" selected>‚ö° 30 minutos</option>
                                <option value="45">‚ö° 45 minutos</option>
                                <option value="60">‚ö° 1 hora</option>
                            </select>
                        </div>

                        <div>
                            <label
                                style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                                üì± Tel√©fono de Contacto</label>
                            <input type="tel" id="contact-phone-coord" placeholder="+57 300 123 4567"
                                style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 14px; transition: border-color 0.3s ease;"
                                onfocus="this.style.borderColor='#3498DB'" onblur="this.style.borderColor='#e0e0e0'">
                        </div>
                    </div>

                    <!-- Additional Notes -->
                    <div style="margin-bottom: 25px;">
                        <label
                            style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                            üí¨ Notas para Carlos</label>
                        <textarea id="meeting-notes-coord"
                            placeholder="Ej: Nos vemos en la entrada principal del centro comercial. Llevar√© una camisa azul. Mi tel√©fono: +57 300 123 4567"
                            style="width: 100%; min-height: 100px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical; transition: border-color 0.3s ease;"
                            onfocus="this.style.borderColor='#3498DB'"
                            onblur="this.style.borderColor='#e0e0e0'"></textarea>

                        <!-- Character Counter -->
                        <div style="margin-top: 8px; text-align: right;">
                            <span id="notes-count-coord" style="color: #7f8c8d; font-size: 12px;">0/500
                                caracteres</span>
                        </div>
                    </div>

                    <!-- Meeting Preferences -->
                    <div style="margin-bottom: 25px;">
                        <label
                            style="display: block; margin-bottom: 12px; color: #34495E; font-weight: 600; font-size: 15px;">
                            ‚öôÔ∏è Preferencias del Encuentro</label>

                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <label
                                style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
                                <input type="checkbox" id="pref-photos"
                                    style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                <span style="color: #34495E; font-size: 14px;">üì∏ Tomar fotos del intercambio</span>
                            </label>

                            <label
                                style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
                                <input type="checkbox" id="pref-witness"
                                    style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                <span style="color: #34495E; font-size: 14px;">üë• Testigo presente</span>
                            </label>

                            <label
                                style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
                                <label
                                    style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
                                    <input type="checkbox" id="pref-documents"
                                        style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                    <span style="color: #34495E; font-size: 14px;">üìã Documentos de transferencia</span>
                                </label>

                                <label
                                    style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
                                    <input type="checkbox" id="pref-insurance"
                                        style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                    <span style="color: #34495E; font-size: 14px;">üõ°Ô∏è Seguro de intercambio</span>
                                </label>
                        </div>
                    </div>
                </div>

                <!-- Safety and Verification Section -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #F39C12, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            üõ°Ô∏è</div>
                        <h2 style="color: #34495E; margin: 0; font-size: 22px; font-weight: 700;">Seguridad y
                            Verificaci√≥n</h2>
                    </div>

                    <!-- Safety Checklist -->
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                        <div
                            style="background: linear-gradient(135deg, #fff8f0, #fff5e6); padding: 20px; border-radius: 15px; border: 2px solid #F39C12;">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                                <div
                                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #F39C12, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                    üìç</div>
                                <div>
                                    <div style="color: #F39C12; font-weight: 700; font-size: 14px;">Lugar Seguro</div>
                                    <div style="color: #E67E22; font-size: 12px;">Encuentra en lugares p√∫blicos</div>
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #F39C12;">
                                <ul
                                    style="color: #E67E22; font-size: 12px; margin: 0; padding-left: 15px; line-height: 1.4;">
                                    <li>Centro comercial o plaza p√∫blica</li>
                                    <li>Horario de d√≠a</li>
                                    <li>Presencia de seguridad</li>
                                </ul>
                            </div>
                        </div>

                        <div
                            style="background: linear-gradient(135deg, #f0fff4, #e6fffa); padding: 20px; border-radius: 15px; border: 2px solid #2ECC71;">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                                <div
                                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                    üîç</div>
                                <div>
                                    <div style="color: #2ECC71; font-weight: 700; font-size: 14px;">Verificaci√≥n</div>
                                    <div style="color: #27AE60; font-size: 12px;">Revisa productos antes</div>
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #2ECC71;">
                                <ul
                                    style="color: #27AE60; font-size: 12px; margin: 0; padding-left: 15px; line-height: 1.4;">
                                    <li>Estado f√≠sico del producto</li>
                                    <li>Funcionamiento b√°sico</li>
                                    <li>Accesorios incluidos</li>
                                </ul>
                            </div>
                        </div>

                        <div
                            style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); padding: 20px; border-radius: 15px; border: 2px solid #3498DB;">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                                <div
                                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                    üì±</div>
                                <div>
                                    <div style="color: #3498DB; font-weight: 700; font-size: 14px;">Comunicaci√≥n</div>
                                    <div style="color: #2980B9; font-size: 12px;">Mant√©n contacto</div>
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #3498DB;">
                                <ul
                                    style="color: #2980B9; font-size: 12px; margin: 0; padding-left: 15px; line-height: 1.4;">
                                    <li>Confirmar antes del encuentro</li>
                                    <li>Informar si hay cambios</li>
                                    <li>Usar EcoSwap para coordinar</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Checklist -->
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; border: 1px solid #e0e0e0;">
                        <div style="font-weight: 700; color: #34495E; margin-bottom: 15px; font-size: 16px;">‚òëÔ∏è Lista de
                            Verificaci√≥n para el Encuentro</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 10px; font-size: 14px;">üì±
                                    Preparar iPhone:</div>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-iphone-reset"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Cerrar sesi√≥n de iCloud</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-iphone-clean"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Limpiar datos personales</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-iphone-unlock"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Verificar desbloqueo</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-iphone-accessories"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Incluir accesorios</span>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 10px; font-size: 14px;">üíª
                                    Verificar MacBook:</div>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-macbook-power"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Encendido y funcionamiento</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Pantalla sin rayones</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-macbook-ports"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Puertos y conectividad</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                        <input type="checkbox" id="check-macbook-charger"
                                            style="width: 16px; height: 16px; accent-color: #2ECC71;">
                                        <span style="color: #7f8c8d; font-size: 13px;">Cargador incluido</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Final Confirmation -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                            üéØ</div>
                        <h2 style="color: #34495E; margin: 0; font-size: 22px; font-weight: 700;">Confirmaci√≥n Final
                        </h2>
                    </div>

                    <!-- Meeting Summary -->
                    <div
                        style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); padding: 25px; border-radius: 15px; border: 2px solid #d1ecf1; margin-bottom: 25px;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="font-size: 32px; margin-bottom: 10px;">ü§ù</div>
                            <div style="font-weight: 600; color: #3498DB; font-size: 18px;">Resumen del Encuentro</div>
                        </div>

                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 13px; margin-bottom: 5px;">üìÖ
                                    Fecha</div>
                                <div style="color: #2980B9; font-size: 12px;">S√°bado, 14 de Septiembre</div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 13px; margin-bottom: 5px;">üïê
                                    Hora</div>
                                <div style="color: #2980B9; font-size: 12px;">3:00 PM</div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 13px; margin-bottom: 5px;">üìç
                                    Lugar</div>
                                <div style="color: #2980B9; font-size: 12px;">Centro Comercial Pereira Plaza</div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-weight: 600; font-size: 13px; margin-bottom: 5px;">‚è±Ô∏è
                                    Duraci√≥n</div>
                                <div style="color: #2980B9; font-size: 12px;">30 minutos</div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="saveMeetingDraft()"
                            style="background: linear-gradient(135deg, #95A5A6, #7F8C8D); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3); transition: all 0.3s ease;">
                            üíæ Guardar Borrador
                        </button>
                        <button onclick="sendMeetingInvitation()"
                            style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3); transition: all 0.3s ease;">
                            üì§ Enviar Invitaci√≥n
                        </button>
                    </div>

                    <div style="text-align: center; margin-top: 20px;">
                        <p style="color: #7f8c8d; font-size: 12px; line-height: 1.5;">
                            Al enviar la invitaci√≥n, Carlos recibir√° todos los detalles del encuentro y podr√° confirmar
                            o sugerir cambios.
                        </p>
                        <div style="margin-top: 15px;">
                            <button onclick="openMeetingChat()"
                                style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 10px 20px; border-radius: 15px; cursor: pointer; font-size: 13px; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                üí¨ Coordinar en Chat
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reject Proposal Screen -->
        <div id="reject-proposal" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')">‚Üê Volver</button>
                </div>
            </div>

            <div style="max-width: 700px; margin: 0 auto; padding: 20px;">
                <!-- Header -->
                <div
                    style="background: linear-gradient(135deg, #FFE5E5, #E74C3C); color: white; padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 48px; margin-bottom: 15px;">‚ùå</div>
                    <h1 style="font-size: 24px; margin-bottom: 10px; font-weight: bold;">Rechazar Propuesta</h1>
                    <p style="font-size: 16px; opacity: 0.9; line-height: 1.5;">
                        Vas a rechazar esta propuesta de intercambio
                    </p>
                </div>

                <!-- Proposal Summary -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã Propuesta a Rechazar</h2>

                    <!-- Sender Info -->
                    <div
                        style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold;">
                            CM</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Carlos Mendoza</div>
                            <div style="color: #7f8c8d; font-size: 14px;">carlos.mendoza@email.com ‚Ä¢ ‚≠ê 4.6 ‚Ä¢ 15
                                intercambios</div>
                        </div>
                        <div>
                            <div
                                style="background: #FFE5E5; color: #E74C3C; padding: 6px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">
                                PENDIENTE</div>
                        </div>
                    </div>

                    <!-- Exchange Preview -->
                    <div
                        style="display: flex; align-items: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üíª</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">MacBook Air M1</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su propuesta</div>
                            </div>
                        </div>
                        <div style="color: #E74C3C; font-size: 20px;">‚ùå</div>
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üì±</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu producto</div>
                            </div>
                        </div>
                    </div>

                    <!-- Original Message -->
                    <div
                        style="background: #f8f9fa; padding: 15px; border-radius: 10px; border-left: 3px solid #bdc3c7; margin-bottom: 15px;">
                        <div style="color: #7f8c8d; font-size: 12px; margin-bottom: 5px;">Mensaje de Carlos:</div>
                        <p style="color: #7f8c8d; font-style: italic; margin: 0; font-size: 14px; line-height: 1.5;">
                            "Hola! Me interesa mucho tu iPhone. Mi MacBook est√° en excelente estado, apenas 6 meses de
                            uso. ¬øPodemos coordinar para vernos?"
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 14px;">
                        <div>
                            <span style="color: #7f8c8d;">Recibida hace:</span>
                            <span style="color: #34495E; font-weight: 600; margin-left: 8px;">2 horas</span>
                        </div>
                        <div>
                            <span style="color: #7f8c8d;">Estado:</span>
                            <span style="color: #E74C3C; font-weight: 600; margin-left: 8px;">Sin responder</span>
                        </div>
                    </div>
                </div>

                <!-- Reason Selection -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚ùì ¬øPor qu√© rechazas la propuesta?
                        (Opcional)</h2>
                    <p style="color: #7f8c8d; margin-bottom: 20px; font-size: 14px;">
                        Ayuda a Carlos a entender tu decisi√≥n. Esta informaci√≥n le ser√° enviada de forma constructiva.
                    </p>

                    <div style="display: grid; grid-template-columns: 1fr; gap: 12px; margin-bottom: 20px;">
                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="not-interested" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">ü§∑‚Äç‚ôÄÔ∏è No me interesa
                                    su producto</div>
                                <div style="color: #7f8c8d; font-size: 12px;">El MacBook no es lo que estoy buscando
                                </div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="unequal-value" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">‚öñÔ∏è Valores no
                                    equivalentes</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Los productos no tienen valor similar
                                </div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="condition-concerns" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üì¶ Dudas sobre el
                                    estado</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Necesito m√°s informaci√≥n o fotos del
                                    producto</div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="already-traded" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">‚úÖ Ya intercambi√© el
                                    producto</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Acept√© otra propuesta o vend√≠ el iPhone
                                </div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="location-distance" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üìç Problemas de
                                    ubicaci√≥n</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Muy lejos o no podemos coordinar encuentro
                                </div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="profile-concerns" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üë§ Perfil del usuario
                                </div>
                                <div style="color: #7f8c8d; font-size: 12px;">Calificaciones bajas o historial poco
                                    confiable</div>
                            </div>
                        </label>

                        <label onclick="selectRejectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="reject-reason" value="other" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üìù Otro motivo</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Especificar en mensaje personalizado</div>
                            </div>
                        </label>
                    </div>

                    <!-- Custom Message -->
                    <div style="margin-top: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Mensaje
                            para Carlos (opcional)</label>
                        <textarea id="reject-message"
                            placeholder="Escribe un mensaje amable explicando por qu√© no puedes aceptar la propuesta. Recuerda ser respetuoso y constructivo..."
                            style="width: 100%; min-height: 100px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 8px;">
                            Un mensaje constructivo ayuda a mantener una buena comunidad y puede abrir la puerta a
                            futuras oportunidades.
                        </p>
                    </div>
                </div>

                <!-- Alternative Actions -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üí° ¬øHas Considerado Estas
                        Alternativas?</h2>

                    <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div onclick="makeCounterOffer()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #2ECC71; border-radius: 12px; cursor: pointer; background: #f8fff8; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                üîÑ</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #27AE60; margin-bottom: 5px;">Hacer contraoferta
                                </div>
                                <div style="color: #27AE60; font-size: 14px;">Prop√≥n un producto diferente o condiciones
                                    modificadas</div>
                            </div>
                            <div style="color: #27AE60; font-size: 18px;">‚Üí</div>
                        </div>

                        <div onclick="requestMoreInfo()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #3498DB; border-radius: 12px; cursor: pointer; background: #f0f8ff; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                ‚ùì</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #3498DB; margin-bottom: 5px;">Solicitar m√°s
                                    informaci√≥n</div>
                                <div style="color: #3498DB; font-size: 14px;">Pide m√°s fotos, detalles o aclaraciones
                                    antes de decidir</div>
                            </div>
                            <div style="color: #3498DB; font-size: 18px;">‚Üí</div>
                        </div>

                        <div onclick="negotiateTerms()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #F39C12; border-radius: 12px; cursor: pointer; background: #fff8f0; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #FFE5B4, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                üí¨</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #E67E22; margin-bottom: 5px;">Negociar condiciones
                                </div>
                                <div style="color: #E67E22; font-size: 14px;">Abrir chat para discutir t√©rminos,
                                    ubicaci√≥n o extras</div>
                            </div>
                            <div style="color: #E67E22; font-size: 18px;">‚Üí</div>
                        </div>

                        <div onclick="saveForLater()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #9B59B6; border-radius: 12px; cursor: pointer; background: #f8f4ff; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8E4FD, #9B59B6); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                ‚è∞</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #9B59B6; margin-bottom: 5px;">Guardar para despu√©s
                                </div>
                                <div style="color: #9B59B6; font-size: 14px;">Marcar como "pendiente" y decidir m√°s
                                    tarde</div>
                            </div>
                            <div style="color: #9B59B6; font-size: 18px;">‚Üí</div>
                        </div>
                    </div>
                </div>

                <!-- Impact Warning -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚ö†Ô∏è Consideraciones Importantes
                    </h2>

                    <div style="space-y: 15px;">
                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #E8F4FD; border-radius: 10px; border-left: 4px solid #3498DB; margin-bottom: 15px;">
                            <div style="color: #3498DB; font-size: 20px; flex-shrink: 0;">üîî</div>
                            <div>
                                <div style="font-weight: 600; color: #3498DB; margin-bottom: 5px;">Carlos ser√°
                                    notificado</div>
                                <div style="color: #2980B9; font-size: 14px;">Recibir√° tu mensaje de rechazo y el motivo
                                    si lo especificas.</div>
                            </div>
                        </div>

                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #F0F3FF; border-radius: 10px; border-left: 4px solid #6C5CE7; margin-bottom: 15px;">
                            <div style="color: #6C5CE7; font-size: 20px; flex-shrink: 0;">ü§ù</div>
                            <div>
                                <div style="font-weight: 600; color: #6C5CE7; margin-bottom: 5px;">Mant√©n buenas
                                    relaciones</div>
                                <div style="color: #5A52D5; font-size: 14px;">Un rechazo respetuoso puede llevar a
                                    futuras oportunidades de intercambio.</div>
                            </div>
                        </div>

                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #E8F8F0; border-radius: 10px; border-left: 4px solid #27AE60; margin-bottom: 15px;">
                            <div style="color: #27AE60; font-size: 20px; flex-shrink: 0;">üìä</div>
                            <div>
                                <div style="font-weight: 600; color: #27AE60; margin-bottom: 5px;">Tu reputaci√≥n no se
                                    afecta</div>
                                <div style="color: #229954; font-size: 14px;">Rechazar propuestas de forma educada no
                                    afecta tu calificaci√≥n en la plataforma.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Final Confirmation -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã Confirmaci√≥n de Rechazo</h2>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <input type="checkbox" id="confirm-respectful" style="transform: scale(1.2);">
                            <label for="confirm-respectful" style="color: #34495E; font-weight: 600; cursor: pointer;">
                                Confirmo que mi rechazo es respetuoso y constructivo
                            </label>
                        </div>

                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="final-decision" style="transform: scale(1.2);">
                            <label for="final-decision" style="color: #34495E; font-weight: 600; cursor: pointer;">
                                Esta es mi decisi√≥n final para esta propuesta
                            </label>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="showScreen('interactions')" style="min-width: 150px;">‚Üê
                            Mantener pendiente</button>
                        <button id="final-reject-btn" onclick="confirmRejection()" disabled
                            style="background: #bdc3c7; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: not-allowed; font-weight: 600; min-width: 150px;">‚ùå
                            Rechazar propuesta</button>
                    </div>

                    <p style="color: #7f8c8d; font-size: 12px; text-align: center; margin-top: 15px; line-height: 1.5;">
                        Al rechazar confirmas que no quieres continuar con esta propuesta espec√≠fica.
                        Carlos podr√° hacer nuevas propuestas en el futuro.
                    </p>
                </div>
            </div>
        </div>

        <!-- Cancel Proposal Screen -->
        <div id="cancel-proposal" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')">‚Üê Volver</button>
                </div>
            </div>

            <div style="max-width: 700px; margin: 0 auto; padding: 20px;">
                <!-- Warning Header -->
                <div
                    style="background: linear-gradient(135deg, #FFE5E5, #E74C3C); color: white; padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 48px; margin-bottom: 15px;">‚ö†Ô∏è</div>
                    <h1 style="font-size: 24px; margin-bottom: 10px; font-weight: bold;">Cancelar Propuesta</h1>
                    <p style="font-size: 16px; opacity: 0.9; line-height: 1.5;">
                        Est√°s a punto de retirar tu propuesta de intercambio
                    </p>
                </div>

                <!-- Proposal Summary -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã Propuesta a Cancelar</h2>

                    <!-- Recipient Info -->
                    <div
                        style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold;">
                            LR</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Laura Rodr√≠guez</div>
                            <div style="color: #7f8c8d; font-size: 14px;">laura.rodriguez@email.com ‚Ä¢ ‚≠ê 4.7 ‚Ä¢ 12
                                intercambios</div>
                        </div>
                        <div>
                            <div
                                style="background: #FFF2CC; color: #F39C12; padding: 6px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">
                                ESPERANDO RESPUESTA</div>
                        </div>
                    </div>

                    <!-- Exchange Preview -->
                    <div
                        style="display: flex; align-items: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üö≤</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Bicicleta de Monta√±a
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div style="color: #E74C3C; font-size: 20px;">‚ùå</div>
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üèãÔ∏è</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Equipo de Gimnasio
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Producto de Laura</div>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 14px;">
                        <div>
                            <span style="color: #7f8c8d;">Enviada hace:</span>
                            <span style="color: #34495E; font-weight: 600; margin-left: 8px;">3 d√≠as</span>
                        </div>
                        <div>
                            <span style="color: #7f8c8d;">Estado:</span>
                            <span style="color: #F39C12; font-weight: 600; margin-left: 8px;">Pendiente</span>
                        </div>
                    </div>
                </div>

                <!-- Reason Selection -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚ùì ¬øPor qu√© quieres cancelar?
                        (Opcional)</h2>
                    <p style="color: #7f8c8d; margin-bottom: 20px; font-size: 14px;">
                        Esta informaci√≥n nos ayuda a mejorar la plataforma. No ser√° compartida con Laura.
                    </p>

                    <div style="display: grid; grid-template-columns: 1fr; gap: 12px; margin-bottom: 20px;">
                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="changed-mind" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">ü§î Cambi√© de opini√≥n
                                </div>
                                <div style="color: #7f8c8d; font-size: 12px;">Ya no quiero hacer este intercambio</div>
                            </div>
                        </label>

                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="better-offer" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">‚ú® Recib√≠ mejor oferta
                                </div>
                                <div style="color: #7f8c8d; font-size: 12px;">Otra persona me ofreci√≥ algo mejor</div>
                            </div>
                        </label>

                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="product-sold" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üí∞ Ya vend√≠ el
                                    producto</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Vend√≠ o intercambi√© el producto por otro
                                    medio</div>
                            </div>
                        </label>

                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="personal-reasons" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üë§ Razones personales
                                </div>
                                <div style="color: #7f8c8d; font-size: 12px;">Situaci√≥n personal que impide el
                                    intercambio</div>
                            </div>
                        </label>

                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="no-response" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">‚è∞ Mucho tiempo sin
                                    respuesta</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Laura no ha respondido en varios d√≠as
                                </div>
                            </div>
                        </label>

                        <label onclick="selectReason(this)"
                            style="display: flex; align-items: center; gap: 12px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="cancel-reason" value="other" style="margin: 0;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 3px;">üìù Otro motivo</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Especificar en comentarios adicionales
                                </div>
                            </div>
                        </label>
                    </div>

                    <!-- Additional Comments -->
                    <div id="additional-comments" style="display: none; margin-top: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Comentarios
                            adicionales</label>
                        <textarea placeholder="Describe brevemente el motivo de la cancelaci√≥n..."
                            style="width: 100%; min-height: 80px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Consequences Warning -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚ö†Ô∏è Antes de Cancelar, Ten en
                        Cuenta</h2>

                    <div style="space-y: 15px;">
                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #FFE5E5; border-radius: 10px; border-left: 4px solid #E74C3C; margin-bottom: 15px;">
                            <div style="color: #E74C3C; font-size: 20px; flex-shrink: 0;">üîî</div>
                            <div>
                                <div style="font-weight: 600; color: #E74C3C; margin-bottom: 5px;">Laura ser√° notificada
                                </div>
                                <div style="color: #C0392B; font-size: 14px;">Recibir√° una notificaci√≥n inform√°ndole que
                                    cancelaste la propuesta.</div>
                            </div>
                        </div>

                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #FFF2CC; border-radius: 10px; border-left: 4px solid #F39C12; margin-bottom: 15px;">
                            <div style="color: #F39C12; font-size: 20px; flex-shrink: 0;">üìä</div>
                            <div>
                                <div style="font-weight: 600; color: #E67E22; margin-bottom: 5px;">Impacto en tu
                                    reputaci√≥n</div>
                                <div style="color: #D68910; font-size: 14px;">Las cancelaciones frecuentes pueden
                                    afectar tu puntuaci√≥n de confiabilidad.</div>
                            </div>
                        </div>

                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #E8F4FD; border-radius: 10px; border-left: 4px solid #3498DB; margin-bottom: 15px;">
                            <div style="color: #3498DB; font-size: 20px; flex-shrink: 0;">‚ùå</div>
                            <div>
                                <div style="font-weight: 600; color: #3498DB; margin-bottom: 5px;">No podr√°s reactivar
                                </div>
                                <div style="color: #2980B9; font-size: 14px;">Una vez cancelada, no podr√°s reactivar
                                    esta propuesta. Tendr√≠as que crear una nueva.</div>
                            </div>
                        </div>

                        <div
                            style="display: flex; gap: 15px; padding: 15px; background: #F0F3FF; border-radius: 10px; border-left: 4px solid #6C5CE7; margin-bottom: 15px;">
                            <div style="color: #6C5CE7; font-size: 20px; flex-shrink: 0;">üìà</div>
                            <div>
                                <div style="font-weight: 600; color: #6C5CE7; margin-bottom: 5px;">Estad√≠sticas de
                                    cancelaci√≥n</div>
                                <div style="color: #5A52D5; font-size: 14px;">Esta ser√≠a tu primera cancelaci√≥n este
                                    mes. L√≠mite recomendado: m√°ximo 3 por mes.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Alternative Options -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üí° ¬øHas Considerado Estas
                        Alternativas?</h2>

                    <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div onclick="goToEditProposal()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #2ECC71; border-radius: 12px; cursor: pointer; background: #f8fff8; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                ‚úèÔ∏è</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #27AE60; margin-bottom: 5px;">Editar tu propuesta
                                </div>
                                <div style="color: #27AE60; font-size: 14px;">Cambia el producto, ajusta las condiciones
                                    o actualiza tu mensaje</div>
                            </div>
                            <div style="color: #27AE60; font-size: 18px;">‚Üí</div>
                        </div>

                        <div onclick="contactLauraDirectly()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #3498DB; border-radius: 12px; cursor: pointer; background: #f0f8ff; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                üí¨</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #3498DB; margin-bottom: 5px;">Contactar a Laura
                                    directamente</div>
                                <div style="color: #3498DB; font-size: 14px;">Habla con ella sobre tus dudas antes de
                                    cancelar</div>
                            </div>
                            <div style="color: #3498DB; font-size: 18px;">‚Üí</div>
                        </div>

                        <div onclick="pauseProposal()"
                            style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 2px solid #F39C12; border-radius: 12px; cursor: pointer; background: #fff8f0; transition: all 0.2s;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #FFE5B4, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">
                                ‚è∏Ô∏è</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #E67E22; margin-bottom: 5px;">Pausar temporalmente
                                </div>
                                <div style="color: #E67E22; font-size: 14px;">Suspende la propuesta por unos d√≠as sin
                                    cancelarla definitivamente</div>
                            </div>
                            <div style="color: #E67E22; font-size: 18px;">‚Üí</div>
                        </div>
                    </div>
                </div>

                <!-- Final Decision -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">ü§î Confirmaci√≥n Final</h2>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <input type="checkbox" id="understand-consequences" style="transform: scale(1.2);">
                            <label for="understand-consequences"
                                style="color: #34495E; font-weight: 600; cursor: pointer;">
                                Entiendo las consecuencias de cancelar esta propuesta
                            </label>
                        </div>

                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="confirm-cancellation" style="transform: scale(1.2);">
                            <label for="confirm-cancellation"
                                style="color: #34495E; font-weight: 600; cursor: pointer;">
                                Confirmo que quiero cancelar definitivamente
                            </label>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="showScreen('interactions')" style="min-width: 150px;">‚Üê
                            Mantener propuesta</button>
                        <button id="final-cancel-btn" onclick="confirmCancellation()" disabled
                            style="background: #bdc3c7; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: not-allowed; font-weight: 600; min-width: 150px;">üóëÔ∏è
                            Cancelar propuesta</button>
                    </div>

                    <p style="color: #7f8c8d; font-size: 12px; text-align: center; margin-top: 15px; line-height: 1.5;">
                        Al cancelar confirmas que no quieres continuar con este intercambio.
                        Esta acci√≥n es permanente e irreversible.
                    </p>
                </div>
            </div>
        </div>

        <!-- Exchange Details Screen -->
        <div id="exchange-details" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')">‚Üê Volver</button>
                    <button class="btn-primary" onclick="shareExchange()">üì§ Compartir</button>
                </div>
            </div>

            <div style="max-width: 900px; margin: 0 auto; padding: 20px;">
                <!-- Success Header -->
                <div
                    style="background: linear-gradient(135deg, #D5FDCB, #27AE60); color: white; padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 48px; margin-bottom: 15px;">‚úÖ</div>
                    <h1 style="font-size: 24px; margin-bottom: 10px; font-weight: bold;">Intercambio Completado</h1>
                    <p style="font-size: 16px; opacity: 0.9;">
                        Realizado el 25 de Agosto, 2024
                    </p>
                </div>

                <!-- Exchange Summary -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üìã Resumen del Intercambio</h2>

                    <!-- Participants -->
                    <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; margin-bottom: 30px;">
                        <!-- Your Side -->
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; margin: 0 auto 15px auto;">
                                MJ</div>
                            <h3 style="color: #34495E; margin-bottom: 5px; font-size: 18px;">Mar√≠a Jos√© (T√∫)</h3>
                            <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">‚≠ê 4.8 ‚Ä¢ 23 intercambios
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px;">Entregaste</div>
                                <div
                                    style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 10px auto;">
                                    üéÆ</div>
                                <div style="font-weight: 600; color: #34495E; font-size: 14px;">Nintendo Switch</div>
                                <div style="color: #7f8c8d; font-size: 12px;">+ 2 controles + 5 juegos</div>
                            </div>
                        </div>

                        <!-- Exchange Arrow -->
                        <div style="display: flex; align-items: center; justify-content: center; padding-top: 40px;">
                            <div
                                style="width: 60px; height: 60px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                                ‚ü∑</div>
                        </div>

                        <!-- Other Person Side -->
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px; font-weight: bold; margin: 0 auto 15px auto;">
                                AG</div>
                            <h3 style="color: #34495E; margin-bottom: 5px; font-size: 18px;">Ana Garc√≠a</h3>
                            <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">‚≠ê 4.9 ‚Ä¢ 28 intercambios
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 8px;">Entreg√≥</div>
                                <div
                                    style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 10px auto;">
                                    üìö</div>
                                <div style="font-weight: 600; color: #34495E; font-size: 14px;">5 Libros de Programaci√≥n
                                </div>
                                <div style="color: #7f8c8d; font-size: 12px;">JavaScript, Python, React</div>
                            </div>
                        </div>
                    </div>

                    <!-- Exchange Stats -->
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; background: #f8f9fa; padding: 20px; border-radius: 12px;">
                        <div style="text-align: center;">
                            <div style="color: #2ECC71; font-size: 24px; font-weight: bold; margin-bottom: 5px;">A+
                            </div>
                            <div style="color: #7f8c8d; font-size: 14px;">Calificaci√≥n mutua</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #3498DB; font-size: 24px; font-weight: bold; margin-bottom: 5px;">12 min
                            </div>
                            <div style="color: #7f8c8d; font-size: 14px;">Duraci√≥n del encuentro</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="color: #E67E22; font-size: 24px; font-weight: bold; margin-bottom: 5px;">100%
                            </div>
                            <div style="color: #7f8c8d; font-size: 14px;">Satisfacci√≥n</div>
                        </div>
                    </div>
                </div>

                <!-- Exchange Timeline -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">‚è∞ L√≠nea de Tiempo</h2>

                    <div style="position: relative; padding-left: 30px;">
                        <!-- Timeline Line -->
                        <div
                            style="position: absolute; left: 15px; top: 0; bottom: 0; width: 2px; background: #e0e0e0;">
                        </div>

                        <!-- Timeline Items -->
                        <div style="position: relative; margin-bottom: 25px;">
                            <div
                                style="position: absolute; left: -23px; width: 16px; height: 16px; background: #3498DB; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #3498DB;">
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-left: 10px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="font-weight: 600; color: #34495E;">Propuesta inicial enviada</span>
                                    <span style="color: #7f8c8d; font-size: 12px;">22 Ago, 10:30 AM</span>
                                </div>
                                <p style="color: #7f8c8d; font-size: 14px; margin: 0;">Ana propuso intercambiar sus
                                    libros por tu Nintendo Switch</p>
                            </div>
                        </div>

                        <div style="position: relative; margin-bottom: 25px;">
                            <div
                                style="position: absolute; left: -23px; width: 16px; height: 16px; background: #F39C12; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #F39C12;">
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-left: 10px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="font-weight: 600; color: #34495E;">Negociaci√≥n iniciada</span>
                                    <span style="color: #7f8c8d; font-size: 12px;">22 Ago, 2:15 PM</span>
                                </div>
                                <p style="color: #7f8c8d; font-size: 14px; margin: 0;">Intercambio de mensajes sobre
                                    condiciones y lugar de encuentro</p>
                            </div>
                        </div>

                        <div style="position: relative; margin-bottom: 25px;">
                            <div
                                style="position: absolute; left: -23px; width: 16px; height: 16px; background: #2ECC71; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #2ECC71;">
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-left: 10px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="font-weight: 600; color: #34495E;">Intercambio aceptado</span>
                                    <span style="color: #7f8c8d; font-size: 12px;">23 Ago, 4:20 PM</span>
                                </div>
                                <p style="color: #7f8c8d; font-size: 14px; margin: 0;">Ambas partes confirmaron el
                                    intercambio</p>
                            </div>
                        </div>

                        <div style="position: relative; margin-bottom: 25px;">
                            <div
                                style="position: absolute; left: -23px; width: 16px; height: 16px; background: #9B59B6; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #9B59B6;">
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-left: 10px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="font-weight: 600; color: #34495E;">Encuentro programado</span>
                                    <span style="color: #7f8c8d; font-size: 12px;">24 Ago, 9:00 AM</span>
                                </div>
                                <p style="color: #7f8c8d; font-size: 14px; margin: 0;">Cita confirmada: 25 Ago, 3:00 PM
                                    - Centro Comercial Pereira Plaza</p>
                            </div>
                        </div>

                        <div style="position: relative;">
                            <div
                                style="position: absolute; left: -23px; width: 16px; height: 16px; background: #27AE60; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 2px #27AE60;">
                            </div>
                            <div
                                style="background: #D5FDCB; padding: 15px; border-radius: 10px; margin-left: 10px; border: 1px solid #A8E6CF;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="font-weight: 600; color: #27AE60;">Intercambio completado</span>
                                    <span style="color: #27AE60; font-size: 12px; font-weight: 600;">25 Ago, 3:12
                                        PM</span>
                                </div>
                                <p style="color: #27AE60; font-size: 14px; margin: 0;">Ambos productos entregados
                                    exitosamente</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Meeting Details -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üìç Detalles del Encuentro</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Location Info -->
                        <div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 16px;">Ubicaci√≥n</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                    <div
                                        style="width: 40px; height: 40px; background: #3498DB; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                        üìç</div>
                                    <div>
                                        <div style="font-weight: 600; color: #34495E;">Centro Comercial Pereira Plaza
                                        </div>
                                        <div style="color: #7f8c8d; font-size: 14px;">Pereira, Risaralda, Colombia</div>
                                    </div>
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px; line-height: 1.5;">
                                    <p style="margin: 0 0 10px 0;">üìç Punto de encuentro: Patio de comidas, nivel 2</p>
                                    <p style="margin: 0 0 10px 0;">üöó Parqueadero: Disponible</p>
                                    <p style="margin: 0;">üöå Transporte: L√≠neas 1, 3 y 7</p>
                                </div>
                            </div>
                        </div>

                        <!-- Time & Weather -->
                        <div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 16px;">Fecha y Hora</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                    <div
                                        style="width: 40px; height: 40px; background: #27AE60; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                        ‚è∞</div>
                                    <div>
                                        <div style="font-weight: 600; color: #34495E;">Domingo, 25 de Agosto</div>
                                        <div style="color: #7f8c8d; font-size: 14px;">3:00 PM - 3:12 PM (12 minutos)
                                        </div>
                                    </div>
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px; line-height: 1.5;">
                                    <p style="margin: 0 0 10px 0;">üå§Ô∏è Clima: Soleado, 24¬∞C</p>
                                    <p style="margin: 0 0 10px 0;">‚úÖ Ambas partes llegaron puntuales</p>
                                    <p style="margin: 0;">üéØ Encuentro exitoso</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Details -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üì¶ Detalles de los Productos</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Your Product -->
                        <div style="border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden;">
                            <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0;">
                                <h3 style="color: #34495E; margin: 0; font-size: 16px;">Tu producto entregado</h3>
                            </div>
                            <div style="padding: 20px;">
                                <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                    <div
                                        style="width: 80px; height: 80px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 32px; flex-shrink: 0;">
                                        üéÆ</div>
                                    <div>
                                        <h4 style="color: #34495E; margin: 0 0 5px 0;">Nintendo Switch</h4>
                                        <div
                                            style="background: #A8E6CF; color: #27AE60; padding: 2px 8px; border-radius: 8px; font-size: 10px; display: inline-block; margin-bottom: 8px;">
                                            INTERCAMBIO</div>
                                        <p style="color: #7f8c8d; font-size: 12px; margin: 0;">Consola en excelente
                                            estado</p>
                                    </div>
                                </div>
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">
                                        Inclu√≠a:</div>
                                    <ul style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px;">
                                        <li>Consola Nintendo Switch</li>
                                        <li>2 controles Joy-Con</li>
                                        <li>5 juegos f√≠sicos</li>
                                        <li>Cargador original</li>
                                        <li>Funda protectora</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Their Product -->
                        <div style="border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden;">
                            <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0;">
                                <h3 style="color: #34495E; margin: 0; font-size: 16px;">Producto recibido</h3>
                            </div>
                            <div style="padding: 20px;">
                                <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                    <div
                                        style="width: 80px; height: 80px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 32px; flex-shrink: 0;">
                                        üìö</div>
                                    <div>
                                        <h4 style="color: #34495E; margin: 0 0 5px 0;">5 Libros de Programaci√≥n</h4>
                                        <div
                                            style="background: #A8E6CF; color: #27AE60; padding: 2px 8px; border-radius: 8px; font-size: 10px; display: inline-block; margin-bottom: 8px;">
                                            INTERCAMBIO</div>
                                        <p style="color: #7f8c8d; font-size: 12px; margin: 0;">Libros t√©cnicos
                                            especializados</p>
                                    </div>
                                </div>
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <div style="font-weight: 600; color: #34495E; margin-bottom: 8px; font-size: 14px;">
                                        Inclu√≠a:</div>
                                    <ul style="color: #7f8c8d; font-size: 12px; margin: 0; padding-left: 15px;">
                                        <li>JavaScript: The Good Parts</li>
                                        <li>Clean Code (Python)</li>
                                        <li>React Patterns</li>
                                        <li>System Design Interview</li>
                                        <li>AWS Cloud Practitioner</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reviews & Ratings -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">‚≠ê Calificaciones Mutuas</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Your Rating to Them -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div
                                    style="width: 50px; height: 50px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold;">
                                    AG</div>
                                <div>
                                    <div style="font-weight: 600; color: #34495E;">Tu calificaci√≥n a Ana</div>
                                    <div style="color: #FFD700; font-size: 16px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #27AE60;">
                                <p style="color: #7f8c8d; font-size: 14px; line-height: 1.5; margin: 0;">
                                    "Excelente persona para intercambiar. Ana es muy confiable,
                                    los libros estaban en perfecto estado y la comunicaci√≥n fue fluida. ¬°Recomendada
                                    100%!"
                                </p>
                            </div>
                            <div style="display: flex; gap: 8px; margin-top: 15px; flex-wrap: wrap;">
                                <span
                                    style="background: #D5FDCB; color: #27AE60; padding: 4px 8px; border-radius: 12px; font-size: 11px;">üìû
                                    Comunicaci√≥n excelente</span>
                                <span
                                    style="background: #D5FDCB; color: #27AE60; padding: 4px 8px; border-radius: 12px; font-size: 11px;">‚è∞
                                    Muy puntual</span>
                                <span
                                    style="background: #D5FDCB; color: #27AE60; padding: 4px 8px; border-radius: 12px; font-size: 11px;">ü§ù
                                    Muy amable</span>
                            </div>
                        </div>

                        <!-- Their Rating to You -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div
                                    style="width: 50px; height: 50px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold;">
                                    MJ</div>
                                <div>
                                    <div style="font-weight: 600; color: #34495E;">Calificaci√≥n de Ana para ti</div>
                                    <div style="color: #FFD700; font-size: 16px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                </div>
                            </div>
                            <div
                                style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #27AE60;">
                                <p style="color: #7f8c8d; font-size: 14px; line-height: 1.5; margin: 0;">
                                    "Mar√≠a Jos√© es s√∫per confiable y responsable. El Nintendo Switch estaba en perfecto
                                    estado,
                                    tal como lo describi√≥. Definitivamente recomiendo hacer intercambios con ella."
                                </p>
                            </div>
                            <div style="display: flex; gap: 8px; margin-top: 15px; flex-wrap: wrap;">
                                <span
                                    style="background: #D5FDCB; color: #27AE60; padding: 4px 8px; border-radius: 12px; font-size: 11px;">üì¶
                                    Productos como se describ√≠a</span>
                                <span
                                    style="background: #D5FDCB; color: #27AE60; padding: 4px 8px; border-radius: 12px; font-size: 11px;">üîÑ
                                    Recomendar√≠a intercambiar</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exchange Impact -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üå± Impacto Ambiental</h2>

                    <div
                        style="background: linear-gradient(135deg, #A8E6CF, #2ECC71); color: white; padding: 25px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 15px;">üåç</div>
                        <h3 style="margin: 0 0 15px 0; font-size: 20px;">¬°Felicitaciones por tu contribuci√≥n!</h3>
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div>
                                <div style="font-size: 24px; font-weight: bold; margin-bottom: 5px;">2.1 kg</div>
                                <div style="opacity: 0.9; font-size: 14px;">CO‚ÇÇ evitado</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; margin-bottom: 5px;">2</div>
                                <div style="opacity: 0.9; font-size: 14px;">Productos reutilizados</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; margin-bottom: 5px;">$45</div>
                                <div style="opacity: 0.9; font-size: 14px;">Valor intercambiado</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div
                    style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center;">
                    <div
                        style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px;">
                        <button onclick="contactUser('Ana Garc√≠a', 'AG')" class="btn-primary"
                            style="min-width: 160px;">üí¨ Contactar a Ana</button>
                        <button onclick="viewUserProfile('Ana Garc√≠a')" class="btn-secondary"
                            style="min-width: 160px;">üë§ Ver perfil de Ana</button>
                        <button onclick="reportExchange()"
                            style="background: #E74C3C; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600; min-width: 160px;">‚ö†Ô∏è
                            Reportar problema</button>
                    </div>

                    <div style="border-top: 1px solid #f0f0f0; padding-top: 20px;">
                        <button onclick="shareExchange()"
                            style="background: #3498DB; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-right: 10px;">üì§
                            Compartir experiencia</button>
                        <button onclick="downloadReceipt()"
                            style="background: #9B59B6; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-right: 10px;">üìÑ
                            Descargar comprobante</button>
                        <button onclick="addToFavorites('Ana Garc√≠a')"
                            style="background: #E67E22; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">‚≠ê
                            Agregar a favoritos</button>
                    </div>

                    <p style="color: #7f8c8d; font-size: 12px; margin-top: 15px; line-height: 1.5;">
                        Esta informaci√≥n del intercambio se guardar√° permanentemente en tu historial.
                        Puedes accederla desde tu perfil en cualquier momento.
                    </p>
                </div>
            </div>
        </div>

        <!-- Edit Proposal Screen -->
        <div id="edit-proposal" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')">‚ùå Cancelar</button>
                    <button class="btn-primary" onclick="updateProposal()">‚úÖ Actualizar propuesta</button>
                </div>
            </div>

            <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                <!-- Header -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <h1 style="color: #34495E; margin-bottom: 10px; font-size: 28px;">‚úèÔ∏è Editar Propuesta</h1>
                    <p style="color: #7f8c8d; font-size: 14px;">Modifica tu propuesta antes de que sea aceptada o
                        rechazada</p>
                </div>

                <!-- Current Proposal Summary -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã Propuesta Actual</h2>

                    <!-- Recipient Info -->
                    <div
                        style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold;">
                            LR</div>
                        <div>
                            <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Propuesta enviada a Laura
                                Rodr√≠guez</div>
                            <div style="color: #7f8c8d; font-size: 14px;">laura.rodriguez@email.com ‚Ä¢ ‚≠ê 4.7 ‚Ä¢ 12
                                intercambios</div>
                        </div>
                        <div style="margin-left: auto;">
                            <div
                                style="background: #FFF2CC; color: #F39C12; padding: 6px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">
                                ESPERANDO RESPUESTA</div>
                        </div>
                    </div>

                    <!-- Current Exchange Preview -->
                    <div
                        style="display: flex; align-items: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üö≤</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Bicicleta de Monta√±a
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta actual</div>
                            </div>
                        </div>
                        <div style="color: #F39C12; font-size: 20px;">‚ü∑</div>
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üèãÔ∏è</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Equipo de Gimnasio
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Producto de Laura</div>
                            </div>
                        </div>
                    </div>

                    <div
                        style="background: #E8F4FD; padding: 15px; border-radius: 10px; border-left: 4px solid #3498DB;">
                        <div style="color: #3498DB; font-weight: 600; margin-bottom: 5px;">üí° Propuesta enviada hace 3
                            d√≠as</div>
                        <p style="color: #2980B9; font-size: 14px; margin: 0;">
                            Puedes editar tu propuesta mientras est√© pendiente. Laura recibir√° una notificaci√≥n de los
                            cambios.
                        </p>
                    </div>
                </div>

                <!-- Edit Your Offer -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üîÑ Tu Oferta</h2>

                    <!-- Product Selection -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 15px; color: #34495E; font-weight: 600;">Selecciona
                            el producto que quieres intercambiar</label>
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <!-- Current Selection -->
                            <div
                                style="border: 2px solid #2ECC71; border-radius: 12px; overflow: hidden; cursor: pointer; background: #f8fff8;">
                                <div
                                    style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 36px;">
                                    üö≤</div>
                                <div style="padding: 15px;">
                                    <div
                                        style="display: flex; justify-content: between; align-items: start; margin-bottom: 10px;">
                                        <div>
                                            <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Bicicleta
                                                de Monta√±a</div>
                                            <div
                                                style="background: #A8E6CF; color: #27AE60; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block;">
                                                INTERCAMBIO</div>
                                        </div>
                                        <div
                                            style="width: 20px; height: 20px; background: #2ECC71; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; margin-left: 10px;">
                                            ‚úì</div>
                                    </div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin: 0;">Pr√°cticamente nueva, usada
                                        solo 3 veces.</p>
                                </div>
                            </div>

                            <!-- Alternative Options -->
                            <div onclick="selectProduct(this, 'nintendo')"
                                style="border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.2s;">
                                <div
                                    style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 36px;">
                                    üéÆ</div>
                                <div style="padding: 15px;">
                                    <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Nintendo Switch
                                    </div>
                                    <div
                                        style="background: #FFE5B4; color: #E67E22; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block; margin-bottom: 8px;">
                                        VENTA</div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin: 0;">Incluye 2 controles y 5
                                        juegos.</p>
                                </div>
                            </div>

                            <div onclick="selectProduct(this, 'books')"
                                style="border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.2s;">
                                <div
                                    style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 36px;">
                                    üìö</div>
                                <div style="padding: 15px;">
                                    <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Libros T√©cnicos
                                    </div>
                                    <div
                                        style="background: #A8E6CF; color: #27AE60; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block; margin-bottom: 8px;">
                                        INTERCAMBIO</div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin: 0;">5 libros de programaci√≥n y
                                        dise√±o.</p>
                                </div>
                            </div>

                            <div onclick="selectProduct(this, 'phone')"
                                style="border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.2s;">
                                <div
                                    style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 36px;">
                                    üì±</div>
                                <div style="padding: 15px;">
                                    <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">iPhone 12 Pro
                                    </div>
                                    <div
                                        style="background: #A8E6CF; color: #27AE60; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block; margin-bottom: 8px;">
                                        INTERCAMBIO</div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin: 0;">128GB, excelente estado.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Value Options -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 15px; color: #34495E; font-weight: 600;">¬øQuieres
                            agregar algo m√°s? (opcional)</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                            <button onclick="toggleAddition(this, 'cash')" class="addition-option"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 10px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                                üí∞ + Dinero en efectivo
                            </button>
                            <button onclick="toggleAddition(this, 'accessory')" class="addition-option"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 10px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                                üì¶ + Accesorios
                            </button>
                            <button onclick="toggleAddition(this, 'service')" class="addition-option"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 10px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                                üîß + Servicio t√©cnico
                            </button>
                        </div>

                        <!-- Additional Details -->
                        <div id="additional-details" style="display: none; margin-top: 15px;">
                            <textarea placeholder="Describe qu√© m√°s incluyes en tu propuesta..."
                                style="width: 100%; min-height: 80px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                        </div>
                    </div>

                    <!-- Condition Notes -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #34495E; font-weight: 600;">Estado y
                            condiciones del producto</label>
                        <textarea
                            placeholder="Actualiza la descripci√≥n del estado de tu producto, incluye cualquier detalle importante que haya cambiado..."
                            style="width: 100%; min-height: 100px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;">Bicicleta de monta√±a en excelente estado. Pr√°cticamente nueva, apenas usada 3 veces. Incluye casco y accesorios b√°sicos. Sin rayones ni da√±os.</textarea>
                    </div>
                </div>

                <!-- Update Message -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üí¨ Actualizar Mensaje</h2>

                    <!-- Original Message -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #7f8c8d; font-size: 14px;">Mensaje
                            original enviado:</label>
                        <div
                            style="background: #f8f9fa; padding: 15px; border-radius: 10px; border-left: 3px solid #bdc3c7;">
                            <p style="color: #7f8c8d; font-style: italic; margin: 0; font-size: 14px;">
                                "Hola Laura! Me interesa tu equipo de gimnasio. Mi bicicleta est√° pr√°cticamente nueva,
                                apenas la he usado 3 veces. ¬øTe parece un buen intercambio?"
                            </p>
                        </div>
                    </div>

                    <!-- New Message -->
                    <div>
                        <label style="display: block; margin-bottom: 10px; color: #34495E; font-weight: 600;">Nuevo
                            mensaje (opcional)</label>
                        <textarea
                            placeholder="Si quieres cambiar algo en tu mensaje original, escr√≠belo aqu√≠. Laura ver√° este nuevo mensaje junto con la propuesta actualizada..."
                            style="width: 100%; min-height: 120px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 10px;">
                            Si no escribes nada aqu√≠, se mantendr√° tu mensaje original.
                        </p>
                    </div>
                </div>

                <!-- Meeting Preferences -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìç Preferencias de Encuentro</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Ubicaci√≥n
                                preferida</label>
                            <select
                                style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 14px;">
                                <option>Centro Comercial Pereira Plaza</option>
                                <option>Parque Arboleda</option>
                                <option>Universidad Tecnol√≥gica</option>
                                <option>Centro de la ciudad</option>
                                <option selected>Lugar a convenir</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Disponibilidad</label>
                            <select
                                style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 14px;">
                                <option selected>Flexible - cualquier d√≠a</option>
                                <option>Solo fines de semana</option>
                                <option>Solo d√≠as de semana</option>
                                <option>Solo tardes</option>
                                <option>Solo ma√±anas</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="toggleTimeSlot(this)" class="time-slot"
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 12px;">üåÖ
                            Ma√±anas</button>
                        <button onclick="toggleTimeSlot(this)" class="time-slot"
                            style="background: #E8F4FD; border: 1px solid #3498DB; color: #3498DB; padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚òÄÔ∏è
                            Tardes</button>
                        <button onclick="toggleTimeSlot(this)" class="time-slot"
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 12px;">üåô
                            Noches</button>
                        <button onclick="toggleTimeSlot(this)" class="time-slot"
                            style="background: #D5FDCB; border: 1px solid #27AE60; color: #27AE60; padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 12px;">üìÖ
                            Fines de semana</button>
                    </div>
                </div>

                <!-- Preview Changes -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üëÄ Vista Previa de Cambios</h2>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="color: #34495E; font-weight: 600; margin-bottom: 15px;">Resumen de cambios:</div>
                        <ul style="color: #7f8c8d; font-size: 14px; margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">‚úì Producto: Bicicleta de Monta√±a (sin cambios)</li>
                            <li style="margin-bottom: 8px;">‚Ä¢ Mensaje: Se mantendr√° el original</li>
                            <li style="margin-bottom: 8px;">‚Ä¢ Ubicaci√≥n: Lugar a convenir</li>
                            <li style="margin-bottom: 8px;">‚Ä¢ Disponibilidad: Tardes y fines de semana</li>
                        </ul>
                    </div>

                    <div
                        style="background: #FFF2CC; padding: 15px; border-radius: 10px; border-left: 4px solid #F39C12;">
                        <div style="color: #F39C12; font-weight: 600; margin-bottom: 5px;">‚ö†Ô∏è Importante</div>
                        <p style="color: #E67E22; font-size: 14px; margin: 0; line-height: 1.5;">
                            Laura recibir√° una notificaci√≥n sobre tu propuesta actualizada.
                            El tiempo de respuesta se reiniciar√° desde el momento de la actualizaci√≥n.
                        </p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div
                    style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center;">
                    <div
                        style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 20px;">
                        <button class="btn-secondary" onclick="showScreen('interactions')" style="min-width: 150px;">‚ùå
                            Cancelar cambios</button>
                        <button class="btn-primary" onclick="updateProposal()" style="min-width: 150px;">‚úÖ Actualizar
                            propuesta</button>
                    </div>

                    <div style="border-top: 1px solid #f0f0f0; padding-top: 20px;">
                        <button onclick="withdrawProposal()"
                            style="background: #E74C3C; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600; margin-right: 15px;">üóëÔ∏è
                            Retirar propuesta</button>
                        <button onclick="contactDirectly()"
                            style="background: #3498DB; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600;">üí¨
                            Contactar directamente</button>
                    </div>

                    <p style="color: #7f8c8d; font-size: 12px; margin-top: 15px; line-height: 1.5;">
                        Al actualizar, confirmas que toda la informaci√≥n es veraz y actual.
                        Cambios frecuentes pueden afectar tu reputaci√≥n.
                    </p>
                </div>
            </div>
        </div>

        <!-- Notifications Screen -->
        <div id="notifications" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('home')">‚Üê Inicio</button>
                    <button class="btn-primary" onclick="markAllAsRead()">‚úÖ Marcar todas como le√≠das</button>
                </div>
            </div>

            <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                <!-- Notifications Header -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <div>
                        <h1 style="color: #34495E; margin: 0 0 5px 0; font-size: 28px;">üîî Notificaciones</h1>
                        <p style="color: #7f8c8d; margin: 0; font-size: 14px;">Tienes 5 notificaciones sin leer</p>
                    </div>
                    <button onclick="clearAllNotifications()"
                        style="background: #E74C3C; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">üóëÔ∏è
                        Limpiar todo</button>
                </div>

                <!-- Filter Tabs -->
                <div style="display: flex; gap: 10px; margin-bottom: 25px; overflow-x: auto; padding-bottom: 5px;">
                    <button onclick="filterNotifications('all')" class="filter-tab active"
                        style="background: #2ECC71; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; white-space: nowrap;">üìã
                        Todas (8)</button>
                    <button onclick="filterNotifications('exchanges')" class="filter-tab"
                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; white-space: nowrap;">üîÑ
                        Intercambios (3)</button>
                    <button onclick="filterNotifications('messages')" class="filter-tab"
                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; white-space: nowrap;">üí¨
                        Mensajes (2)</button>
                    <button onclick="filterNotifications('updates')" class="filter-tab"
                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; white-space: nowrap;">üÜï
                        Actualizaciones (2)</button>
                    <button onclick="filterNotifications('system')" class="filter-tab"
                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; white-space: nowrap;">‚öôÔ∏è
                        Sistema (1)</button>
                </div>

                <!-- Notifications List -->
                <div id="notifications-list">
                    <!-- New Exchange Proposal -->
                    <div class="notification-item unread exchanges"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #E67E22; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #E67E22; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #FFE5B4, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                üîÑ</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Nueva
                                        propuesta de intercambio</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 15 min</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    <strong style="color: #34495E;">Carlos Mendoza</strong> quiere intercambiar su
                                    MacBook Air M1 por tu iPhone 12 Pro.
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="viewExchange('carlos-macbook')" class="btn-primary"
                                        style="padding: 6px 12px; font-size: 12px;">Ver propuesta</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- New Message -->
                    <div class="notification-item unread messages"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #3498DB; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #3498DB; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                üí¨</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Nuevo
                                        mensaje</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 1 hora</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    <strong style="color: #34495E;">Ana Garc√≠a:</strong> "Perfecto! ¬øNos vemos ma√±ana a
                                    las 3 PM en el centro comercial?"
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="openChatFromNotification('Ana Garc√≠a', 'AG')" class="btn-primary"
                                        style="padding: 6px 12px; font-size: 12px;">Responder</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Product Interest -->
                    <div class="notification-item unread exchanges"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #2ECC71; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #2ECC71; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                ‚ù§Ô∏è</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Inter√©s en
                                        tu producto</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 2 horas</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    <strong style="color: #34495E;">5 personas</strong> guardaron tu iPhone 12 Pro. ¬°Es
                                    muy popular!
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="viewProductStats()" class="btn-secondary"
                                        style="padding: 6px 12px; font-size: 12px;">Ver estad√≠sticas</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Rating Received -->
                    <div class="notification-item read exchanges"
                        style="background: #fafbfc; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); margin-bottom: 15px; border-left: 4px solid #bdc3c7; position: relative;">
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #FFF2CC, #F39C12); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                ‚≠ê</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Nueva
                                        calificaci√≥n recibida</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 1 d√≠a</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    <strong style="color: #34495E;">Laura Rodr√≠guez</strong> te calific√≥ con ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê.
                                    "Excelente intercambio, muy recomendada."
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="viewProfile('Laura Rodr√≠guez')"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">Ver
                                        perfil</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Price Drop Alert -->
                    <div class="notification-item unread updates"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #9B59B6; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #9B59B6; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8E4FD, #9B59B6); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                üí∞</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Alerta de
                                        precio</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 3 horas</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    Una <strong style="color: #34495E;">Bicicleta Mountain Bike</strong> que sigues baj√≥
                                    de precio: $450.000 ‚Üí $380.000
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="viewProduct('bicicleta-mountain')" class="btn-primary"
                                        style="padding: 6px 12px; font-size: 12px;">Ver producto</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- New Message -->
                    <div class="notification-item unread messages"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #3498DB; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #3498DB; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                üí¨</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Mensaje de
                                        Carlos Mendoza</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 4 horas</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    "Hola! Me interesa mucho tu iPhone. ¬øPodr√≠as enviarme m√°s fotos del MacBook?"
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="openChatFromNotification('Carlos Mendoza', 'CM')"
                                        class="btn-primary"
                                        style="padding: 6px 12px; font-size: 12px;">Responder</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- App Update -->
                    <div class="notification-item read updates"
                        style="background: #fafbfc; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); margin-bottom: 15px; border-left: 4px solid #bdc3c7; position: relative;">
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                üÜï</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">Nueva
                                        funci√≥n disponible</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 2 d√≠as</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    ¬°Ya puedes programar intercambios autom√°ticamente! Configura fechas y lugares con
                                    anticipaci√≥n.
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="learnMore('scheduling')"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">Saber
                                        m√°s</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Notification -->
                    <div class="notification-item unread system"
                        style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); margin-bottom: 15px; border-left: 4px solid #34495E; position: relative;">
                        <div style="position: absolute; top: 15px; right: 15px;">
                            <div style="width: 8px; height: 8px; background: #34495E; border-radius: 50%;"></div>
                        </div>
                        <div style="display: flex; gap: 15px; align-items: start;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #ecf0f1, #34495E); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0;">
                                ‚öôÔ∏è</div>
                            <div style="flex: 1;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                    <h3 style="margin: 0; color: #34495E; font-size: 16px; font-weight: 600;">
                                        Actualizaci√≥n de pol√≠ticas</h3>
                                    <span style="color: #7f8c8d; font-size: 12px;">Hace 1 semana</span>
                                </div>
                                <p style="margin: 0 0 15px 0; color: #7f8c8d; font-size: 14px; line-height: 1.4;">
                                    Hemos actualizado nuestros t√©rminos de servicio y pol√≠tica de privacidad para
                                    mejorar tu experiencia.
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="viewPolicies()"
                                        style="background: #34495E; color: white; border: none; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">Revisar
                                        cambios</button>
                                    <button onclick="markAsRead(this)"
                                        style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚úì
                                        Marcar le√≠da</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Empty State (hidden by default) -->
                <div id="empty-notifications"
                    style="display: none; text-align: center; padding: 60px 20px; background: white; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                    <div style="font-size: 64px; margin-bottom: 20px; opacity: 0.3;">üîî</div>
                    <h3 style="color: #34495E; margin-bottom: 10px;">No hay notificaciones</h3>
                    <p style="color: #7f8c8d; font-size: 14px;">Te mantendremos informado sobre intercambios, mensajes y
                        actualizaciones importantes.</p>
                </div>

                <!-- Settings -->
                <div
                    style="background: white; margin-top: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                    <h3 style="color: #34495E; margin-bottom: 15px; font-size: 18px;">‚öôÔ∏è Configurar Notificaciones</h3>
                    <p style="color: #7f8c8d; margin-bottom: 20px; font-size: 14px;">
                        Personaliza qu√© notificaciones quieres recibir y c√≥mo.
                    </p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="openNotificationSettings()" class="btn-secondary" style="font-size: 14px;">üîî
                            Configurar notificaciones</button>
                        <button onclick="showScreen('edit-profile')"
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-size: 14px;">‚úâÔ∏è
                            Preferencias de email</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rate User Screen -->
        <div id="rate-user" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('interactions')">‚Üê Volver</button>
                </div>
            </div>

            <div style="max-width: 700px; margin: 0 auto; padding: 20px;">
                <!-- Success Header -->
                <div
                    style="background: linear-gradient(135deg, #D5FDCB, #27AE60); color: white; padding: 40px 30px; border-radius: 20px; text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 64px; margin-bottom: 20px;">üéâ</div>
                    <h1 style="font-size: 28px; margin-bottom: 15px; font-weight: bold;">¬°Transacci√≥n Completada!</h1>
                    <p style="font-size: 16px; opacity: 0.9; line-height: 1.5;">
                        Tu intercambio se ha realizado exitosamente.
                        Ay√∫danos a mantener una comunidad confiable calificando tu experiencia.
                    </p>
                </div>

                <!-- Transaction Summary -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üìã Resumen de la Transacci√≥n</h2>

                    <!-- Transaction Details -->
                    <div
                        style="display: flex; align-items: center; gap: 20px; padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üìö</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">5 Libros de
                                    Programaci√≥n</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Recibiste de Ana Garc√≠a</div>
                            </div>
                        </div>
                        <div style="color: #27AE60; font-size: 20px;">‚ü∑</div>
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <div
                                style="width: 60px; height: 60px; background: #e0e0e0; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                üéÆ</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Nintendo Switch</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Entregaste a Ana Garc√≠a</div>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                        <div>
                            <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 5px;">Fecha de intercambio</div>
                            <div style="color: #34495E; font-weight: 600;">25 de Agosto, 2024</div>
                        </div>
                        <div>
                            <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 5px;">Ubicaci√≥n del encuentro
                            </div>
                            <div style="color: #34495E; font-weight: 600;">Centro Comercial Pereira Plaza</div>
                        </div>
                    </div>

                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="color: #7f8c8d; font-size: 14px;">Tipo de transacci√≥n:</span>
                        <span
                            style="background: #A8E6CF; color: #27AE60; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">INTERCAMBIO</span>
                    </div>
                </div>

                <!-- Rate User Section -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                        <div
                            style="width: 60px; height: 60px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">
                            AG</div>
                        <div>
                            <h2 style="color: #34495E; margin: 0 0 5px 0; font-size: 22px;">Califica a Ana Garc√≠a</h2>
                            <div style="color: #7f8c8d; font-size: 14px;">ana.garcia@email.com ‚Ä¢ ‚≠ê 4.9 ‚Ä¢ 28 intercambios
                            </div>
                        </div>
                    </div>

                    <!-- Star Rating -->
                    <div style="margin-bottom: 25px;">
                        <div style="color: #34495E; font-weight: 600; margin-bottom: 15px;">¬øC√≥mo fue tu experiencia?
                        </div>
                        <div style="display: flex; gap: 8px; margin-bottom: 10px;">
                            <button class="star-rating" data-rating="1"
                                style="background: none; border: none; font-size: 32px; color: #FFD700; cursor: pointer; transition: transform 0.2s;"
                                onclick="setRating(1)">‚≠ê</button>
                            <button class="star-rating" data-rating="2"
                                style="background: none; border: none; font-size: 32px; color: #FFD700; cursor: pointer; transition: transform 0.2s;"
                                onclick="setRating(2)">‚≠ê</button>
                            <button class="star-rating" data-rating="3"
                                style="background: none; border: none; font-size: 32px; color: #FFD700; cursor: pointer; transition: transform 0.2s;"
                                onclick="setRating(3)">‚≠ê</button>
                            <button class="star-rating" data-rating="4"
                                style="background: none; border: none; font-size: 32px; color: #FFD700; cursor: pointer; transition: transform 0.2s;"
                                onclick="setRating(4)">‚≠ê</button>
                            <button class="star-rating" data-rating="5"
                                style="background: none; border: none; font-size: 32px; color: #FFD700; cursor: pointer; transition: transform 0.2s;"
                                onclick="setRating(5)">‚≠ê</button>
                        </div>
                        <div id="rating-text" style="color: #27AE60; font-weight: 600; margin-left: 5px;">Excelente
                            ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                    </div>

                    <!-- Quick Rating Options -->
                    <div style="margin-bottom: 25px;">
                        <div style="color: #34495E; font-weight: 600; margin-bottom: 15px;">Aspectos destacados
                            (opcional)</div>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="quick-tag" onclick="toggleTag(this)"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s;">üìû
                                Comunicaci√≥n excelente</button>
                            <button class="quick-tag" onclick="toggleTag(this)"
                                style="background: #E8F4FD; border: 1px solid #3498DB; color: #3498DB; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s;">‚è∞
                                Muy puntual</button>
                            <button class="quick-tag" onclick="toggleTag(this)"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s;">üì¶
                                Productos como se describ√≠a</button>
                            <button class="quick-tag" onclick="toggleTag(this)"
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s;">ü§ù
                                Muy amable</button>
                            <button class="quick-tag" onclick="toggleTag(this)"
                                style="background: #D5FDCB; border: 1px solid #27AE60; color: #27AE60; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s;">üîÑ
                                Recomendar√≠a intercambiar</button>
                        </div>
                    </div>

                    <!-- Written Review -->
                    <div style="margin-bottom: 25px;">
                        <div style="color: #34495E; font-weight: 600; margin-bottom: 10px;">Escribe tu experiencia
                            (opcional)</div>
                        <textarea
                            placeholder="Cu√©ntanos c√≥mo fue el intercambio, qu√© tal la comunicaci√≥n, si los productos estaban como se describ√≠an, etc. Esto ayudar√° a otros usuarios..."
                            style="width: 100%; min-height: 100px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                        <div style="color: #7f8c8d; font-size: 12px; margin-top: 8px;">Tu rese√±a ser√° p√∫blica y ayudar√°
                            a otros usuarios a tomar decisiones informadas.</div>
                    </div>

                    <!-- Privacy Note -->
                    <div
                        style="background: #E8F4FD; padding: 15px; border-radius: 10px; border-left: 4px solid #3498DB; margin-bottom: 25px;">
                        <div style="color: #3498DB; font-weight: 600; margin-bottom: 5px;">‚ÑπÔ∏è Informaci√≥n importante
                        </div>
                        <p style="color: #2980B9; font-size: 14px; margin: 0; line-height: 1.5;">
                            Las calificaciones son permanentes y p√∫blicas. Por favor s√© honesto y constructivo en tu
                            evaluaci√≥n.
                            Tanto t√∫ como Ana podr√°n ver las calificaciones mutuas.
                        </p>
                    </div>
                </div>

                <!-- Report Issues Section -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h3 style="color: #34495E; margin-bottom: 15px; font-size: 18px;">‚ö†Ô∏è ¬øHubo alg√∫n problema?</h3>
                    <p style="color: #7f8c8d; margin-bottom: 20px; font-size: 14px; line-height: 1.5;">
                        Si experimentaste alg√∫n problema durante el intercambio, por favor rep√≥rtalo para que podamos
                        mejorar la plataforma.
                    </p>

                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
                        <button onclick="reportIssue('late')"
                            style="background: #FFF2CC; border: 1px solid #F39C12; color: #E67E22; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">‚è∞
                            Lleg√≥ tarde</button>
                        <button onclick="reportIssue('condition')"
                            style="background: #FFE5E5; border: 1px solid #E74C3C; color: #C0392B; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">üì¶
                            Producto en mal estado</button>
                        <button onclick="reportIssue('description')"
                            style="background: #FFF2CC; border: 1px solid #F39C12; color: #E67E22; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">‚ùå
                            No como se describ√≠a</button>
                        <button onclick="reportIssue('communication')"
                            style="background: #FFE5E5; border: 1px solid #E74C3C; color: #C0392B; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">üìû
                            Mala comunicaci√≥n</button>
                        <button onclick="reportIssue('safety')"
                            style="background: #FFE5E5; border: 1px solid #E74C3C; color: #C0392B; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 12px;">üö®
                            Problema de seguridad</button>
                    </div>

                    <div id="report-details" style="display: none; margin-top: 15px;">
                        <textarea
                            placeholder="Describe el problema en detalle. Esta informaci√≥n nos ayudar√° a investigar y mejorar la experiencia para todos los usuarios..."
                            style="width: 100%; min-height: 80px; padding: 15px; border: 2px solid #E74C3C; border-radius: 12px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div
                    style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center;">
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="skipRating()" style="min-width: 150px;">‚è≠Ô∏è Omitir
                            calificaci√≥n</button>
                        <button class="btn-primary" onclick="submitRating()" style="min-width: 150px;">‚úÖ Enviar
                            calificaci√≥n</button>
                    </div>

                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #f0f0f0;">
                        <p style="color: #7f8c8d; font-size: 12px; text-align: center; line-height: 1.5;">
                            Al enviar tu calificaci√≥n, confirmas que la transacci√≥n se complet√≥ exitosamente
                            y que has recibido los productos acordados.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Profile Screen -->
        <div id="edit-profile" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="btn-secondary" onclick="showScreen('profile')">‚ùå Cancelar</button>
                    <button class="btn-primary" onclick="saveProfile()">‚úÖ Guardar</button>
                </div>
            </div>

            <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
                <h1 style="color: #34495E; text-align: center; margin-bottom: 30px; font-size: 28px;">Editar Mi Perfil
                </h1>

                <!-- Profile Photo Section -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üì∏ Foto de Perfil</h2>
                    <div style="text-align: center;">
                        <div style="position: relative; display: inline-block; margin-bottom: 20px;">
                            <div
                                style="width: 120px; height: 120px; border-radius: 50%; background: white; color: #2ECC71; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: bold; border: 4px solid #e0e0e0; margin: 0 auto;">
                                MJ</div>
                            <button
                                style="position: absolute; bottom: 0; right: 0; width: 36px; height: 36px; background: #2ECC71; border: 3px solid white; border-radius: 50%; color: white; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center;">üì∑</button>
                        </div>
                        <div>
                            <button class="btn-secondary" style="margin-right: 10px;">üìÅ Subir nueva foto</button>
                            <button
                                style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">üóëÔ∏è
                                Eliminar</button>
                        </div>
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 10px;">Formatos: JPG, PNG ‚Ä¢ M√°ximo 5MB
                        </p>
                    </div>
                </div>

                <!-- Personal Information -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üë§ Informaci√≥n Personal</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Nombre</label>
                            <input type="text" class="form-control" value="Mar√≠a Jos√©" placeholder="Tu nombre">
                        </div>
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Apellido</label>
                            <input type="text" class="form-control" value="Ram√≠rez" placeholder="Tu apellido">
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label
                            style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Email</label>
                        <input type="email" class="form-control" value="maria.jose@email.com"
                            placeholder="tu@email.com">
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 5px;">Tu email no ser√° visible para otros
                            usuarios</p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Tel√©fono</label>
                            <input type="tel" class="form-control" value="+57 300 123 4567"
                                placeholder="+57 300 123 4567">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Fecha
                                de Nacimiento</label>
                            <input type="date" class="form-control" value="1995-03-15">
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label
                            style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Biograf√≠a</label>
                        <textarea class="form-control" rows="3"
                            placeholder="Cu√©ntanos sobre ti y tus intereses...">Apasionada por el intercambio sostenible. Me encanta darle una segunda vida a los objetos y conocer personas con valores similares.</textarea>
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 5px;">M√°ximo 200 caracteres</p>
                    </div>
                </div>

                <!-- Location Information -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üìç Ubicaci√≥n</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Pa√≠s</label>
                            <select class="form-control">
                                <option selected>Colombia</option>
                                <option>M√©xico</option>
                                <option>Argentina</option>
                                <option>Chile</option>
                                <option>Per√∫</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Departamento/Estado</label>
                            <select class="form-control">
                                <option selected>Risaralda</option>
                                <option>Antioquia</option>
                                <option>Bogot√° D.C.</option>
                                <option>Valle del Cauca</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Ciudad</label>
                            <input type="text" class="form-control" value="Pereira" placeholder="Tu ciudad">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Barrio
                                (opcional)</label>
                            <input type="text" class="form-control" value="Centro" placeholder="Tu barrio">
                        </div>
                    </div>

                    <div
                        style="background: #E8F4FD; padding: 15px; border-radius: 10px; border-left: 4px solid #3498DB;">
                        <div style="color: #3498DB; font-weight: 600; margin-bottom: 5px;">üí° Consejo</div>
                        <p style="color: #2980B9; font-size: 14px; margin: 0;">Una ubicaci√≥n precisa te ayudar√° a
                            encontrar intercambios m√°s cerca de ti y reducir los costos de transporte.</p>
                    </div>
                </div>

                <!-- Preferences -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">‚öôÔ∏è Preferencias de Intercambio
                    </h2>

                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 15px; color: #34495E; font-weight: 600;">Categor√≠as
                            de inter√©s</label>
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>üì± Electr√≥nicos</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>üìö Libros y Medios</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox">
                                <span>üëï Ropa y Accesorios</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>üè† Hogar y Jard√≠n</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox">
                                <span>‚öΩ Deportes y Ocio</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" checked>
                                <span>üéÆ Juguetes y Juegos</span>
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 15px; color: #34495E; font-weight: 600;">Tipos de
                            transacci√≥n preferidos</label>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <label
                                style="display: flex; align-items: center; gap: 8px; padding: 12px 16px; border: 2px solid #A8E6CF; border-radius: 25px; cursor: pointer; background: #A8E6CF; color: #27AE60;">
                                <input type="checkbox" checked style="display: none;">
                                <span>üîÑ Intercambios</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 8px; padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 25px; cursor: pointer; background: white;">
                                <input type="checkbox" style="display: none;">
                                <span>üí∞ Ventas</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 8px; padding: 12px 16px; border: 2px solid #E8F4FD; border-radius: 25px; cursor: pointer; background: #E8F4FD; color: #3498DB;">
                                <input type="checkbox" checked style="display: none;">
                                <span>üéÅ Donaciones</span>
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 15px; color: #34495E; font-weight: 600;">Distancia
                            m√°xima para intercambios</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button
                                style="background: #2ECC71; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer;">5
                                km</button>
                            <button
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer;">10
                                km</button>
                            <button
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer;">20
                                km</button>
                            <button
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer;">50
                                km</button>
                            <button
                                style="background: #f8f9fa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 20px; cursor: pointer;">Sin
                                l√≠mite</button>
                        </div>
                    </div>
                </div>

                <!-- Privacy Settings -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üîê Configuraci√≥n de Privacidad
                    </h2>

                    <div style="space-y: 20px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Mostrar mi ubicaci√≥n
                                    exacta</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Los dem√°s usuarios ver√°n tu ciudad y
                                    barrio</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Perfil p√∫blico</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Otros usuarios pueden ver tu perfil
                                    completo</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Mostrar mi n√∫mero de
                                    tel√©fono</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Solo visible despu√©s de aceptar un
                                    intercambio</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #bdc3c7; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Recibir mensajes de
                                    desconocidos</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Usuarios pueden enviarte mensajes sin
                                    intercambio previo</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 25px; font-size: 20px;">üîî Configuraci√≥n de Notificaciones
                    </h2>

                    <div style="space-y: 20px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Nuevas propuestas de
                                    intercambio</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Email + Push</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Mensajes de chat
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Solo Push</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Recordatorios de
                                    productos sin actividad</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Solo Email</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #bdc3c7; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>

                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; margin-bottom: 20px;">
                            <div>
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Newsletter y
                                    novedades</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Solo Email</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 50px; height: 24px;">
                                <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                                <span
                                    style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #2ECC71; border-radius: 24px; transition: 0.3s;"></span>
                                <span
                                    style="position: absolute; content: ''; height: 18px; width: 18px; right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div
                    style="background: white; margin-bottom: 30px; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center;">
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="showScreen('profile')" style="min-width: 150px;">‚ùå
                            Cancelar cambios</button>
                        <button class="btn-primary" onclick="saveProfile()" style="min-width: 150px;">‚úÖ Guardar
                            perfil</button>
                    </div>
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #f0f0f0;">
                        <button
                            style="background: #E74C3C; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600;">üóëÔ∏è
                            Eliminar cuenta</button>
                        <p style="color: #7f8c8d; font-size: 12px; margin-top: 10px;">Esta acci√≥n no se puede deshacer
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="login" class="mockup-screen active">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">üå±</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">EcoSwap</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            √önete a la revoluci√≥n del intercambio sostenible.<br>
                            Intercambia, vende o dona productos de forma responsable.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <h2 style="color: #34495E; margin-bottom: 30px; font-size: 28px;">Iniciar Sesi√≥n</h2>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Correo electr√≥nico">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" placeholder="Contrase√±a">
                        </div>
                        <button class="btn-primary" style="width: 100%; margin-bottom: 20px;">Iniciar Sesi√≥n</button>
                        <div style="text-align: center;">
                            <a href="#" onclick="showScreen('forgot-password')"
                                style="color: #2ECC71; text-decoration: none;">¬øOlvidaste tu contrase√±a?</a>
                        </div>
                        <hr style="margin: 30px 0; border: none; height: 1px; background: #e0e0e0;">
                        <p style="text-align: center; color: #7f8c8d;">
                            ¬øNo tienes cuenta? <a href="#"
                                style="color: #2ECC71; text-decoration: none; font-weight: 600;">Reg√≠strate aqu√≠</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Register Screen -->
        <div id="register" class="mockup-screen">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">‚ôªÔ∏è</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">√önete a EcoSwap</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Crea tu cuenta y comienza a formar parte<br>
                            de una comunidad m√°s sostenible.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <h2 style="color: #34495E; margin-bottom: 30px; font-size: 28px;">Crear Cuenta</h2>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Nombre completo">
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Correo electr√≥nico">
                        </div>
                        <div class="form-group">
                            <input type="tel" class="form-control" placeholder="Tel√©fono">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" placeholder="Contrase√±a">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" placeholder="Confirmar contrase√±a">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" style="transform: scale(1.2);">
                                <span style="font-size: 14px; color: #7f8c8d;">
                                    Acepto los <a href="#" style="color: #2ECC71;">t√©rminos y condiciones</a>
                                </span>
                            </label>
                        </div>
                        <button class="btn-primary" style="width: 100%; margin-bottom: 20px;">Crear Cuenta</button>
                        <p style="text-align: center; color: #7f8c8d;">
                            ¬øYa tienes cuenta? <a href="#"
                                style="color: #2ECC71; text-decoration: none; font-weight: 600;">Inicia sesi√≥n</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Forgot Password Screen -->
        <div id="forgot-password" class="mockup-screen">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">üîë</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">Recuperar Contrase√±a</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Ingresa tu correo electr√≥nico y te enviaremos<br>
                            instrucciones para restablecer tu contrase√±a.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <h2 style="color: #34495E; margin-bottom: 30px; font-size: 28px;">Recuperar Contrase√±a</h2>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Correo electr√≥nico">
                        </div>
                        <button class="btn-primary" style="width: 100%; margin-bottom: 20px;">Enviar
                            Instrucciones</button>
                        <p style="text-align: center; color: #7f8c8d;">
                            ¬øRecuerdas tu contrase√±a? <a href="#"
                                style="color: #2ECC71; text-decoration: none; font-weight: 600;">Inicia sesi√≥n</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Forgot Password Screen -->
        <div id="forgot-password" class="mockup-screen">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">üîë</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">Recuperar Contrase√±a</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Ingresa tu correo electr√≥nico y te enviaremos<br>
                            instrucciones para restablecer tu contrase√±a.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <h2 style="color: #34495E; margin-bottom: 30px; font-size: 28px;">Recuperar Contrase√±a</h2>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Correo electr√≥nico">
                        </div>
                        <button class="btn-primary" style="width: 100%; margin-bottom: 20px;">Enviar
                            Instrucciones</button>
                        <p style="text-align: center; color: #7f8c8d;">
                            ¬øRecuerdas tu contrase√±a? <a href="#" onclick="showScreen('login')"
                                style="color: #2ECC71; text-decoration: none; font-weight: 600;">Inicia sesi√≥n</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Password Reset Confirmation Screen -->
        <div id="password-reset-confirmation" class="mockup-screen">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">üìß</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">Correo Enviado</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Hemos enviado las instrucciones<br>
                            a tu correo electr√≥nico.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <div style="font-size: 64px; margin-bottom: 20px; color: #2ECC71;">‚úÖ</div>
                            <h2 style="color: #34495E; margin-bottom: 15px; font-size: 28px;">¬°Correo Enviado!</h2>
                            <p style="color: #7f8c8d; line-height: 1.6; margin-bottom: 20px;">
                                Hemos enviado un enlace de recuperaci√≥n a tu correo electr√≥nico.
                                Revisa tu bandeja de entrada y sigue las instrucciones.
                            </p>
                        </div>

                        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 25px;">
                            <div style="font-weight: 600; color: #34495E; margin-bottom: 10px; font-size: 14px;">üìã
                                Pasos a seguir:</div>
                            <ol
                                style="color: #7f8c8d; font-size: 14px; margin: 0; padding-left: 20px; line-height: 1.6;">
                                <li>Revisa tu bandeja de entrada</li>
                                <li>Busca el correo de EcoSwap</li>
                                <li>Haz clic en el enlace de recuperaci√≥n</li>
                                <li>Crea una nueva contrase√±a segura</li>
                            </ol>
                        </div>

                        <div
                            style="background: #E8F4FD; padding: 15px; border-radius: 10px; border-left: 4px solid #3498DB; margin-bottom: 25px;">
                            <div style="color: #3498DB; font-weight: 600; margin-bottom: 5px; font-size: 14px;">‚è∞ Tiempo
                                de expiraci√≥n</div>
                            <div style="color: #2980B9; font-size: 13px;">
                                El enlace de recuperaci√≥n expira en 24 horas por seguridad.
                            </div>
                        </div>

                        <button class="btn-primary" onclick="showScreen('login')"
                            style="width: 100%; margin-bottom: 20px;">Volver al Login</button>

                        <div style="text-align: center;">
                            <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 10px;">
                                ¬øNo recibiste el correo?
                            </p>
                            <button class="btn-secondary" onclick="resendEmail()"
                                style="width: 100%; margin-bottom: 15px;">üìß Reenviar Correo</button>
                            <button class="btn-secondary" onclick="contactSupport()" style="width: 100%;">üÜò Contactar
                                Soporte</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Password Screen -->
        <div id="new-password" class="mockup-screen">
            <div class="login-container">
                <div class="login-left">
                    <div>
                        <div style="font-size: 64px; margin-bottom: 20px;">üîí</div>
                        <h2 style="font-size: 36px; margin-bottom: 15px;">Nueva Contrase√±a</h2>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Crea una nueva contrase√±a<br>
                            segura para tu cuenta.
                        </p>
                    </div>
                </div>
                <div class="login-right">
                    <div class="login-form">
                        <h2 style="color: #34495E; margin-bottom: 30px; font-size: 28px;">Establecer Nueva Contrase√±a
                        </h2>

                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Nueva
                                contrase√±a</label>
                            <input type="password" id="new-password-input" class="form-control"
                                placeholder="Ingresa tu nueva contrase√±a">
                            <div style="margin-top: 8px; font-size: 12px; color: #7f8c8d;">
                                M√≠nimo 8 caracteres, incluir may√∫sculas, min√∫sculas y n√∫meros
                            </div>
                        </div>

                        <div class="form-group">
                            <label
                                style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Confirmar
                                contrase√±a</label>
                            <input type="password" id="confirm-password-input" class="form-control"
                                placeholder="Confirma tu nueva contrase√±a">
                        </div>

                        <!-- Password Strength Indicator -->
                        <div style="margin-bottom: 20px;">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <span style="color: #34495E; font-size: 14px; font-weight: 600;">Fortaleza de la
                                    contrase√±a:</span>
                                <span id="password-strength-text"
                                    style="font-size: 12px; font-weight: 600;">D√©bil</span>
                            </div>
                            <div style="background: #e0e0e0; height: 6px; border-radius: 3px; overflow: hidden;">
                                <div id="password-strength-bar"
                                    style="height: 100%; width: 25%; background: #E74C3C; transition: all 0.3s ease;">
                                </div>
                            </div>
                        </div>

                        <!-- Password Requirements -->
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 25px;">
                            <div style="font-weight: 600; color: #34495E; margin-bottom: 10px; font-size: 14px;">üìã
                                Requisitos de la contrase√±a:</div>
                            <div style="display: grid; grid-template-columns: 1fr; gap: 8px;">
                                <div id="req-length"
                                    style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #7f8c8d;">
                                    <span id="req-length-icon">‚ùå</span>
                                    M√≠nimo 8 caracteres
                                </div>
                                <div id="req-uppercase"
                                    style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #7f8c8d;">
                                    <span id="req-uppercase-icon">‚ùå</span>
                                    Al menos una may√∫scula
                                </div>
                                <div id="req-lowercase"
                                    style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #7f8c8d;">
                                    <span id="req-lowercase-icon">‚ùå</span>
                                    Al menos una min√∫scula
                                </div>
                                <div id="req-number"
                                    style="display: flex; align-items: center; gap: 8px; font-size: 13px; color: #7f8c8d;">
                                    <span id="req-number-icon">‚ùå</span>
                                    Al menos un n√∫mero
                                </div>
                            </div>
                        </div>

                        <button id="save-password-btn" class="btn-primary" onclick="saveNewPassword()"
                            style="width: 100%; margin-bottom: 20px;" disabled>Guardar Nueva Contrase√±a</button>

                        <div style="text-align: center;">
                            <p style="color: #7f8c8d; font-size: 14px;">
                                ¬øProblemas? <a href="#" onclick="contactSupport()"
                                    style="color: #2ECC71; text-decoration: none; font-weight: 600;">Contacta
                                    soporte</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Home Screen -->
        <div id="home" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 20px;">
                    <span style="cursor: pointer;" onclick="showNotifications()">üí¨</span>
                    <span style="cursor: pointer;" onclick="showNotifications()">üîî</span>
                    <div style="width: 40px; height: 40px; border-radius: 50%; background: white; color: #2ECC71; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer;"
                        onclick="goToProfile()">MJ</div>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" class="search-input"
                    placeholder="¬øQu√© est√°s buscando hoy? Ej: iPhone, bicicleta, libros...">
                <div class="categories">
                    <span class="category-chip">üìö Libros</span>
                    <span class="category-chip">üëï Ropa</span>
                    <span class="category-chip">üì± Electr√≥nicos</span>
                    <span class="category-chip">üè† Hogar</span>
                    <span class="category-chip">üéÆ Juguetes</span>
                    <span class="category-chip">‚öΩ Deportes</span>
                </div>
            </div>

            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">üì±</div>
                    <div class="product-info">
                        <div class="product-type">INTERCAMBIO</div>
                        <div class="product-title">iPhone 12 Pro</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            Excelente estado, incluye cargador. Busco laptop o tablet.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">üö≤</div>
                    <div class="product-info">
                        <div class="product-type" style="background: #F39C12;">VENTA</div>
                        <div class="product-title">Bicicleta Mountain Bike</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            $450.000 - Poco uso, perfecta para monta√±a.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">üëï</div>
                    <div class="product-info">
                        <div class="product-type" style="background: #3498DB;">DONACI√ìN</div>
                        <div class="product-title">Ropa de Beb√©</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            Lote de ropa para beb√© 0-6 meses, excelente estado.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">üìö</div>
                    <div class="product-info">
                        <div class="product-type">INTERCAMBIO</div>
                        <div class="product-title">Libros de Programaci√≥n</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            5 libros t√©cnicos. Busco libros de dise√±o o marketing.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">üéÆ</div>
                    <div class="product-info">
                        <div class="product-type" style="background: #F39C12;">VENTA</div>
                        <div class="product-title">PlayStation 4</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            $800.000 - Incluye 2 controles y 5 juegos.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
                <div class="product-card">
                    <div class="product-image">ü™¥</div>
                    <div class="product-info">
                        <div class="product-type" style="background: #3498DB;">DONACI√ìN</div>
                        <div class="product-title">Plantas de Interior</div>
                        <div class="product-location">üìç Pereira, Colombia</div>
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 15px;">
                            Varias plantas en macetas, perfectas para decorar.
                        </p>
                        <button class="btn-secondary">Ver detalles</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Detail Screen -->
        <div id="detail" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <button class="btn-primary">‚Üê Volver</button>
            </div>

            <div class="product-detail">
                <div class="detail-images">
                    <div class="main-image">üì±</div>
                    <div class="image-thumbnails">
                        <div class="thumbnail active" style="background: #f0f0f0;"></div>
                        <div class="thumbnail" style="background: #e0e0e0;"></div>
                        <div class="thumbnail" style="background: #d0d0d0;"></div>
                        <div class="thumbnail" style="background: #c0c0c0;"></div>
                    </div>
                </div>

                <div class="detail-info">
                    <h1>iPhone 12 Pro - 128GB</h1>
                    <div class="detail-badges">
                        <span class="badge badge-swap">INTERCAMBIO</span>
                        <span class="badge" style="background: #FFE5CC; color: #E67E22;">NEGOCIABLE</span>
                    </div>

                    <div class="user-info">
                        <div class="user-avatar">MJ</div>
                        <div>
                            <div style="font-weight: 600; color: #34495E;">Mar√≠a Jos√©</div>
                            <div style="color: #7f8c8d; font-size: 14px;">‚≠ê 4.8 ‚Ä¢ 23 intercambios</div>
                        </div>
                        <div style="margin-left: auto;">
                            <button class="btn-secondary" style="padding: 8px 16px; font-size: 14px;"
                                onclick="showUserProfile('Mar√≠a Jos√© Ram√≠rez', 'MJ', '4.8', '23')">Ver perfil</button>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3 style="color: #34495E; margin-bottom: 10px;">Descripci√≥n</h3>
                        <p style="color: #7f8c8d; line-height: 1.6;">
                            iPhone 12 Pro en excelente estado, apenas 8 meses de uso. Incluye cargador original,
                            protector de pantalla y funda. Bater√≠a al 95%. Sin rayones ni golpes.
                        </p>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h3 style="color: #34495E; margin-bottom: 10px;">Busco a cambio</h3>
                        <p style="color: #7f8c8d; line-height: 1.6;">
                            Laptop para trabajo (MacBook o similar), tablet iPad, o c√°mara fotogr√°fica.
                            Abierta a otras propuestas interesantes.
                        </p>
                    </div>

                    <div style="display: flex; gap: 20px; margin: 20px 0;">
                        <div>
                            <div style="color: #7f8c8d; font-size: 14px;">Ubicaci√≥n</div>
                            <div style="color: #34495E; font-weight: 600;">üìç Pereira, Colombia</div>
                        </div>
                        <div>
                            <div style="color: #7f8c8d; font-size: 14px;">Publicado</div>
                            <div style="color: #34495E; font-weight: 600;">Hace 2 d√≠as</div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn-primary" style="flex: 1;"
                            onclick="openChat('Mar√≠a Jos√©', 'MJ', 'iPhone 12 Pro', 'üì±', 'MacBook o similar')">üí¨
                            Proponer intercambio</button>
                        <button class="btn-secondary">‚ù§Ô∏è Guardar</button>
                        <button class="btn-secondary">üì¢ Compartir</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Product Screen -->
        <div id="upload" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <button class="btn-primary">‚Üê Volver</button>
            </div>

            <div class="upload-form">
                <h2 style="color: #34495E; margin-bottom: 30px; text-align: center;">Publicar Producto</h2>

                <div class="upload-area">
                    <div style="font-size: 48px; margin-bottom: 20px;">üì∑</div>
                    <h3 style="color: #2ECC71; margin-bottom: 10px;">Sube fotos de tu producto</h3>
                    <p style="color: #7f8c8d;">Arrastra las im√°genes aqu√≠ o haz clic para seleccionar</p>
                    <p style="font-size: 12px; color: #bdc3c7; margin-top: 10px;">M√°ximo 8 fotos ‚Ä¢ JPG, PNG ‚Ä¢ M√°x 5MB
                        cada una</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">T√≠tulo del
                            producto</label>
                        <input type="text" class="form-control" placeholder="Ej: iPhone 12 Pro en excelente estado">
                    </div>
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Categor√≠a</label>
                        <select class="form-control">
                            <option>Selecciona una categor√≠a</option>
                            <option>üì± Electr√≥nicos</option>
                            <option>üëï Ropa y Accesorios</option>
                            <option>üìö Libros y Medios</option>
                            <option>üè† Hogar y Jard√≠n</option>
                            <option>‚öΩ Deportes y Ocio</option>
                            <option>üéÆ Juguetes y Juegos</option>
                            <option>üöó Veh√≠culos</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label
                        style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Descripci√≥n</label>
                    <textarea class="form-control" rows="4"
                        placeholder="Describe el estado del producto, incluye detalles relevantes, defectos si los hay, etc."></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Tipo de
                            transacci√≥n</label>
                        <div style="display: flex; gap: 15px; margin-top: 10px;">
                            <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; flex: 1; text-align: center;">
                                <input type="radio" name="transaction" value="swap">
                                <span>üîÑ Intercambio</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; flex: 1; text-align: center;">
                                <input type="radio" name="transaction" value="sell">
                                <span>üí∞ Venta</span>
                            </label>
                            <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; flex: 1; text-align: center;">
                                <input type="radio" name="transaction" value="donate">
                                <span>üéÅ Donaci√≥n</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div id="swap-section" class="form-group"
                    style="background: #f8fff8; padding: 20px; border-radius: 10px; border: 1px solid #A8E6CF; margin: 20px 0;">
                    <label style="display: block; margin-bottom: 8px; color: #27AE60; font-weight: 600;">¬øQu√© buscas a
                        cambio?</label>
                    <textarea class="form-control" rows="3"
                        placeholder="Describe qu√© productos te interesan recibir a cambio. S√© espec√≠fico para obtener mejores propuestas."></textarea>
                </div>

                <div id="sell-section" class="form-group"
                    style="background: #fff8f0; padding: 20px; border-radius: 10px; border: 1px solid #FFE5B4; margin: 20px 0; display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label
                                style="display: block; margin-bottom: 8px; color: #E67E22; font-weight: 600;">Precio</label>
                            <input type="number" class="form-control" placeholder="Precio en COP">
                        </div>
                        <div class="form-group">
                            <label
                                style="display: flex; align-items: center; gap: 8px; margin-top: 30px; cursor: pointer;">
                                <input type="checkbox">
                                <span style="color: #7f8c8d;">Precio negociable</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Ciudad</label>
                        <input type="text" class="form-control" placeholder="Ej: Pereira" value="Pereira">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600;">Barrio
                            (opcional)</label>
                        <input type="text" class="form-control" placeholder="Ej: Centro">
                    </div>
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="checkbox">
                        <span style="color: #7f8c8d;">
                            Acepto los <a href="#" style="color: #2ECC71;">t√©rminos y condiciones</a> y
                            las <a href="#" style="color: #2ECC71;">pol√≠ticas de privacidad</a>
                        </span>
                    </label>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button class="btn-secondary" style="flex: 1;">üìÑ Guardar borrador</button>
                    <button class="btn-primary" style="flex: 2;">üöÄ Publicar producto</button>
                </div>
            </div>
        </div>

        <!-- Interactions Screen -->
        <div id="interactions" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; gap: 15px;">
                    <button class="btn-secondary" onclick="showInteractionsTab('sent')">üì§ Enviadas</button>
                    <button class="btn-primary" onclick="showInteractionsTab('received')">üì• Recibidas</button>
                </div>
            </div>

            <!-- Pesta√±a de Interacciones Recibidas (por defecto activa) -->
            <div id="received-interactions" class="interactions-container">
                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-pending">PENDIENTE</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 2 horas</span>
                        </div>
                        <div style="color: #E74C3C; font-weight: 600;">‚è≥ Respuesta pendiente</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Carlos Mendoza quiere intercambiar contigo</div>
                        <div style="color: #7f8c8d; font-size: 14px;">carlos.mendoza@email.com ‚Ä¢ ‚≠ê 4.6 ‚Ä¢ 15 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üíª</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">MacBook Air M1</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow">‚ü∑</div>
                        <div class="mini-product">
                            <div class="mini-image">üì±</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 14px; color: #7f8c8d; margin-bottom: 5px;">Mensaje:</div>
                        <div style="color: #34495E;">
                            "Hola! Me interesa mucho tu iPhone. Mi MacBook est√° en excelente estado,
                            apenas 6 meses de uso. ¬øPodemos coordinar para vernos?"
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-primary" style="flex: 1;"
                            onclick="acceptProposal('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro')">‚úÖ
                            Aceptar intercambio</button>
                        <button
                            style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; flex: 1;"
                            onclick="rejectProposal('Carlos Mendoza', 'CM', 'MacBook Air M1', 'iPhone 12 Pro')">‚ùå
                            Rechazar</button>
                        <button class="btn-secondary"
                            onclick="openChat('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro')">üí¨
                            Chatear</button>
                    </div>
                </div>

                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-accepted">ACEPTADO</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 1 d√≠a</span>
                        </div>
                        <div style="color: #27AE60; font-weight: 600;">‚úÖ Intercambio confirmado</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Ana Garc√≠a - Intercambio completado</div>
                        <div style="color: #7f8c8d; font-size: 14px;">ana.garcia@email.com ‚Ä¢ ‚≠ê 4.9 ‚Ä¢ 28 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üìö</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">5 Libros de Programaci√≥n</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                        <div class="exchange-arrow" style="color: #27AE60;">‚úÖ</div>
                        <div class="mini-product">
                            <div class="mini-image">üéÆ</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Nintendo Switch</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #d5fdcb; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #27AE60; font-weight: 600; margin-bottom: 5px;">üéâ Intercambio completado
                            exitosamente</div>
                        <div style="color: #27AE60; font-size: 14px;">
                            El encuentro se realiz√≥ el 25 de agosto en Centro Comercial Pereira Plaza
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-secondary" style="flex: 1;"
                            onclick="rateUser('Ana Garc√≠a', 'AG', 'Intercambio', '5 Libros de Programaci√≥n', 'Nintendo Switch')">‚≠ê
                            Calificar usuario</button>
                        <button class="btn-secondary"
                            onclick="openChat('Ana Garc√≠a', 'AG', '5 Libros de Programaci√≥n', 'üìö', 'Nintendo Switch')">üí¨
                            Enviar mensaje</button>
                        <button class="btn-secondary"
                            onclick="viewExchangeDetails('Ana Garc√≠a', 'AG', '5 Libros de Programaci√≥n', 'Nintendo Switch', 'completed')">üìÑ
                            Ver detalles</button>
                    </div>
                </div>

                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-proposed">PROPUESTA</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 3 d√≠as</span>
                        </div>
                        <div style="color: #F39C12; font-weight: 600;">‚è≥ Esperando respuesta</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Propuesta enviada a Laura Rodr√≠guez</div>
                        <div style="color: #7f8c8d; font-size: 14px;">laura.rodriguez@email.com ‚Ä¢ ‚≠ê 4.7 ‚Ä¢ 12
                            intercambios</div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üö≤</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Bicicleta de Monta√±a</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow">‚ü∑</div>
                        <div class="mini-product">
                            <div class="mini-image">üèãÔ∏è</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Equipo de Gimnasio</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #fff2cc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #F39C12; font-weight: 600; margin-bottom: 5px;">Tu mensaje enviado:</div>
                        <div style="color: #E67E22; font-size: 14px;">
                            "Hola Laura! Me interesa tu equipo de gimnasio. Mi bicicleta est√° pr√°cticamente nueva,
                            apenas la he usado 3 veces. ¬øTe parece un buen intercambio?"
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-secondary" style="flex: 1;"
                            onclick="editProposal('Laura Rodr√≠guez', 'Bicicleta de Monta√±a', 'Equipo de Gimnasio')">‚úèÔ∏è
                            Editar propuesta</button>
                        <button
                            onclick="cancelProposal('Laura Rodr√≠guez', 'LR', 'Bicicleta de Monta√±a', 'Equipo de Gimnasio')"
                            style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">üóëÔ∏è
                            Cancelar</button>
                        <button class="btn-secondary"
                            onclick="openChat('Laura Rodr√≠guez', 'LR', 'Equipo de Gimnasio', 'üèãÔ∏è', 'Bicicleta de Monta√±a')">üí¨
                            Chatear</button>
                    </div>
                </div>

                <!-- Nueva interacci√≥n recibida -->
                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-pending">NUEVA</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 30 min</span>
                        </div>
                        <div style="color: #3498DB; font-weight: 600;">üÜï Nueva propuesta</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Roberto Silva te propone un intercambio</div>
                        <div style="color: #7f8c8d; font-size: 14px;">roberto.silva@email.com ‚Ä¢ ‚≠ê 4.5 ‚Ä¢ 8 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üé∏</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Guitarra Ac√∫stica</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow">‚ü∑</div>
                        <div class="mini-product">
                            <div class="mini-image">üì±</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="font-size: 14px; color: #7f8c8d; margin-bottom: 5px;">Mensaje:</div>
                        <div style="color: #34495E;">
                            "¬°Hola! Vi tu iPhone y me encantar√≠a intercambiarlo por mi guitarra. Es una Yamaha de buena
                            calidad,
                            perfecta para aprender. ¬øTe interesa?"
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-primary" style="flex: 1;"
                            onclick="acceptProposal('Roberto Silva', 'RS', 'Guitarra Ac√∫stica', 'üé∏', 'iPhone 12 Pro')">‚úÖ
                            Aceptar intercambio</button>
                        <button
                            style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; flex: 1;"
                            onclick="rejectProposal('Roberto Silva', 'RS', 'Guitarra Ac√∫stica', 'iPhone 12 Pro')">‚ùå
                            Rechazar</button>
                        <button class="btn-secondary"
                            onclick="openChat('Roberto Silva', 'RS', 'Guitarra Ac√∫stica', 'üé∏', 'iPhone 12 Pro')">üí¨
                            Chatear</button>
                    </div>
                </div>
            </div>

            <!-- Pesta√±a de Interacciones Enviadas -->
            <div id="sent-interactions" class="interactions-container" style="display: none;">
                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-proposed">PROPUESTA</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 3 d√≠as</span>
                        </div>
                        <div style="color: #F39C12; font-weight: 600;">‚è≥ Esperando respuesta</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Propuesta enviada a Laura Rodr√≠guez</div>
                        <div style="color: #7f8c8d; font-size: 14px;">laura.rodriguez@email.com ‚Ä¢ ‚≠ê 4.7 ‚Ä¢ 12
                            intercambios</div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üö≤</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Bicicleta de Monta√±a</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow">‚ü∑</div>
                        <div class="mini-product">
                            <div class="mini-image">üèãÔ∏è</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Equipo de Gimnasio</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #fff2cc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #F39C12; font-weight: 600; margin-bottom: 5px;">Tu mensaje enviado:</div>
                        <div style="color: #E67E22; font-size: 14px;">
                            "Hola Laura! Me interesa tu equipo de gimnasio. Mi bicicleta est√° pr√°cticamente nueva,
                            apenas la he usado 3 veces. ¬øTe parece un buen intercambio?"
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-secondary" style="flex: 1;"
                            onclick="editProposal('Laura Rodr√≠guez', 'Bicicleta de Monta√±a', 'Equipo de Gimnasio')">‚úèÔ∏è
                            Editar propuesta</button>
                        <button
                            onclick="cancelProposal('Laura Rodr√≠guez', 'LR', 'Bicicleta de Monta√±a', 'Equipo de Gimnasio')"
                            style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">üóëÔ∏è
                            Cancelar</button>
                        <button class="btn-secondary"
                            onclick="openChat('Laura Rodr√≠guez', 'LR', 'Equipo de Gimnasio', 'üèãÔ∏è', 'Bicicleta de Monta√±a')">üí¨
                            Chatear</button>
                    </div>
                </div>

                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-accepted">ACEPTADO</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 5 d√≠as</span>
                        </div>
                        <div style="color: #27AE60; font-weight: 600;">‚úÖ Intercambio confirmado</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Propuesta aceptada por David L√≥pez</div>
                        <div style="color: #7f8c8d; font-size: 14px;">david.lopez@email.com ‚Ä¢ ‚≠ê 4.8 ‚Ä¢ 19 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üì±</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow" style="color: #27AE60;">‚úÖ</div>
                        <div class="mini-product">
                            <div class="mini-image">üíª</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">MacBook Pro 2019</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #d5fdcb; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #27AE60; font-weight: 600; margin-bottom: 5px;">üéâ Intercambio confirmado
                        </div>
                        <div style="color: #27AE60; font-size: 14px;">
                            David acept√≥ tu propuesta. Coordinen el encuentro para completar el intercambio.
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-primary" style="flex: 1;"
                            onclick="coordinateMeeting('David L√≥pez', 'DL', 'MacBook Pro 2019', 'üíª', 'iPhone 12 Pro')">üìç
                            Coordinar encuentro</button>
                        <button class="btn-secondary"
                            onclick="openChat('David L√≥pez', 'DL', 'MacBook Pro 2019', 'üíª', 'iPhone 12 Pro')">üí¨
                            Chatear</button>
                    </div>
                </div>

                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-pending">PENDIENTE</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 1 semana</span>
                        </div>
                        <div style="color: #E74C3C; font-weight: 600;">‚è≥ Sin respuesta</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Propuesta enviada a Carmen Vega</div>
                        <div style="color: #7f8c8d; font-size: 14px;">carmen.vega@email.com ‚Ä¢ ‚≠ê 4.3 ‚Ä¢ 6 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üì±</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow">‚ü∑</div>
                        <div class="mini-product">
                            <div class="mini-image">üé®</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Kit de Pintura Profesional</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #fff2cc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #F39C12; font-weight: 600; margin-bottom: 5px;">Tu mensaje enviado:</div>
                        <div style="color: #E67E22; font-size: 14px;">
                            "Hola Carmen! Me encanta tu kit de pintura. Mi iPhone est√° en perfecto estado y me gustar√≠a
                            intercambiarlo. ¬øTe parece interesante?"
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-secondary" style="flex: 1;"
                            onclick="editProposal('Carmen Vega', 'iPhone 12 Pro', 'Kit de Pintura Profesional')">‚úèÔ∏è
                            Editar propuesta</button>
                        <button
                            onclick="cancelProposal('Carmen Vega', 'CV', 'iPhone 12 Pro', 'Kit de Pintura Profesional')"
                            style="background: #E74C3C; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">üóëÔ∏è
                            Cancelar</button>
                        <button class="btn-secondary"
                            onclick="openChat('Carmen Vega', 'CV', 'Kit de Pintura Profesional', 'üé®', 'iPhone 12 Pro')">üí¨
                            Chatear</button>
                    </div>
                </div>

                <div class="interaction-card">
                    <div class="interaction-header">
                        <div>
                            <span class="interaction-type type-rejected">RECHAZADO</span>
                            <span style="margin-left: 10px; color: #7f8c8d; font-size: 14px;">Hace 2 semanas</span>
                        </div>
                        <div style="color: #E74C3C; font-weight: 600;">‚ùå Propuesta rechazada</div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; color: #34495E;">Propuesta rechazada por Miguel Torres</div>
                        <div style="color: #7f8c8d; font-size: 14px;">miguel.torres@email.com ‚Ä¢ ‚≠ê 4.6 ‚Ä¢ 14 intercambios
                        </div>
                    </div>

                    <div class="interaction-products">
                        <div class="mini-product">
                            <div class="mini-image">üì±</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">iPhone 12 Pro</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Tu propuesta</div>
                            </div>
                        </div>
                        <div class="exchange-arrow" style="color: #E74C3C;">‚ùå</div>
                        <div class="mini-product">
                            <div class="mini-image">üè†</div>
                            <div>
                                <div style="font-weight: 600; color: #34495E;">Juego de Mesa</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Su producto</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #ffe5e5; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="color: #E74C3C; font-weight: 600; margin-bottom: 5px;">Respuesta de Miguel:</div>
                        <div style="color: #E74C3C; font-size: 14px;">
                            "Gracias por la propuesta, pero ya tengo un iPhone. Busco algo diferente."
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button class="btn-secondary" style="flex: 1;"
                            onclick="makeNewProposal('Miguel Torres', 'iPhone 12 Pro')">üîÑ
                            Nueva propuesta</button>
                        <button class="btn-secondary"
                            onclick="openChat('Miguel Torres', 'MT', 'Juego de Mesa', 'üè†', 'iPhone 12 Pro')">üí¨
                            Chatear</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Chat Screen -->
        <div id="chat" class="mockup-screen">
            <!-- Enhanced Header with User Info -->
            <div class="header" style="position: relative; overflow: hidden;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button onclick="showScreen('interactions')"
                        style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 18px; cursor: pointer; padding: 8px; border-radius: 50%; backdrop-filter: blur(10px); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px;">
                        ‚Üê
                    </button>
                    <div
                        style="display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.1); padding: 12px 20px; border-radius: 25px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div class="user-avatar"
                            style="width: 50px; height: 50px; font-size: 18px; background: linear-gradient(135deg, #E67E22, #D35400); box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);">
                            CM</div>
                        <div>
                            <div style="font-weight: 700; font-size: 18px; color: white;">Carlos Mendoza</div>
                            <div
                                style="font-size: 13px; color: rgba(255,255,255,0.9); display: flex; align-items: center; gap: 5px;">
                                <div
                                    style="width: 8px; height: 8px; background: #2ECC71; border-radius: 50%; animation: pulse 2s ease-in-out infinite;">
                                </div>
                                En l√≠nea hace 5 min
                            </div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <button onclick="startVoiceCall()"
                        style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 18px; cursor: pointer; padding: 10px; border-radius: 50%; backdrop-filter: blur(10px); transition: all 0.3s ease; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">
                        üìû
                    </button>
                    <button onclick="showChatInfo()"
                        style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 18px; cursor: pointer; padding: 10px; border-radius: 50%; backdrop-filter: blur(10px); transition: all 0.3s ease; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">
                        ‚ÑπÔ∏è
                    </button>
                    <button onclick="showChatMenu()"
                        style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 18px; cursor: pointer; padding: 10px; border-radius: 50%; backdrop-filter: blur(10px); transition: all 0.3s ease; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">
                        ‚ãØ
                    </button>
                </div>

                <!-- Progress Bar for Exchange Status -->
                <div
                    style="position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background: rgba(255,255,255,0.3);">
                    <div
                        style="height: 100%; background: linear-gradient(90deg, #2ECC71, #27AE60); width: 85%; transition: width 0.5s ease;">
                    </div>
                </div>
            </div>

            <!-- Enhanced Product Context Bar -->
            <div
                style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-bottom: 1px solid #e8e8e8; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div
                            style="width: 20px; height: 20px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: bold;">
                            üí¨</div>
                        <span style="color: #34495E; font-weight: 600; font-size: 14px;">Intercambio en Progreso</span>
                    </div>
                    <div
                        style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: 600;">
                        PASO 3 DE 4
                    </div>
                </div>

                <div
                    style="display: flex; align-items: center; gap: 20px; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #f0f0f0;">
                    <div
                        style="display: flex; align-items: center; gap: 15px; flex: 1; padding: 15px; background: linear-gradient(135deg, #fff8f0, #fff5e6); border-radius: 12px; border: 1px solid #ffeaa7;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #ffeaa7;">
                            üíª
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 700; color: #34495E; font-size: 15px; margin-bottom: 3px;">MacBook
                                Air M1</div>
                            <div style="color: #E67E22; font-size: 12px; font-weight: 600;">Propuesta de Carlos</div>
                            <div style="color: #7f8c8d; font-size: 11px;">2021, 256GB SSD</div>
                        </div>
                    </div>

                    <div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
                        <div style="font-size: 28px; color: #2ECC71; animation: bounce 2s ease-in-out infinite;">‚ü∑</div>
                        <div
                            style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 4px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                            INTERCAMBIO
                        </div>
                    </div>

                    <div
                        style="display: flex; align-items: center; gap: 15px; flex: 1; padding: 15px; background: linear-gradient(135deg, #f0fff4, #e6fffa); border-radius: 12px; border: 1px solid #a8e6cf;">
                        <div
                            style="width: 50px; height: 50px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #a8e6cf;">
                            üì±
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 700; color: #34495E; font-size: 15px; margin-bottom: 3px;">iPhone
                                12 Pro</div>
                            <div style="color: #27AE60; font-size: 12px; font-weight: 600;">Tu producto</div>
                            <div style="color: #7f8c8d; font-size: 11px;">128GB, Azul</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="display: flex; gap: 10px; margin-top: 15px; justify-content: center;">
                    <button onclick="acceptExchange()"
                        style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3); transition: all 0.3s ease;">
                        ‚úÖ Aceptar Intercambio
                    </button>
                    <button onclick="rejectExchange()"
                        style="background: linear-gradient(135deg, #E74C3C, #C0392B); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3); transition: all 0.3s ease;">
                        ‚ùå Rechazar
                    </button>
                    <button onclick="showExchangeDetails()"
                        style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                        üìã Ver Detalles
                    </button>
                </div>
            </div>

            <!-- Enhanced Chat Messages Container -->
            <div class="chat-container"
                style="flex: 1; overflow-y: auto; padding: 25px; background: linear-gradient(135deg, #f8f9fa, #f0f2f5); max-height: 500px; position: relative;">
                <!-- Enhanced Day separator -->
                <div style="text-align: center; margin: 25px 0;">
                    <div
                        style="display: inline-flex; align-items: center; gap: 10px; background: white; padding: 10px 20px; border-radius: 25px; color: #7f8c8d; font-size: 13px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #e8e8e8;">
                        <div style="width: 6px; height: 6px; background: #2ECC71; border-radius: 50%;"></div>
                        <span style="font-weight: 600;">Hoy</span>
                        <div style="width: 6px; height: 6px; background: #2ECC71; border-radius: 50%;"></div>
                    </div>
                </div>

                <!-- Enhanced Incoming message -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; animation: slideInUp 0.5s ease-out;">
                    <div class="user-avatar"
                        style="width: 40px; height: 40px; font-size: 16px; flex-shrink: 0; background: linear-gradient(135deg, #E67E22, #D35400); box-shadow: 0 4px 12px rgba(230, 126, 34, 0.3);">
                        CM</div>
                    <div style="flex: 1; max-width: 75%;">
                        <div
                            style="background: white; padding: 16px 20px; border-radius: 20px 20px 20px 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #f0f0f0; position: relative;">
                            <div
                                style="position: absolute; top: -8px; left: 20px; background: #E67E22; color: white; padding: 2px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                Carlos
                            </div>
                            <p style="margin: 8px 0 0 0; color: #34495E; line-height: 1.5; font-size: 15px;">
                                ¬°Hola! Vi tu iPhone 12 Pro y me interesa mucho. Mi MacBook est√° en excelente estado,
                                apenas 6 meses de uso.
                            </p>
                        </div>
                        <div
                            style="margin-top: 8px; display: flex; align-items: center; gap: 8px; font-size: 12px; color: #7f8c8d;">
                            <span>10:30 AM</span>
                            <div style="width: 4px; height: 4px; background: #2ECC71; border-radius: 50%;"></div>
                            <span>Le√≠do</span>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Outgoing message -->
                <div
                    style="display: flex; justify-content: flex-end; margin-bottom: 20px; animation: slideInUp 0.5s ease-out;">
                    <div style="max-width: 75%;">
                        <div
                            style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 16px 20px; border-radius: 20px 20px 8px 20px; box-shadow: 0 6px 20px rgba(46, 204, 113, 0.3); position: relative;">
                            <div
                                style="position: absolute; top: -8px; right: 20px; background: #27AE60; color: white; padding: 2px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                T√∫
                            </div>
                            <p style="margin: 8px 0 0 0; line-height: 1.5; font-size: 15px;">
                                ¬°Hola Carlos! Me parece interesante tu propuesta. ¬øPodr√≠as enviarme m√°s fotos del
                                MacBook?
                            </p>
                        </div>
                        <div
                            style="margin-top: 8px; display: flex; align-items: center; gap: 8px; font-size: 12px; color: #7f8c8d; justify-content: flex-end;">
                            <span>10:35 AM</span>
                            <div style="width: 4px; height: 4px; background: #2ECC71; border-radius: 50%;"></div>
                            <span style="color: #2ECC71;">‚úì‚úì Entregado</span>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Incoming message with images -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; animation: slideInUp 0.5s ease-out;">
                    <div class="user-avatar"
                        style="width: 40px; height: 40px; font-size: 16px; flex-shrink: 0; background: linear-gradient(135deg, #E67E22, #D35400); box-shadow: 0 4px 12px rgba(230, 126, 34, 0.3);">
                        CM</div>
                    <div style="flex: 1; max-width: 75%;">
                        <div
                            style="background: white; padding: 16px 20px; border-radius: 20px 20px 20px 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #f0f0f0; position: relative;">
                            <div
                                style="position: absolute; top: -8px; left: 20px; background: #E67E22; color: white; padding: 2px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                Carlos
                            </div>
                            <p style="margin: 8px 0 15px 0; color: #34495E; font-size: 15px;">¬°Por supuesto! Aqu√≠ tienes
                                algunas fotos:</p>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <div
                                    style="height: 100px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #999; cursor: pointer; border: 2px solid #e0e0e0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                                    <div style="font-size: 32px;">üñºÔ∏è</div>
                                    <div
                                        style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; font-size: 10px; text-align: center;">
                                        Foto 1
                                    </div>
                                </div>
                                <div
                                    style="height: 100px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #999; cursor: pointer; border: 2px solid #e0e0e0; transition: all 0.3s ease; position: relative; overflow: hidden;">
                                    <div style="font-size: 32px;">üñºÔ∏è</div>
                                    <div
                                        style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; font-size: 10px; text-align: center;">
                                        Foto 2
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div
                            style="margin-top: 8px; display: flex; align-items: center; gap: 8px; font-size: 12px; color: #7f8c8d;">
                            <span>10:36 AM</span>
                            <div style="width: 4px; height: 4px; background: #2ECC71; border-radius: 50%;"></div>
                            <span>Le√≠do</span>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Quick actions suggestion -->
                <div style="display: flex; gap: 12px; margin: 25px 0; justify-content: center; flex-wrap: wrap;">
                    <button onclick="acceptExchange()"
                        style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 12px 20px; border-radius: 25px; font-size: 13px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3); transition: all 0.3s ease; display: flex; align-items: center; gap: 8px;">
                        ‚úÖ Aceptar intercambio
                    </button>
                    <button onclick="proposeLocation()"
                        style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 12px 20px; border-radius: 25px; font-size: 13px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3); transition: all 0.3s ease; display: flex; align-items: center; gap: 8px;">
                        üìç Proponer ubicaci√≥n
                    </button>
                    <button onclick="requestMoreInfo()"
                        style="background: linear-gradient(135deg, #F39C12, #E67E22); color: white; border: none; padding: 12px 20px; border-radius: 25px; font-size: 13px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3); transition: all 0.3s ease; display: flex; align-items: center; gap: 8px;">
                        ‚ùì Solicitar m√°s info
                    </button>
                </div>

                <!-- Outgoing message -->
                <div style="display: flex; justify-content: flex-end; margin-bottom: 15px;">
                    <div style="max-width: 80%;">
                        <div
                            style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 12px 16px; border-radius: 18px 18px 4px 18px; box-shadow: 0 1px 2px rgba(0,0,0,0.1);">
                            <p style="margin: 0; line-height: 1.4;">
                                ¬°Perfecto! Se ve en excelente estado. Me parece un buen intercambio. ¬øD√≥nde te gustar√≠a
                                encontrarnos?
                            </p>
                        </div>
                        <div style="margin-top: 4px; font-size: 11px; color: #7f8c8d; text-align: right;">10:40 AM ‚úì‚úì
                        </div>
                    </div>
                </div>

                <!-- Enhanced System message -->
                <div style="text-align: center; margin: 25px 0;">
                    <div
                        style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); color: #3498DB; padding: 15px 25px; border-radius: 25px; font-size: 13px; display: inline-block; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2); border: 1px solid #d1ecf1; position: relative; animation: fadeInScale 0.6s ease-out;">
                        <div
                            style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: #3498DB; color: white; padding: 4px 12px; border-radius: 12px; font-size: 10px; font-weight: 600;">
                            üéâ √âXITO
                        </div>
                        <div style="margin-top: 8px; font-weight: 600;">¬°Intercambio aceptado!</div>
                        <div style="font-size: 12px; opacity: 0.9;">Ahora pueden coordinar la entrega</div>
                    </div>
                </div>

                <!-- Incoming message -->
                <div style="display: flex; gap: 12px; margin-bottom: 15px;">
                    <div class="user-avatar" style="width: 32px; height: 32px; font-size: 14px; flex-shrink: 0;">CM
                    </div>
                    <div style="flex: 1;">
                        <div
                            style="background: white; padding: 12px 16px; border-radius: 18px 18px 18px 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); max-width: 80%;">
                            <p style="margin: 0; color: #34495E; line-height: 1.4;">
                                ¬°Excelente! ¬øQu√© tal en Centro Comercial Pereira Plaza ma√±ana a las 3 PM?
                            </p>
                        </div>
                        <div style="margin-top: 4px; font-size: 11px; color: #7f8c8d;">10:42 AM</div>
                    </div>
                </div>

                <!-- Enhanced Location suggestion -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; animation: slideInUp 0.5s ease-out;">
                    <div class="user-avatar"
                        style="width: 40px; height: 40px; font-size: 16px; flex-shrink: 0; background: linear-gradient(135deg, #E67E22, #D35400); box-shadow: 0 4px 12px rgba(230, 126, 34, 0.3);">
                        CM</div>
                    <div style="flex: 1; max-width: 75%;">
                        <div
                            style="background: white; padding: 16px 20px; border-radius: 20px 20px 20px 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #f0f0f0; position: relative;">
                            <div
                                style="position: absolute; top: -8px; left: 20px; background: #E67E22; color: white; padding: 2px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                Carlos
                            </div>
                            <div
                                style="background: linear-gradient(135deg, #f0f8ff, #e6f3ff); padding: 15px; border-radius: 12px; border: 2px solid #3498DB; position: relative;">
                                <div
                                    style="position: absolute; top: -8px; left: 15px; background: #3498DB; color: white; padding: 2px 8px; border-radius: 8px; font-size: 10px; font-weight: 600;">
                                    üìç UBICACI√ìN
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                                    <div
                                        style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                        üìç
                                    </div>
                                    <div>
                                        <div
                                            style="font-weight: 700; color: #34495E; font-size: 15px; margin-bottom: 3px;">
                                            Centro Comercial Pereira Plaza</div>
                                        <div style="color: #7f8c8d; font-size: 12px;">Pereira, Risaralda, Colombia</div>
                                        <div style="color: #3498DB; font-size: 11px; font-weight: 600;">Lugar p√∫blico y
                                            seguro</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                    <button onclick="viewOnMap()"
                                        style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                        üó∫Ô∏è Ver en mapa
                                    </button>
                                    <button onclick="acceptLocation()"
                                        style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3); transition: all 0.3s ease;">
                                        ‚úÖ Aceptar lugar
                                    </button>
                                    <button onclick="suggestAlternative()"
                                        style="background: linear-gradient(135deg, #F39C12, #E67E22); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(243, 156, 18, 0.3); transition: all 0.3s ease;">
                                        üîÑ Sugerir otro
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div
                            style="margin-top: 8px; display: flex; align-items: center; gap: 8px; font-size: 12px; color: #7f8c8d;">
                            <span>10:43 AM</span>
                            <div style="width: 4px; height: 4px; background: #2ECC71; border-radius: 50%;"></div>
                            <span>Le√≠do</span>
                        </div>
                    </div>
                </div>

                <!-- Typing indicator -->
                <div style="display: flex; gap: 12px; margin-bottom: 15px;">
                    <div class="user-avatar"
                        style="width: 32px; height: 32px; font-size: 14px; flex-shrink: 0; opacity: 0.5;">TU</div>
                    <div
                        style="background: white; padding: 12px 16px; border-radius: 18px 18px 18px 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1);">
                        <div class="typing-indicator" style="display: flex; gap: 4px;">
                            <div
                                style="width: 8px; height: 8px; border-radius: 50%; background: #bdc3c7; animation: typing 1.5s infinite;">
                            </div>
                            <div
                                style="width: 8px; height: 8px; border-radius: 50%; background: #bdc3c7; animation: typing 1.5s infinite 0.2s;">
                            </div>
                            <div
                                style="width: 8px; height: 8px; border-radius: 50%; background: #bdc3c7; animation: typing 1.5s infinite 0.4s;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Message Input -->
            <div style="background: white; padding: 15px 20px; border-top: 1px solid #e0e0e0;">
                <div style="display: flex; align-items: end; gap: 12px;">
                    <button
                        style="background: none; border: none; color: #7f8c8d; font-size: 20px; cursor: pointer; padding: 8px;">üìé</button>
                    <button
                        style="background: none; border: none; color: #7f8c8d; font-size: 20px; cursor: pointer; padding: 8px;">üì∑</button>
                    <div style="flex: 1; position: relative;">
                        <textarea placeholder="Escribe un mensaje..."
                            style="width: 100%; border: 1px solid #e0e0e0; border-radius: 20px; padding: 12px 45px 12px 16px; resize: none; font-family: inherit; font-size: 14px; line-height: 1.4; max-height: 100px; min-height: 40px;"
                            rows="1"></textarea>
                        <button
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #7f8c8d; font-size: 16px; cursor: pointer;">üòä</button>
                    </div>
                    <button
                        style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px;">‚û§</button>
                </div>

                <!-- Quick replies -->
                <div style="display: flex; gap: 8px; margin-top: 12px; overflow-x: auto; padding-bottom: 5px;">
                    <button
                        style="background: #f0f8ff; border: 1px solid #3498DB; color: #3498DB; padding: 6px 12px; border-radius: 15px; font-size: 12px; cursor: pointer; white-space: nowrap;">üëç
                        Me parece bien</button>
                    <button
                        style="background: #f0f8ff; border: 1px solid #3498DB; color: #3498DB; padding: 6px 12px; border-radius: 15px; font-size: 12px; cursor: pointer; white-space: nowrap;">üìç
                        Proponer lugar</button>
                    <button
                        style="background: #f0f8ff; border: 1px solid #3498DB; color: #3498DB; padding: 6px 12px; border-radius: 15px; font-size: 12px; cursor: pointer; white-space: nowrap;">üìÖ
                        Cambiar fecha</button>
                    <button
                        style="background: #f0f8ff; border: 1px solid #3498DB; color: #3498DB; padding: 6px 12px; border-radius: 15px; font-size: 12px; cursor: pointer; white-space: nowrap;">‚ùì
                        Tengo dudas</button>
                </div>
            </div>
            <!-- New Proposal Screen -->
            <div id="new-proposal" class="mockup-screen">
                <!-- Enhanced Header with Progress Indicator -->
                <div class="header" style="position: relative; overflow: hidden;">
                    <div class="logo">
                        <span style="font-size: 32px;">ÔøΩÔøΩÔøΩ</span>
                        EcoSwap
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <button class="btn-secondary" onclick="showScreen('interactions')"
                            style="display: flex; align-iems: center; gap: 8px;">
                            <span style="font-size: 18px;">‚Üê</span>
                            Volver
                        </button>
                    </div>

                    <!-- Progress Bar -->
                    <div
                        style="position: absolute; bottom: 0; left: 0; right: 0; height: 4px; background: rgba(255,255,255,0.3);">
                        <div
                            style="height: 100%; background: linear-gradient(90deg, #2ECC71, #27AE60); width: 25%; transition: width 0.5s ease;">
                        </div>
                    </div>
                </div>

                <div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
                    <!-- Enhanced Header with Animation -->
                    <div
                        style="background: linear-gradient(135deg, #D5FDCB, #27AE60, #2ECC71); color: white; padding: 40px; border-radius: 25px; text-align: center; margin-bottom: 30px; position: relative; overflow: hidden; box-shadow: 0 10px 30px rgba(39, 174, 96, 0.3);">
                        <!-- Floating Elements -->
                        <div
                            style="position: absolute; top: -20px; left: -20px; width: 60px; height: 60px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 6s ease-in-out infinite;">
                        </div>
                        <div
                            style="position: absolute; bottom: -30px; right: -30px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%; animation: float 8s ease-in-out infinite reverse;">
                        </div>

                        <div style="font-size: 64px; margin-bottom: 20px; animation: bounce 2s ease-in-out infinite;">
                            ÔøΩÔøΩÔøΩ</div>
                        <h1
                            style="font-size: 32px; margin-bottom: 15px; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            Crear Nueva Propuesta</h1>
                        <p style="font-size: 18px; opacity: 0.95; line-height: 1.6; margin-bottom: 20px;">
                            Prop√≥n un intercambio atractivo y aumenta tus posibilidades de √©xito
                        </p>

                        <!-- Status Badge -->
                        <div
                            style="display: inline-block; background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3);">
                            <span style="font-weight: 600; font-size: 14px;">PASO 1 DE 4</span>
                        </div>
                    </div>

                    <!-- Proposal Form -->
                    <div
                        style="background: white; padding: 35px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); border: 1px solid #f0f0f0; margin-bottom: 30px;">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 30px;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                                ÔøΩÔøΩÔøΩ</div>
                            <h2 style="color: #34495E; margin: 0; font-size: 24px; font-weight: 700;">Formulario de
                                Propuesta</h2>
                        </div>

                        <!-- Step 1: Select User and Product -->
                        <div style="margin-bottom: 30px;">
                            <h3
                                style="color: #34495E; margin-bottom: 20px; font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 10px;">
                                <div
                                    style="width: 24px; height: 24px; background: #3498DB; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">
                                    1</div>
                                Seleccionar Usuario y Producto
                            </h3>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                                <!-- User Selection -->
                                <div
                                    style="background: linear-gradient(135deg, #f8f9fa, #ffffff); padding: 25px; border-radius: 15px; border: 2px solid #e8e8e8;">
                                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                                        <div
                                            style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                            ÔøΩÔøΩÔøΩ</div>
                                        <h4 style="color: #34495E; margin: 0; font-size: 16px; font-weight: 600;">
                                            Usuario Destino</h4>
                                    </div>

                                    <div style="display: flex; align-items: center; gap: 15px; padding: 15px; background: white; border-radius: 12px; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s ease;"
                                        onclick="selectUser()">
                                        <div
                                            style="width: 50px; height: 50px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">
                                            CM</div>
                                        <div style="flex: 1;">
                                            <div
                                                style="font-weight: 700; color: #34495E; font-size: 15px; margin-bottom: 3px;">
                                                Carlos Mendoza</div>
                                            <div style="color: #7f8c8d; font-size: 12px;">‚≠ê 4.6 ‚Ä¢ 15 intercambios</div>
                                            <div style="color: #3498DB; font-size: 11px; font-weight: 600;">Pereira,
                                                Colombia</div>
                                        </div>
                                        <div style="color: #7f8c8d; font-size: 18px;">‚ñº</div>
                                    </div>

                                    <div
                                        style="margin-top: 15px; padding: 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 10px; border: 1px solid #d1ecf1;">
                                        <div
                                            style="color: #3498DB; font-weight: 600; font-size: 12px; margin-bottom: 5px;">
                                            ÔøΩÔøΩÔøΩ Consejo</div>
                                        <div style="color: #2980B9; font-size: 11px;">Selecciona usuarios con buena
                                            reputaci√≥n para mayor √©xito</div>
                                    </div>
                                </div>

                                <!-- Product Selection -->
                                <div
                                    style="background: linear-gradient(135deg, #f8f9fa, #ffffff); padding: 25px; border-radius: 15px; border: 2px solid #e8e8e8;">
                                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                                        <div
                                            style="width: 40px; height: 40px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                            ÔøΩÔøΩÔøΩ</div>
                                        <h4 style="color: #34495E; margin: 0; font-size: 16px; font-weight: 600;">
                                            Producto del Usuario</h4>
                                    </div>

                                    <div style="display: flex; align-items: center; gap: 15px; padding: 15px; background: white; border-radius: 12px; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s ease;"
                                        onclick="selectProduct()">
                                        <div
                                            style="width: 50px; height: 50px; background: linear-gradient(45deg, #f8f9fa, #e9ecef); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #ffeaa7;">
                                            ÔøΩÔøΩÔøΩ</div>
                                        <div style="flex: 1;">
                                            <div
                                                style="font-weight: 700; color: #34495E; font-size: 15px; margin-bottom: 3px;">
                                                MacBook Air M1</div>
                                            <div style="color: #7f8c8d; font-size: 12px;">2021, 256GB SSD</div>
                                            <div style="color: #27AE60; font-size: 11px; font-weight: 600;">Excelente
                                                estado</div>
                                        </div>
                                        <div style="color: #7f8c8d; font-size: 18px;">‚ñº</div>
                                    </div>

                                    <div
                                        style="margin-top: 15px; padding: 12px; background: linear-gradient(135deg, #E8F4FD, #F0F8FF); border-radius: 10px; border: 1px solid #d1ecf1;">
                                        <div
                                            style="color: #3498DB; font-weight: 600; font-size: 12px; margin-bottom: 5px;">
                                            ÔøΩÔøΩÔøΩ Consejo</div>
                                        <div style="color: #2980B9; font-size: 11px;">Aseg√∫rate de que el producto est√©
                                            en buen estado</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Your Product -->
                        <div style="margin-bottom: 30px;">
                            <h3
                                style="color: #34495E; margin-bottom: 20px; font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 10px;">
                                <div
                                    style="width: 24px; height: 24px; background: #2ECC71; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">
                                    2</div>
                                Tu Producto de Intercambio
                            </h3>

                            <div
                                style="background: linear-gradient(135deg, #f0fff4, #e6fffa); padding: 25px; border-radius: 15px; border: 2px solid #a8e6cf;">
                                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                                    <div
                                        style="width: 50px; height: 50px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                                        ÔøΩÔøΩÔøΩ</div>
                                    <div>
                                        <h4
                                            style="color: #34495E; margin: 0 0 5px 0; font-size: 18px; font-weight: 700;">
                                            iPhone 12 Pro</h4>
                                        <div style="color: #27AE60; font-size: 13px; font-weight: 600;">Tu producto
                                            seleccionado</div>
                                    </div>
                                </div>

                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                    <div
                                        style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #a8e6cf;">
                                        <div style="color: #7f8c8d; font-size: 12px; margin-bottom: 5px;">Estado</div>
                                        <div style="color: #34495E; font-weight: 600; font-size: 14px;">95% bater√≠a
                                        </div>
                                    </div>
                                    <div
                                        style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #a8e6cf;">
                                        <div style="color: #7f8c8d; font-size: 12px; margin-bottom: 5px;">Capacidad
                                        </div>
                                        <div style="color: #34495E; font-weight: 600; font-size: 14px;">128GB</div>
                                    </div>
                                    <div
                                        style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #a8e6cf;">
                                        <div style="color: #7f8c8d; font-size: 12px; margin-bottom: 5px;">Color</div>
                                        <div style="color: #34495E; font-weight: 600; font-size: 14px;">Azul Pac√≠fico
                                        </div>
                                    </div>
                                </div>

                                <button onclick="changeProduct()"
                                    style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 10px 20px; border-radius: 20px; font-size: 13px; cursor: pointer; font-weight: 600; margin-top: 15px; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                    ÔøΩÔøΩÔøΩ Cambiar Producto
                                </button>
                            </div>
                        </div>

                        <!-- Step 3: Proposal Details -->
                        <div style="margin-bottom: 30px;">
                            <h3
                                style="color: #34495E; margin-bottom: 20px; font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 10px;">
                                <div
                                    style="width: 24px; height: 24px; background: #F39C12; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">
                                    3</div>
                                Detalles de la Propuesta
                            </h3>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                                <!-- Message -->
                                <div>
                                    <label
                                        style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600; font-size: 14px;">ÔøΩÔøΩÔøΩ
                                        Mensaje Personalizado</label>
                                    <textarea id="proposal-message"
                                        placeholder="Escribe un mensaje atractivo para convencer al usuario..."
                                        style="width: 100%; height: 120px; border: 2px solid #e0e0e0; border-radius: 12px; padding: 15px; font-family: inherit; font-size: 14px; line-height: 1.5; resize: vertical; transition: border-color 0.3s ease;"
                                        onfocus="this.style.borderColor='#3498DB'"
                                        onblur="this.style.borderColor='#e0e0e0'"></textarea>
                                    <div style="margin-top: 8px; font-size: 12px; color: #7f8c8d;">
                                        <span id="message-count">0</span>/500 caracteres
                                    </div>
                                </div>

                                <!-- Additional Options -->
                                <div>
                                    <label
                                        style="display: block; margin-bottom: 8px; color: #34495E; font-weight: 600; font-size: 14px;">‚öôÔ∏è
                                        Opciones Adicionales</label>

                                    <div style="display: flex; flex-direction: column; gap: 12px;">
                                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                            <input type="checkbox"
                                                style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                            <span style="color: #34495E; font-size: 14px;">ÔøΩÔøΩÔøΩ Incluir fotos
                                                adicionales</span>
                                        </label>

                                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                            <input type="checkbox"
                                                style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                            <span style="color: #34495E; font-size: 14px;">ÔøΩÔøΩÔøΩ Sugerir ubicaci√≥n de
                                                encuentro</span>
                                        </label>

                                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                            <input type="checkbox"
                                                style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                            <span style="color: #34495E; font-size: 14px;">‚è∞ Proponer horario
                                                flexible</span>
                                        </label>

                                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                            <input type="checkbox"
                                                style="width: 18px; height: 18px; accent-color: #2ECC71;">
                                            <span style="color: #34495E; font-size: 14px;">ÔøΩÔøΩÔøΩ Incluir accesorios
                                                adicionales</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Review and Submit -->
                        <div style="margin-bottom: 30px;">
                            <h3
                                style="color: #34495E; margin-bottom: 20px; font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 10px;">
                                <div
                                    style="width: 24px; height: 24px; background: #9B59B6; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;">
                                    4</div>
                                Revisar y Enviar
                            </h3>

                            <div
                                style="background: linear-gradient(135deg, #f8f9fa, #ffffff); padding: 25px; border-radius: 15px; border: 1px solid #e8e8e8;">
                                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                                    <div
                                        style="width: 40px; height: 40px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                                        ÔøΩÔøΩÔøΩ</div>
                                    <h4 style="color: #34495E; margin: 0; font-size: 16px; font-weight: 600;">Resumen de
                                        la Propuesta</h4>
                                </div>

                                <div
                                    style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; align-items: center; margin-bottom: 20px;">
                                    <div
                                        style="text-align: center; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #a8e6cf;">
                                        <div style="font-size: 24px; margin-bottom: 5px;">ÔøΩÔøΩÔøΩ</div>
                                        <div
                                            style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 5px;">
                                            iPhone 12 Pro</div>
                                        <div style="color: #7f8c8d; font-size: 12px;">128GB, Azul</div>
                                        <div
                                            style="color: #27AE60; font-size: 11px; font-weight: 600; margin-top: 5px;">
                                            T√∫ ofreces</div>
                                    </div>

                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                        <div
                                            style="font-size: 32px; color: #2ECC71; animation: bounce 2s ease-in-out infinite;">
                                            ‚ü∑</div>
                                        <div
                                            style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 6px 12px; border-radius: 10px; font-size: 11px; font-weight: 600;">
                                            INTERCAMBIO
                                        </div>
                                    </div>

                                    <div
                                        style="text-align: center; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #d1ecf1;">
                                        <div style="font-size: 24px; margin-bottom: 5px;">ÔøΩÔøΩÔøΩ</div>
                                        <div
                                            style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 5px;">
                                            MacBook Air M1</div>
                                        <div style="color: #7f8c8d; font-size: 12px;">2021, 256GB SSD</div>
                                        <div
                                            style="color: #3498DB; font-size: 11px; font-weight: 600; margin-top: 5px;">
                                            Carlos ofrece</div>
                                    </div>
                                </div>

                                <div
                                    style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #e8e8e8; margin-bottom: 20px;">
                                    <div style="color: #34495E; font-weight: 600; font-size: 13px; margin-bottom: 8px;">
                                        ÔøΩÔøΩÔøΩ Tu mensaje:</div>
                                    <div id="message-preview"
                                        style="color: #7f8c8d; font-size: 13px; font-style: italic; line-height: 1.4;">
                                        Escribe tu mensaje para ver la vista previa aqu√≠...
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                            <button onclick="saveDraft()"
                                style="background: linear-gradient(135deg, #95A5A6, #7F8C8D); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3); transition: all 0.3s ease;">
                                ÔøΩÔøΩÔøΩ Guardar Borrador
                            </button>
                            <button onclick="previewProposal()"
                                style="background: linear-gradient(135deg, #3498DB, #2980B9); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3); transition: all 0.3s ease;">
                                ÔøΩÔøΩÔøΩÔ∏è Vista Previa
                            </button>
                            <button onclick="submitProposal()"
                                style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3); transition: all 0.3s ease;">
                                ÔøΩÔøΩÔøΩ Enviar Propuesta
                            </button>
                        </div>
                    </div>

                    <!-- Tips Section -->
                    <div
                        style="background: linear-gradient(135deg, #E8F4FD, #F0F8FF); padding: 25px; border-radius: 20px; border: 1px solid #d1ecf1; margin-bottom: 30px;">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                            <div
                                style="width: 50px; height: 50px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
                                ÔøΩÔøΩÔøΩ</div>
                            <h3 style="color: #34495E; margin: 0; font-size: 20px; font-weight: 700;">Consejos para una
                                Propuesta Exitosa</h3>
                        </div>

                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                            <div
                                style="background: white; padding: 20px; border-radius: 15px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-size: 24px; margin-bottom: 10px;">‚úçÔ∏è</div>
                                <h4 style="color: #34495E; margin: 0 0 10px 0; font-size: 16px; font-weight: 600;">
                                    Mensaje Personalizado</h4>
                                <p style="color: #7f8c8d; margin: 0; font-size: 13px; line-height: 1.5;">S√© espec√≠fico
                                    sobre por qu√© quieres el intercambio y destaca las ventajas.</p>
                            </div>

                            <div
                                style="background: white; padding: 20px; border-radius: 15px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-size: 24px; margin-bottom: 10px;">ÔøΩÔøΩÔøΩ</div>
                                <h4 style="color: #34495E; margin: 0 0 10px 0; font-size: 16px; font-weight: 600;">Fotos
                                    de Calidad</h4>
                                <p style="color: #7f8c8d; margin: 0; font-size: 13px; line-height: 1.5;">Incluye fotos
                                    claras que muestren el estado real del producto.</p>
                            </div>

                            <div
                                style="background: white; padding: 20px; border-radius: 15px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-size: 24px; margin-bottom: 10px;">ÔøΩÔøΩÔøΩ</div>
                                <h4 style="color: #34495E; margin: 0 0 10px 0; font-size: 16px; font-weight: 600;">Ser
                                    Flexible</h4>
                                <p style="color: #7f8c8d; margin: 0; font-size: 13px; line-height: 1.5;">Ofrece opciones
                                    de ubicaci√≥n y horario para facilitar el encuentro.</p>
                            </div>

                            <div
                                style="background: white; padding: 20px; border-radius: 15px; border: 1px solid #d1ecf1;">
                                <div style="color: #3498DB; font-size: 24px; margin-bottom: 10px;">‚è∞</div>
                                <h4 style="color: #34495E; margin: 0 0 10px 0; font-size: 16px; font-weight: 600;">
                                    Respuesta R√°pida</h4>
                                <p style="color: #7f8c8d; margin: 0; font-size: 13px; line-height: 1.5;">Responde
                                    r√°pidamente a las consultas para mantener el inter√©s.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Profile Screen -->
        <div id="profile" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 20px;">
                    <button class="btn-secondary" onclick="showEditProfile()">‚úèÔ∏è Editar</button>
                    <span style="cursor: pointer;" onclick="showNotifications()">üîî</span>
                </div>
            </div>

            <div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
                <!-- Profile Header -->
                <div
                    style="background: linear-gradient(135deg, #2ECC71, #27AE60); color: white; padding: 15px 20px; border-radius: 20px 20px 0 0; position: relative;">
                    <div style="display: flex; align-items: center; gap: 20px;">
                        <div style="position: relative;">
                            <div
                                style="width: 120px; height: 120px; border-radius: 50%; background: white; color: #2ECC71; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: bold; border: 4px solid rgba(255,255,255,0.3);">
                                MJ</div>
                            <div
                                style="position: absolute; bottom: 8px; right: 8px; width: 32px; height: 32px; background: #27AE60; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; border: 3px solid white;">
                                ‚úì</div>
                        </div>
                        <div style="flex: 1;">
                            <h1 style="margin: 0 0 10px 0; font-size: 32px; font-weight: bold;">Mar√≠a Jos√© Ram√≠rez</h1>
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div style="display: flex; align-items: center; gap: 5px;">
                                    <span style="color: #FFD700;">‚≠ê</span>
                                    <span style="font-weight: 600;">4.8</span>
                                    <span style="opacity: 0.8;">(47 rese√±as)</span>
                                </div>
                                <div style="width: 1px; height: 20px; background: rgba(255,255,255,0.3);"></div>
                                <div style="display: flex; align-items: center; gap: 5px;">
                                    <span>üîÑ</span>
                                    <span style="font-weight: 600;">23 intercambios</span>
                                </div>
                                <div style="width: 1px; height: 20px; background: rgba(255,255,255,0.3);"></div>
                                <div style="display: flex; align-items: center; gap: 5px;">
                                    <span>üìç</span>
                                    <span>Pereira, Colombia</span>
                                </div>
                            </div>
                            <p style="opacity: 0.9; line-height: 1.5; margin: 0;">
                                Apasionada por el intercambio sostenible. Me encanta darle una segunda vida a los
                                objetos y conocer personas con valores similares.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Profile Stats Dashboard -->
                <div
                    style="background: white; padding: 30px; border-radius: 0 0 25px 25px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); margin-bottom: 30px; position: relative; overflow: hidden;">
                    <!-- Background Pattern -->
                    <div
                        style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(39, 174, 96, 0.1)); border-radius: 50%;">
                    </div>
                    <div
                        style="position: absolute; bottom: -30px; left: -30px; width: 150px; height: 150px; background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1)); border-radius: 50%;">
                    </div>

                    <!-- Stats Header -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h2 style="color: #34495E; margin: 0 0 10px 0; font-size: 24px; font-weight: 700;">üìä Panel de
                            Estad√≠sticas</h2>
                        <p style="color: #7f8c8d; margin: 0; font-size: 14px;">Resumen completo de tu actividad en
                            EcoSwap</p>
                    </div>

                    <!-- Main Stats Grid -->
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <!-- Intercambios Completados -->
                        <div
                            style="background: linear-gradient(135deg, #f0fff4, #e6fffa); padding: 25px; border-radius: 20px; border: 2px solid #a8e6cf; text-align: center; position: relative; overflow: hidden;">
                            <div
                                style="position: absolute; top: -15px; right: -15px; width: 60px; height: 60px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; opacity: 0.1;">
                                üîÑ</div>
                            <div
                                style="font-size: 48px; font-weight: 800; color: #2ECC71; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(46, 204, 113, 0.2);">
                                23</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">
                                Intercambios</div>
                            <div style="color: #27AE60; font-size: 13px; font-weight: 600;">Completados</div>
                            <div
                                style="margin-top: 15px; padding: 8px 12px; background: rgba(46, 204, 113, 0.1); border-radius: 10px; font-size: 12px; color: #27AE60;">
                                +15% este mes
                            </div>
                        </div>

                        <!-- Productos Activos -->
                        <div
                            style="background: linear-gradient(135deg, #f0f8ff, #e6f3ff); padding: 25px; border-radius: 20px; border: 2px solid #b3d9ff; text-align: center; position: relative; overflow: hidden;">
                            <div
                                style="position: absolute; top: -15px; right: -15px; width: 60px; height: 60px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; opacity: 0.1;">
                                üì¶</div>
                            <div
                                style="font-size: 48px; font-weight: 800; color: #3498DB; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);">
                                8</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">
                                Productos</div>
                            <div style="color: #2980B9; font-size: 13px; font-weight: 600;">Activos</div>
                            <div
                                style="margin-top: 15px; padding: 8px 12px; background: rgba(52, 152, 219, 0.1); border-radius: 10px; font-size: 12px; color: #2980B9;">
                                3 en intercambio
                            </div>
                        </div>

                        <!-- Tiempo en EcoSwap -->
                        <div
                            style="background: linear-gradient(135deg, #fff8f0, #fff5e6); padding: 25px; border-radius: 20px; border: 2px solid #ffeaa7; text-align: center; position: relative; overflow: hidden;">
                            <div
                                style="position: absolute; top: -15px; right: -15px; width: 60px; height: 60px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; opacity: 0.1;">
                                ‚è∞</div>
                            <div
                                style="font-size: 48px; font-weight: 800; color: #E67E22; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(230, 126, 34, 0.2);">
                                2</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">A√±os
                            </div>
                            <div style="color: #D35400; font-size: 13px; font-weight: 600;">en EcoSwap</div>
                            <div
                                style="margin-top: 15px; padding: 8px 12px; background: rgba(230, 126, 34, 0.1); border-radius: 10px; font-size: 12px; color: #D35400;">
                                Miembro desde 2022
                            </div>
                        </div>

                        <!-- Eco Puntos -->
                        <div
                            style="background: linear-gradient(135deg, #f8f0ff, #f0e6ff); padding: 25px; border-radius: 20px; border: 2px solid #d4b3ff; text-align: center; position: relative; overflow: hidden;">
                            <div
                                style="position: absolute; top: -15px; right: -15px; width: 60px; height: 60px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; opacity: 0.1;">
                                üå±</div>
                            <div
                                style="font-size: 48px; font-weight: 800; color: #9B59B6; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(155, 89, 182, 0.2);">
                                156</div>
                            <div style="font-weight: 700; color: #34495E; font-size: 16px; margin-bottom: 5px;">Eco
                                Puntos</div>
                            <div style="color: #8E44AD; font-size: 13px; font-weight: 600;">Ganados</div>
                            <div
                                style="margin-top: 15px; padding: 8px 12px; background: rgba(155, 89, 182, 0.1); border-radius: 10px; font-size: 12px; color: #8E44AD;">
                                Nivel Oro
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Stats Section -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 25px;">
                        <!-- Activity Chart -->
                        <div
                            style="background: linear-gradient(135deg, #f8f9fa, #ffffff); padding: 25px; border-radius: 20px; border: 1px solid #e8e8e8;">
                            <h3
                                style="color: #34495E; margin: 0 0 20px 0; font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 10px;">
                                üìà Actividad Mensual
                            </h3>
                            <div style="display: flex; align-items: end; gap: 8px; height: 120px; margin-bottom: 15px;">
                                <div
                                    style="flex: 1; background: linear-gradient(to top, #2ECC71, #27AE60); border-radius: 8px 8px 0 0; height: 40%; position: relative;">
                                    <div
                                        style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: #34495E; color: white; padding: 4px 8px; border-radius: 6px; font-size: 10px; white-space: nowrap;">
                                        Ene: 3</div>
                                </div>
                                <div
                                    style="flex: 1; background: linear-gradient(to top, #2ECC71, #27AE60); border-radius: 8px 8px 0 0; height: 60%; position: relative;">
                                    <div
                                        style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: #34495E; color: white; padding: 4px 8px; border-radius: 6px; font-size: 10px; white-space: nowrap;">
                                        Feb: 5</div>
                                </div>
                                <div
                                    style="flex: 1; background: linear-gradient(to top, #2ECC71, #27AE60); border-radius: 8px 8px 0 0; height: 80%; position: relative;">
                                    <div
                                        style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: #34495E; color: white; padding: 4px 8px; border-radius: 6px; font-size: 10px; white-space: nowrap;">
                                        Mar: 7</div>
                                </div>
                                <div
                                    style="flex: 1; background: linear-gradient(to top, #2ECC71, #27AE60); border-radius: 8px 8px 0 0; height: 100%; position: relative;">
                                    <div
                                        style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: #34495E; color: white; padding: 4px 8px; border-radius: 6px; font-size: 10px; white-space: nowrap;">
                                        Abr: 8</div>
                                </div>
                            </div>
                            <div style="text-align: center; color: #7f8c8d; font-size: 12px;">Tendencia creciente +25%
                            </div>
                        </div>

                        <!-- Rating Distribution -->
                        <div
                            style="background: linear-gradient(135deg, #f8f9fa, #ffffff); padding: 25px; border-radius: 20px; border: 1px solid #e8e8e8;">
                            <h3
                                style="color: #34495E; margin: 0 0 20px 0; font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 10px;">
                                ‚≠ê Distribuci√≥n de Calificaciones
                            </h3>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="color: #FFD700; font-size: 16px;">5‚òÖ</span>
                                    <div
                                        style="flex: 1; background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                        <div
                                            style="background: linear-gradient(90deg, #FFD700, #FFA500); height: 100%; width: 85%;">
                                        </div>
                                    </div>
                                    <span style="color: #7f8c8d; font-size: 12px; font-weight: 600;">40</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="color: #FFD700; font-size: 16px;">4‚òÖ</span>
                                    <div
                                        style="flex: 1; background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                        <div
                                            style="background: linear-gradient(90deg, #FFD700, #FFA500); height: 100%; width: 12%;">
                                        </div>
                                    </div>
                                    <span style="color: #7f8c8d; font-size: 12px; font-weight: 600;">6</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="color: #FFD700; font-size: 16px;">3‚òÖ</span>
                                    <div
                                        style="flex: 1; background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                        <div
                                            style="background: linear-gradient(90deg, #FFD700, #FFA500); height: 100%; width: 3%;">
                                        </div>
                                    </div>
                                    <span style="color: #7f8c8d; font-size: 12px; font-weight: 600;">1</span>
                                </div>
                            </div>
                            <div
                                style="text-align: center; margin-top: 15px; padding: 10px; background: linear-gradient(135deg, #fff8f0, #fff5e6); border-radius: 10px; border: 1px solid #ffeaa7;">
                                <div style="color: #E67E22; font-weight: 700; font-size: 14px;">Calificaci√≥n Promedio:
                                    4.8</div>
                                <div style="color: #7f8c8d; font-size: 12px;">Basada en 47 rese√±as</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats Row -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <div
                            style="background: linear-gradient(135deg, #fff0f0, #ffe6e6); padding: 20px; border-radius: 15px; border: 1px solid #ffb3b3; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">üéØ</div>
                            <div style="font-weight: 700; color: #E74C3C; font-size: 18px;">98%</div>
                            <div style="color: #7f8c8d; font-size: 12px; font-weight: 600;">Tasa de √âxito</div>
                        </div>
                        <div
                            style="background: linear-gradient(135deg, #f0fff0, #e6ffe6); padding: 20px; border-radius: 15px; border: 1px solid #b3ffb3; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">‚ö°</div>
                            <div style="font-weight: 700; color: #27AE60; font-size: 18px;">2.3 d√≠as</div>
                            <div style="color: #7f8c8d; font-size: 12px; font-weight: 600;">Tiempo Promedio</div>
                        </div>
                        <div
                            style="background: linear-gradient(135deg, #f0f8ff, #e6f3ff); padding: 20px; border-radius: 15px; border: 1px solid #b3d9ff; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">üåç</div>
                            <div style="font-weight: 700; color: #3498DB; font-size: 18px;">12</div>
                            <div style="color: #7f8c8d; font-size: 12px; font-weight: 600;">Ciudades Visitadas</div>
                        </div>
                        <div
                            style="background: linear-gradient(135deg, #fff8f0, #fff5e6); padding: 20px; border-radius: 15px; border: 1px solid #ffeaa7; text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 8px;">üèÜ</div>
                            <div style="font-weight: 700; color: #E67E22; font-size: 18px;">Top 5%</div>
                            <div style="color: #7f8c8d; font-size: 12px; font-weight: 600;">Usuarios Activos</div>
                        </div>
                    </div>

                    <!-- Progress to Next Level -->
                    <div
                        style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #f8f9fa, #ffffff); border-radius: 15px; border: 1px solid #e8e8e8;">
                        <div
                            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                            <h3 style="color: #34495E; margin: 0; font-size: 16px; font-weight: 700;">üöÄ Progreso al
                                Siguiente Nivel</h3>
                            <span style="color: #2ECC71; font-weight: 700; font-size: 14px;">Nivel Platino</span>
                        </div>
                        <div
                            style="background: #e0e0e0; height: 12px; border-radius: 6px; overflow: hidden; margin-bottom: 10px;">
                            <div
                                style="background: linear-gradient(90deg, #2ECC71, #27AE60); height: 100%; width: 75%; transition: width 0.5s ease;">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 12px; color: #7f8c8d;">
                            <span>156 / 200 puntos</span>
                            <span>44 puntos restantes</span>
                        </div>
                    </div>
                </div>

                <!-- Badges Section -->
                <div
                    style="background: white; margin: 0 20px 20px 20px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üèÜ Insignias y Logros</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px;">
                        <div
                            style="text-align: center; padding: 20px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 12px; color: white;">
                            <div
                                style="width: 50px; height: 50px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto; font-size: 24px;">
                                ‚ôªÔ∏è</div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Eco Warrior</div>
                            <div style="font-size: 12px; opacity: 0.9;">+20 intercambios</div>
                        </div>
                        <div
                            style="text-align: center; padding: 20px; background: linear-gradient(135deg, #FFE5B4, #E67E22); border-radius: 12px; color: white;">
                            <div
                                style="width: 50px; height: 50px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto; font-size: 24px;">
                                ‚≠ê</div>
                            <div style="font-weight: 600; margin-bottom: 5px;">5 Stars</div>
                            <div style="font-size: 12px; opacity: 0.9;">Calificaci√≥n perfecta</div>
                        </div>
                        <div
                            style="text-align: center; padding: 20px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 12px; color: white;">
                            <div
                                style="width: 50px; height: 50px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto; font-size: 24px;">
                                ü§ù</div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Confiable</div>
                            <div style="font-size: 12px; opacity: 0.9;">Usuario verificado</div>
                        </div>
                        <div
                            style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 12px; color: #bdc3c7; border: 2px dashed #e0e0e0;">
                            <div
                                style="width: 50px; height: 50px; background: #e0e0e0; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto; font-size: 24px;">
                                üîí</div>
                            <div style="font-weight: 600; margin-bottom: 5px;">Pr√≥xima insignia</div>
                            <div style="font-size: 12px;">2 intercambios m√°s</div>
                        </div>
                    </div>
                </div>

                <!-- My Products Section -->
                <div
                    style="background: white; margin: 0 20px 20px 20px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 style="color: #34495E; margin: 0; font-size: 20px;">üì¶ Mis Productos (8 activos)</h2>
                        <button class="btn-primary" style="padding: 8px 16px; font-size: 14px;">+ Agregar
                            producto</button>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px;">
                        <div
                            style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; cursor: pointer; transition: transform 0.2s;">
                            <div
                                style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 30px;">
                                üì±</div>
                            <div style="padding: 12px;">
                                <div style="font-weight: 600; font-size: 12px; color: #34495E; margin-bottom: 5px;">
                                    iPhone 12 Pro</div>
                                <div
                                    style="background: #A8E6CF; color: #27AE60; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block;">
                                    INTERCAMBIO</div>
                            </div>
                        </div>
                        <div
                            style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; cursor: pointer; transition: transform 0.2s;">
                            <div
                                style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 30px;">
                                üìö</div>
                            <div style="padding: 12px;">
                                <div style="font-weight: 600; font-size: 12px; color: #34495E; margin-bottom: 5px;">
                                    Libros</div>
                                <div
                                    style="background: #A8E6CF; color: #27AE60; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block;">
                                    INTERCAMBIO</div>
                            </div>
                        </div>
                        <div
                            style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; cursor: pointer; transition: transform 0.2s;">
                            <div
                                style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 30px;">
                                üëï</div>
                            <div style="padding: 12px;">
                                <div style="font-weight: 600; font-size: 12px; color: #34495E; margin-bottom: 5px;">Ropa
                                    Casual</div>
                                <div
                                    style="background: #E8F4FD; color: #3498DB; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block;">
                                    DONACI√ìN</div>
                            </div>
                        </div>
                        <div
                            style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; cursor: pointer; transition: transform 0.2s;">
                            <div
                                style="height: 120px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; font-size: 30px;">
                                üéÆ</div>
                            <div style="padding: 12px;">
                                <div style="font-weight: 600; font-size: 12px; color: #34495E; margin-bottom: 5px;">
                                    Nintendo Switch</div>
                                <div
                                    style="background: #FFE5B4; color: #E67E22; padding: 2px 6px; border-radius: 8px; font-size: 10px; display: inline-block;">
                                    VENTA</div>
                            </div>
                        </div>
                        <div
                            style="border: 2px dashed #e0e0e0; border-radius: 10px; min-height: 180px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; color: #bdc3c7;">
                            <div style="font-size: 24px; margin-bottom: 10px;">‚ûï</div>
                            <div style="font-size: 12px; text-align: center;">Agregar<br>producto</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity Section -->
                <div
                    style="background: white; margin: 0 20px 20px 20px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚ö° Actividad Reciente</h2>
                    <div style="space-y: 15px;">
                        <div
                            style="display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid #f0f0f0;">
                            <div
                                style="width: 40px; height: 40px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; flex-shrink: 0;">
                                ‚úÖ</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Intercambio
                                    completado con Ana Garc√≠a</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Intercambiaste Nintendo Switch por 5
                                    libros de programaci√≥n</div>
                                <div style="color: #bdc3c7; font-size: 12px; margin-top: 5px;">Hace 2 d√≠as</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid #f0f0f0;">
                            <div
                                style="width: 40px; height: 40px; background: linear-gradient(135deg, #FFE5B4, #E67E22); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; flex-shrink: 0;">
                                üì¶</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Nuevo producto
                                    publicado</div>
                                <div style="color: #7f8c8d; font-size: 14px;">iPhone 12 Pro disponible para intercambio
                                </div>
                                <div style="color: #bdc3c7; font-size: 12px; margin-top: 5px;">Hace 3 d√≠as</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: center; gap: 15px; padding: 15px 0; border-bottom: 1px solid #f0f0f0;">
                            <div
                                style="width: 40px; height: 40px; background: linear-gradient(135deg, #E8F4FD, #3498DB); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; flex-shrink: 0;">
                                ‚≠ê</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">Nueva rese√±a recibida
                                </div>
                                <div style="color: #7f8c8d; font-size: 14px;">Carlos Mendoza te calific√≥ con 5 estrellas
                                </div>
                                <div style="color: #bdc3c7; font-size: 12px; margin-top: 5px;">Hace 5 d√≠as</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px; padding: 15px 0;">
                            <div
                                style="width: 40px; height: 40px; background: linear-gradient(135deg, #D5FDCB, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; flex-shrink: 0;">
                                üèÜ</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: #34495E; margin-bottom: 5px;">¬°Nueva insignia
                                    desbloqueada!</div>
                                <div style="color: #7f8c8d; font-size: 14px;">Has obtenido la insignia "Eco Warrior"
                                </div>
                                <div style="color: #bdc3c7; font-size: 12px; margin-top: 5px;">Hace 1 semana</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reviews Section -->
                <div
                    style="background: white; margin: 0 20px 20px 20px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">üí¨ Rese√±as (47)</h2>
                    <div style="space-y: 20px;">
                        <div style="padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div
                                    style="width: 45px; height: 45px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px;">
                                    AG</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #34495E;">Ana Garc√≠a</div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="color: #FFD700;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                        <span style="color: #7f8c8d; font-size: 12px;">Hace 2 d√≠as</span>
                                    </div>
                                </div>
                            </div>
                            <p style="color: #7f8c8d; line-height: 1.5; margin: 0;">
                                "Excelente persona para intercambiar. Mar√≠a Jos√© es muy confiable,
                                los libros estaban en perfecto estado y la comunicaci√≥n fue fluida. ¬°Recomendada 100%!"
                            </p>
                        </div>
                        <div style="padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div
                                    style="width: 45px; height: 45px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px;">
                                    CM</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #34495E;">Carlos Mendoza</div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="color: #FFD700;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                        <span style="color: #7f8c8d; font-size: 12px;">Hace 5 d√≠as</span>
                                    </div>
                                </div>
                            </div>
                            <p style="color: #7f8c8d; line-height: 1.5; margin: 0;">
                                "Muy puntual y responsable. El intercambio fue perfecto,
                                me encanta mi nueva tablet. Definitivamente volver√≠a a hacer negocios con ella."
                            </p>
                        </div>
                        <div style="padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div
                                    style="width: 45px; height: 45px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px;">
                                    LR</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #34495E;">Laura Rivera</div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="color: #FFD700;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                        <span style="color: #7f8c8d; font-size: 12px;">Hace 1 semana</span>
                                    </div>
                                </div>
                            </div>
                            <p style="color: #7f8c8d; line-height: 1.5; margin: 0;">
                                "Una experiencia incre√≠ble. Mar√≠a Jos√© es muy amable y profesional.
                                Los productos estaban exactamente como se describ√≠an. ¬°Gracias!"
                            </p>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-secondary">Ver todas las rese√±as</button>
                    </div>
                </div>

                <!-- Account Settings -->
                <div
                    style="background: white; margin: 0 20px 20px 20px; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 style="color: #34495E; margin-bottom: 20px; font-size: 20px;">‚öôÔ∏è Configuraci√≥n de Cuenta</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <button
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <div style="font-size: 24px; margin-bottom: 10px; color: #3498DB;">üîê</div>
                            <div style="font-weight: 600; color: #34495E; font-size: 14px;">Privacidad</div>
                        </button>
                        <button
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <div style="font-size: 24px; margin-bottom: 10px; color: #E67E22;">üîî</div>
                            <div style="font-weight: 600; color: #34495E; font-size: 14px;">Notificaciones</div>
                        </button>
                        <button
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <div style="font-size: 24px; margin-bottom: 10px; color: #2ECC71;">üí≥</div>
                            <div style="font-weight: 600; color: #34495E; font-size: 14px;">Pagos</div>
                        </button>
                        <button
                            style="background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <div style="font-size: 24px; margin-bottom: 10px; color: #9B59B6;">üìä</div>
                            <div style="font-weight: 600; color: #34495E; font-size: 14px;">Estad√≠sticas</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Screen -->
        <div id="about" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 20px;">
                    <span style="cursor: pointer;" onclick="showNotifications()">üí¨</span>
                    <span style="cursor: pointer;" onclick="showNotifications()">üîî</span>
                    <div style="width: 40px; height: 40px; border-radius: 50%; background: white; color: #2ECC71; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer;"
                        onclick="goToProfile()">MJ</div>
                </div>
            </div>

            <div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
                <!-- Hero Section -->
                <div
                    style="background: linear-gradient(135deg, #A8E6CF, #2ECC71); color: white; padding: 60px 40px; border-radius: 20px; text-align: center; margin-bottom: 40px;">
                    <div style="font-size: 80px; margin-bottom: 20px;">üåç</div>
                    <h1 style="font-size: 42px; margin-bottom: 20px; font-weight: bold;">Acerca de EcoSwap</h1>
                    <p style="font-size: 18px; line-height: 1.6; max-width: 700px; margin: 0 auto;">
                        Transformamos la forma en que las personas intercambian productos,
                        creando una comunidad m√°s sostenible y conectada.
                    </p>
                </div>

                <!-- Mission & Vision Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 50px;">
                    <div
                        style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                            <div
                                style="width: 60px; height: 60px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px;">
                                üéØ</div>
                            <h2 style="color: #34495E; font-size: 28px; margin: 0;">Nuestra Misi√≥n</h2>
                        </div>
                        <p style="color: #7f8c8d; line-height: 1.8; font-size: 16px;">
                            Facilitar el intercambio sostenible de productos entre personas,
                            reduciendo el desperdicio y fomentando una econom√≠a circular que
                            beneficie tanto a nuestros usuarios como al medio ambiente.
                        </p>
                    </div>

                    <div
                        style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                            <div
                                style="width: 60px; height: 60px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px;">
                                üåü</div>
                            <h2 style="color: #34495E; font-size: 28px; margin: 0;">Nuestra Visi√≥n</h2>
                        </div>
                        <p style="color: #7f8c8d; line-height: 1.8; font-size: 16px;">
                            Ser la plataforma l√≠der en intercambio sostenible en Am√©rica Latina,
                            creando una comunidad global donde cada producto tenga una segunda
                            oportunidad y cada intercambio construya un futuro m√°s verde.
                        </p>
                    </div>
                </div>

                <!-- Values Section -->
                <div
                    style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 50px;">
                    <h2 style="color: #34495E; text-align: center; font-size: 32px; margin-bottom: 40px;">Nuestros
                        Valores</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #A8E6CF, #2ECC71); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px;">
                                ‚ôªÔ∏è</div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 20px;">Sostenibilidad</h3>
                            <p style="color: #7f8c8d; line-height: 1.6;">Promovemos pr√°cticas que cuiden nuestro planeta
                                para las futuras generaciones.</p>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px;">
                                ü§ù</div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 20px;">Comunidad</h3>
                            <p style="color: #7f8c8d; line-height: 1.6;">Creamos conexiones genuinas entre personas que
                                comparten valores similares.</p>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px;">
                                üîí</div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 20px;">Confianza</h3>
                            <p style="color: #7f8c8d; line-height: 1.6;">Garantizamos transacciones seguras y
                                transparentes entre todos nuestros usuarios.</p>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="width: 80px; height: 80px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px;">
                                üí°</div>
                            <h3 style="color: #34495E; margin-bottom: 15px; font-size: 20px;">Innovaci√≥n</h3>
                            <p style="color: #7f8c8d; line-height: 1.6;">Desarrollamos constantemente nuevas formas de
                                mejorar la experiencia de intercambio.</p>
                        </div>
                    </div>
                </div>

                <!-- Story Section -->
                <div
                    style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 50px 40px; border-radius: 20px; margin-bottom: 50px;">
                    <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                        <h2 style="color: #34495E; font-size: 32px; margin-bottom: 30px;">Nuestra Historia</h2>
                        <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 30px;">
                            <div
                                style="width: 100px; height: 100px; background: linear-gradient(135deg, #2ECC71, #27AE60); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px;">
                                üì±</div>
                        </div>
                        <p style="color: #7f8c8d; line-height: 1.8; font-size: 16px; margin-bottom: 25px;">
                            EcoSwap naci√≥ en 2024 con la visi√≥n de tres estudiantes universitarios en Pereira, Colombia,
                            quienes se dieron cuenta de que muchos productos √∫tiles terminaban siendo desechados
                            simplemente
                            porque sus due√±os ya no los necesitaban.
                        </p>
                        <p style="color: #7f8c8d; line-height: 1.8; font-size: 16px; margin-bottom: 25px;">
                            Comenzamos como un proyecto peque√±o en nuestro campus, facilitando intercambios entre
                            estudiantes.
                            R√°pidamente nos dimos cuenta del impacto positivo que esto ten√≠a tanto en las finanzas
                            estudiantiles
                            como en la reducci√≥n de residuos.
                        </p>
                        <p style="color: #7f8c8d; line-height: 1.8; font-size: 16px;">
                            Hoy, nuestra plataforma conecta a miles de personas que buscan darle una segunda vida a sus
                            productos
                            mientras construyen una comunidad m√°s sostenible y consciente.
                        </p>
                    </div>
                </div>

                <!-- Impact Section -->
                <div
                    style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 50px;">
                    <h2 style="color: #34495E; text-align: center; font-size: 32px; margin-bottom: 40px;">Nuestro
                        Impacto</h2>
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; text-align: center;">
                        <div>
                            <div style="font-size: 48px; color: #2ECC71; font-weight: bold; margin-bottom: 10px;">
                                15,000+</div>
                            <div style="color: #34495E; font-weight: 600; margin-bottom: 5px;">Intercambios Realizados
                            </div>
                            <div style="color: #7f8c8d; font-size: 14px;">Productos que encontraron un nuevo hogar</div>
                        </div>
                        <div>
                            <div style="font-size: 48px; color: #3498DB; font-weight: bold; margin-bottom: 10px;">8,500
                            </div>
                            <div style="color: #34495E; font-weight: 600; margin-bottom: 5px;">Usuarios Activos</div>
                            <div style="color: #7f8c8d; font-size: 14px;">Miembros de nuestra comunidad</div>
                        </div>
                        <div>
                            <div style="font-size: 48px; color: #E67E22; font-weight: bold; margin-bottom: 10px;">25
                            </div>
                            <div style="color: #34495E; font-weight: 600; margin-bottom: 5px;">Toneladas de CO‚ÇÇ</div>
                            <div style="color: #7f8c8d; font-size: 14px;">Reducidas gracias a los intercambios</div>
                        </div>
                        <div>
                            <div style="font-size: 48px; color: #9B59B6; font-weight: bold; margin-bottom: 10px;">95%
                            </div>
                            <div style="color: #34495E; font-weight: 600; margin-bottom: 5px;">Satisfacci√≥n</div>
                            <div style="color: #7f8c8d; font-size: 14px;">Usuarios satisfechos con la plataforma</div>
                        </div>
                    </div>
                </div>

                <!-- Team Section -->
                <div
                    style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 50px;">
                    <h2 style="color: #34495E; text-align: center; font-size: 32px; margin-bottom: 40px;">Nuestro Equipo
                    </h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                        <div style="text-align: center;">
                            <div
                                style="width: 100px; height: 100px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px; font-weight: bold;">
                                AJ</div>
                            <h3 style="color: #34495E; margin-bottom: 5px;">Ana Jim√©nez</h3>
                            <div style="color: #2ECC71; font-weight: 600; margin-bottom: 15px;">CEO & Co-fundadora</div>
                            <p style="color: #7f8c8d; line-height: 1.6; font-size: 14px;">Ingeniera de Sistemas
                                apasionada por la sostenibilidad y la tecnolog√≠a social.</p>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="width: 100px; height: 100px; background: linear-gradient(135deg, #E67E22, #D35400); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px; font-weight: bold;">
                                CM</div>
                            <h3 style="color: #34495E; margin-bottom: 5px;">Carlos Morales</h3>
                            <div style="color: #2ECC71; font-weight: 600; margin-bottom: 15px;">CTO & Co-fundador</div>
                            <p style="color: #7f8c8d; line-height: 1.6; font-size: 14px;">Desarrollador Full-Stack con
                                experiencia en plataformas de e-commerce.</p>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="width: 100px; height: 100px; background: linear-gradient(135deg, #9B59B6, #8E44AD); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 32px; font-weight: bold;">
                                LR</div>
                            <h3 style="color: #34495E; margin-bottom: 5px;">Laura Rivera</h3>
                            <div style="color: #2ECC71; font-weight: 600; margin-bottom: 15px;">CMO & Co-fundadora</div>
                            <p style="color: #7f8c8d; line-height: 1.6; font-size: 14px;">Especialista en marketing
                                digital y construcci√≥n de comunidades.</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Section -->
                <div
                    style="background: linear-gradient(135deg, #34495E, #2C3E50); color: white; padding: 40px; border-radius: 20px; text-align: center;">
                    <h2 style="font-size: 28px; margin-bottom: 25px;">¬øTienes preguntas?</h2>
                    <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px; opacity: 0.9;">
                        Nos encantar√≠a escuchar de ti. Cont√°ctanos para cualquier consulta,
                        sugerencia o si quieres formar parte de nuestro equipo.
                    </p>
                    <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px;">üìß</span>
                            <span>hola@ecoswap.com</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px;">üì±</span>
                            <span>+57 300 123 4567</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px;">üìç</span>
                            <span>Pereira, Colombia</span>
                        </div>
                    </div>
                    <div style="margin-top: 30px;">
                        <button class="btn-primary" style="margin-right: 15px;">√önete al equipo</button>
                        <button
                            style="background: transparent; border: 2px solid white; color: white; padding: 12px 24px; border-radius: 25px; cursor: pointer;">Cont√°ctanos</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div id="profile" class="mockup-screen">
            <div class="header">
                <div class="logo">
                    <span style="font-size: 32px;">üå±</span>
                    EcoSwap
                </div>
                <div style="display: flex; align-items: center; gap: 20px;">
                    <button class="btn-secondary" onclick="showEditProfile()">‚úèÔ∏è Editar</button>
                    <span style="cursor: pointer;" onclick="showNotifications()">üîî</span>
                </div>
            </div>

            <!-- Profile content would go here -->
            <div style="padding: 40px 20px; text-align: center;">
                <h2 style="color: #34495E; margin-bottom: 20px;">Mi Perfil</h2>
                <p style="color: #7f8c8d;">Funcionalidad de perfil en desarrollo</p>
            </div>
        </div>
    </div>

    <script>
        function showScreen(screenId) {
            // Hide all screens
            const screens = document.querySelectorAll('.mockup-screen');
            screens.forEach(screen => screen.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected screen
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }

            // Add active class to clicked tab if event exists
            if (typeof event !== 'undefined' && event.target) {
                event.target.classList.add('active');
            }
        }

        function openChat(userName, userInitials, theirProduct, theirProductIcon, myProduct) {
            // Update chat header with user info
            const chatScreen = document.getElementById('chat');
            const userNameElement = chatScreen.querySelector('.header .user-avatar + div > div:first-child');
            const userInitialsElement = chatScreen.querySelector('.header .user-avatar');

            if (userNameElement) userNameElement.textContent = userName;
            if (userInitialsElement) userInitialsElement.textContent = userInitials;

            // Update product context bar
            const productContexts = chatScreen.querySelectorAll('[style*="width: 40px; height: 40px; background: #e0e0e0"]');
            const productTitles = chatScreen.querySelectorAll('[style*="font-weight: 600; color: #34495E; font-size: 14px;"]');

            if (productContexts.length >= 2 && productTitles.length >= 2) {
                productContexts[0].textContent = theirProductIcon;
                productContexts[1].textContent = myProduct.includes('iPhone') ? 'üì±' : myProduct.includes('Nintendo') ? 'üéÆ' : 'üö≤';

                productTitles[0].textContent = theirProduct;
                productTitles[1].textContent = myProduct;
            }

            // Update chat messages with the user's name and initials
            const messageAvatars = chatScreen.querySelectorAll('.chat-container .user-avatar');
            messageAvatars.forEach(avatar => {
                if (avatar.textContent !== 'TU') {
                    avatar.textContent = userInitials;
                }
            });

            // Switch to chat screen
            showScreen('chat');

            // Find and activate the chat tab
            const chatTab = document.querySelector('button[onclick="showScreen(\'chat\')"]');
            if (chatTab) {
                setActiveTab('chat');
            }
        }

        // Auto-scroll chat to bottom
        function scrollChatToBottom() {
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
        }

        // Auto-resize textarea
        function autoResizeTextarea() {
            const textarea = document.querySelector('#chat textarea');
            if (textarea) {
                textarea.addEventListener('input', function () {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 100) + 'px';
                });
            }
        }

        // Transaction type toggle
        document.addEventListener('change', function (e) {
            if (e.target.name === 'transaction') {
                const swapSection = document.getElementById('swap-section');
                const sellSection = document.getElementById('sell-section');

                swapSection.style.display = 'none';
                sellSection.style.display = 'none';

                if (e.target.value === 'swap') {
                    swapSection.style.display = 'block';
                } else if (e.target.value === 'sell') {
                    sellSection.style.display = 'block';
                }
            }
        });

        // Funci√≥n para cambiar entre pesta√±as de interacciones
        function showInteractionsTab(tabType) {
            const receivedTab = document.getElementById('received-interactions');
            const sentTab = document.getElementById('sent-interactions');
            const receivedButton = document.querySelector('button[onclick="showInteractionsTab(\'received\')"]');
            const sentButton = document.querySelector('button[onclick="showInteractionsTab(\'sent\')"]');

            if (tabType === 'sent') {
                receivedTab.style.display = 'none';
                sentTab.style.display = 'block';
                receivedButton.classList.remove('btn-primary');
                receivedButton.classList.add('btn-secondary');
                sentButton.classList.remove('btn-secondary');
                sentButton.classList.add('btn-primary');
            } else {
                receivedTab.style.display = 'block';
                sentTab.style.display = 'none';
                sentButton.classList.remove('btn-primary');
                sentButton.classList.add('btn-secondary');
                receivedButton.classList.remove('btn-secondary');
                receivedButton.classList.add('btn-primary');
            }
        }

        // Funci√≥n para coordinar encuentro
        function coordinateMeeting(userName, userInitials, theirProduct, theirProductIcon, myProduct) {
            alert(`Coordinando encuentro con ${userName} para intercambiar ${myProduct} por ${theirProduct}`);
            // Aqu√≠ se podr√≠a abrir la pantalla de coordinaci√≥n de encuentro
        }

        // Funci√≥n para hacer nueva propuesta
        function makeNewProposal(userName, myProduct) {
            console.log(`Creando nueva propuesta para ${userName} con ${myProduct}`);
            showScreen('new-proposal');
        }

        // Funciones para recuperaci√≥n de contrase√±a
        function sendPasswordReset() {
            const email = document.querySelector('#forgot-password input[type="email"]').value;
            if (!email) {
                alert('Por favor ingresa tu correo electr√≥nico');
                return;
            }

            // Simular env√≠o de correo
            showScreen('password-reset-confirmation');
        }

        function resendEmail() {
            alert('Correo reenviado. Revisa tu bandeja de entrada.');
        }

        function contactSupport() {
            alert('Contactando soporte t√©cnico. Te responderemos en las pr√≥ximas 24 horas.');
        }

        function saveNewPassword() {
            const newPassword = document.getElementById('new-password-input').value;
            const confirmPassword = document.getElementById('confirm-password-input').value;

            if (newPassword !== confirmPassword) {
                alert('Las contrase√±as no coinciden');
                return;
            }

            if (!isPasswordStrong(newPassword)) {
                alert('La contrase√±a no cumple con los requisitos de seguridad');
                return;
            }

            alert('Contrase√±a actualizada exitosamente. Redirigiendo al login...');
            showScreen('login');
        }

        function isPasswordStrong(password) {
            const hasLength = password.length >= 8;
            const hasUppercase = /[A-Z]/.test(password);
            const hasLowercase = /[a-z]/.test(password);
            const hasNumber = /\d/.test(password);

            return hasLength && hasUppercase && hasLowercase && hasNumber;
        }

        // Funci√≥n para validar contrase√±a en tiempo real
        function validatePassword(password) {

            // Funciones para el perfil y estad√≠sticas
            function showEditProfile() {
                alert('Abriendo editor de perfil...');
                // Aqu√≠ se podr√≠a abrir la pantalla de edici√≥n de perfil
            }

            function showNotifications() {
                alert('Mostrando notificaciones...');
                // Aqu√≠ se podr√≠a abrir la pantalla de notificaciones
            }

            function startVoiceCall() {
                alert('Iniciando llamada de voz...');
                // Aqu√≠ se podr√≠a integrar con un servicio de llamadas
            }

            function showChatInfo() {
                alert('Mostrando informaci√≥n del chat...');
                // Aqu√≠ se podr√≠a mostrar informaci√≥n detallada del intercambio
            }

            function showChatMenu() {
                alert('Mostrando men√∫ del chat...');
                // Aqu√≠ se podr√≠a mostrar un men√∫ con opciones adicionales
            }

            function acceptExchange() {
                alert('¬°Intercambio aceptado! Redirigiendo a la pantalla de confirmaci√≥n...');
                showScreen('accept-proposal');
            }

            function rejectExchange() {
                if (confirm('¬øEst√°s seguro de que quieres rechazar este intercambio?')) {
                    alert('Intercambio rechazado. Redirigiendo a las interacciones...');
                    showScreen('interactions');
                }
            }

            function showExchangeDetails() {
                alert('Mostrando detalles del intercambio...');
                // Aqu√≠ se podr√≠a mostrar informaci√≥n detallada del intercambio
            }

            function proposeLocation() {
                alert('Abriendo selector de ubicaci√≥n...');
                // Aqu√≠ se podr√≠a abrir un mapa para seleccionar ubicaci√≥n
            }

            function requestMoreInfo() {
                alert('Solicitando m√°s informaci√≥n...');
                // Aqu√≠ se podr√≠a enviar una solicitud autom√°tica
            }

            function viewOnMap() {
                alert('Abriendo mapa con la ubicaci√≥n...');
                // Aqu√≠ se podr√≠a abrir Google Maps o similar
            }

            function acceptLocation() {
                alert('¬°Ubicaci√≥n aceptada! Coordinando encuentro...');
                // Aqu√≠ se podr√≠a confirmar la ubicaci√≥n
            }

            function suggestAlternative() {
                alert('Abriendo selector de ubicaci√≥n alternativa...');
                // Aqu√≠ se podr√≠a abrir un selector de ubicaciones
            }
            const hasLength = password.length >= 8;
            const hasUppercase = /[A-Z]/.test(password);
            const hasLowercase = /[a-z]/.test(password);
            const hasNumber = /\d/.test(password);

            // Actualizar iconos de requisitos
            document.getElementById('req-length-icon').textContent = hasLength ? '‚úÖ' : '‚ùå';
            document.getElementById('req-uppercase-icon').textContent = hasUppercase ? '‚úÖ' : '‚ùå';
            document.getElementById('req-lowercase-icon').textContent = hasLowercase ? '‚úÖ' : '‚ùå';
            document.getElementById('req-number-icon').textContent = hasNumber ? '‚úÖ' : '‚ùå';

            // Calcular fortaleza
            let strength = 0;
            if (hasLength) strength += 25;
            if (hasUppercase) strength += 25;
            if (hasLowercase) strength += 25;
            if (hasNumber) strength += 25;

            // Actualizar barra de fortaleza
            const strengthBar = document.getElementById('password-strength-bar');
            const strengthText = document.getElementById('password-strength-text');
            const saveBtn = document.getElementById('save-password-btn');

            strengthBar.style.width = strength + '%';

            if (strength <= 25) {
                strengthBar.style.background = '#E74C3C';
                strengthText.textContent = 'D√©bil';
                strengthText.style.color = '#E74C3C';
            } else if (strength <= 50) {
                strengthBar.style.background = '#F39C12';
                strengthText.textContent = 'Regular';
                strengthText.style.color = '#F39C12';
            } else if (strength <= 75) {
                strengthBar.style.background = '#3498DB';
                strengthText.textContent = 'Buena';
                strengthText.style.color = '#3498DB';
            } else {
                strengthBar.style.background = '#27AE60';
                strengthText.textContent = 'Excelente';
                strengthText.style.color = '#27AE60';
            }

            // Habilitar bot√≥n solo si la contrase√±a es fuerte
            saveBtn.disabled = strength < 100;
        }

        // Set default swap section visible and initialize chat features
        document.addEventListener('DOMContentLoaded', function () {
            const swapRadio = document.querySelector('input[name="transaction"][value="swap"]');
            if (swapRadio) {
                swapRadio.checked = true;
            }

            // Initialize chat features
            autoResizeTextarea();

            // Scroll chat to bottom when opened
            const chatTab = document.querySelector('button[onclick="showScreen(\'chat\')"]');
            if (chatTab) {
                chatTab.addEventListener('click', function () {
                    setTimeout(scrollChatToBottom, 100);
                });
            }

            // Initialize password validation
            const newPasswordInput = document.getElementById('new-password-input');
            if (newPasswordInput) {
                newPasswordInput.addEventListener('input', function () {
                    validatePassword(this.value);
                });
            }

            // Initialize forgot password form
            const forgotPasswordForm = document.querySelector('#forgot-password .btn-primary');
            if (forgotPasswordForm) {
                forgotPasswordForm.addEventListener('click', sendPasswordReset);
            }
        });

        function showUserProfile(userName, userInitials, rating, exchanges) {
            // This would typically show another user's profile
            // For now, we'll show the current profile screen
            showScreen('profile');
        }

        function showEditProfile() {
            showScreen('edit-profile');
        }

        function saveProfile() {
            // Simulate saving profile
            alert('‚úÖ Perfil actualizado correctamente');
            showScreen('profile');
        }

        function rateUser(userName, userInitials, transactionType, theirProduct, myProduct) {
            // Update rating screen with transaction details
            const ratingScreen = document.getElementById('rate-user');

            // Update user info in rating screen
            const userNameElement = ratingScreen.querySelector('h2');
            const userInitialsElement = ratingScreen.querySelector('[style*="background: linear-gradient(135deg, #3498DB, #2980B9)"]');

            if (userNameElement) userNameElement.textContent = `Califica a ${userName}`;
            if (userInitialsElement) userInitialsElement.textContent = userInitials;

            // Show rating screen
            showScreen('rate-user');

            // Reset rating state
            currentRating = 5;
            updateStarDisplay();
        }

        let currentRating = 5;

        function setRating(rating) {
            currentRating = rating;
            updateStarDisplay();
        }

        function updateStarDisplay() {
            const stars = document.querySelectorAll('.star-rating');
            const ratingText = document.getElementById('rating-text');

            const ratingTexts = {
                1: 'Muy malo ‚≠ê',
                2: 'Malo ‚≠ê‚≠ê',
                3: 'Regular ‚≠ê‚≠ê‚≠ê',
                4: 'Bueno ‚≠ê‚≠ê‚≠ê‚≠ê',
                5: 'Excelente ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê'
            };

            const ratingColors = {
                1: '#E74C3C',
                2: '#E67E22',
                3: '#F39C12',
                4: '#2ECC71',
                5: '#27AE60'
            };

            stars.forEach((star, index) => {
                if (index < currentRating) {
                    star.style.color = '#FFD700';
                    star.style.transform = 'scale(1.1)';
                } else {
                    star.style.color = '#bdc3c7';
                    star.style.transform = 'scale(1)';
                }
            });

            if (ratingText) {
                ratingText.textContent = ratingTexts[currentRating];
                ratingText.style.color = ratingColors[currentRating];
            }
        }

        function toggleTag(button) {
            if (button.style.background === 'rgb(46, 204, 113)' || button.style.background === '#2ECC71') {
                // Deselect
                button.style.background = '#f8f9fa';
                button.style.border = '1px solid #e0e0e0';
                button.style.color = '#34495E';
            } else {
                // Select
                button.style.background = '#2ECC71';
                button.style.border = '1px solid #27AE60';
                button.style.color = 'white';
            }
        }

        function reportIssue(issueType) {
            const reportDetails = document.getElementById('report-details');
            reportDetails.style.display = 'block';

            // Scroll to report details
            reportDetails.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            // Focus on textarea
            const textarea = reportDetails.querySelector('textarea');
            if (textarea) {
                textarea.focus();
            }
        }

        function submitRating() {
            // Simulate submitting rating
            const selectedTags = document.querySelectorAll('.quick-tag[style*="#2ECC71"]');
            const reviewText = document.querySelector('#rate-user textarea:not([style*="border: 2px solid #E74C3C"])');
            const reportText = document.querySelector('textarea[style*="border: 2px solid #E74C3C"]');

            let message = `‚úÖ Calificaci√≥n enviada:\n\n‚≠ê ${currentRating} estrella${currentRating !== 1 ? 's' : ''}`;

            if (selectedTags.length > 0) {
                message += `\nüè∑Ô∏è ${selectedTags.length} aspecto${selectedTags.length !== 1 ? 's' : ''} destacado${selectedTags.length !== 1 ? 's' : ''}`;
            }

            if (reviewText && reviewText.value.trim()) {
                message += `\nüí¨ Rese√±a incluida`;
            }

            if (reportText && reportText.value.trim()) {
                message += `\n‚ö†Ô∏è Problema reportado`;
            }

            alert(message + '\n\n¬°Gracias por ayudar a mantener una comunidad confiable!');
            showScreen('interactions');
        }

        function skipRating() {
            if (confirm('¬øEst√°s seguro de que quieres omitir la calificaci√≥n?\n\nLas calificaciones ayudan a otros usuarios a tomar mejores decisiones.')) {
                showScreen('interactions');
            }
        }

        // Initialize rating display when page loads
        document.addEventListener('DOMContentLoaded', function () {
            // ... existing DOMContentLoaded code ...

            // Initialize rating display
            setTimeout(updateStarDisplay, 100);
        });

        // Notification Functions
        function filterNotifications(type) {
            const allNotifications = document.querySelectorAll('.notification-item');
            const filterTabs = document.querySelectorAll('.filter-tab');

            // Update active tab
            filterTabs.forEach(tab => {
                tab.classList.remove('active');
                tab.style.background = '#f8f9fa';
                tab.style.color = '#34495E';
                tab.style.border = '1px solid #e0e0e0';
            });

            event.target.classList.add('active');
            event.target.style.background = '#2ECC71';
            event.target.style.color = 'white';
            event.target.style.border = '1px solid #27AE60';

            // Filter notifications
            allNotifications.forEach(notification => {
                if (type === 'all' || notification.classList.contains(type)) {
                    notification.style.display = 'block';
                } else {
                    notification.style.display = 'none';
                }
            });

            // Check if any notifications are visible
            const visibleNotifications = document.querySelectorAll('.notification-item[style*="block"]');
            const emptyState = document.getElementById('empty-notifications');

            if (visibleNotifications.length === 0) {
                emptyState.style.display = 'block';
            } else {
                emptyState.style.display = 'none';
            }
        }

        function markAsRead(button) {
            const notification = button.closest('.notification-item');
            if (notification.classList.contains('unread')) {
                notification.classList.remove('unread');
                notification.classList.add('read');
                notification.style.background = '#fafbfc';
                notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.05)';
                notification.style.borderLeft = '4px solid #bdc3c7';

                // Remove unread indicator
                const indicator = notification.querySelector('div[style*="width: 8px; height: 8px; background:"]');
                if (indicator) {
                    indicator.remove();
                }

                // Update button
                button.textContent = '‚úì Le√≠da';
                button.style.background = '#D5FDCB';
                button.style.color = '#27AE60';
                button.style.border = '1px solid #27AE60';
                button.disabled = true;

                updateNotificationCount();
            }
        }

        function markAllAsRead() {
            const unreadNotifications = document.querySelectorAll('.notification-item.unread');
            unreadNotifications.forEach(notification => {
                const markButton = notification.querySelector('button[onclick*="markAsRead"]');
                if (markButton) {
                    markAsRead(markButton);
                }
            });

            if (unreadNotifications.length > 0) {
                alert(`‚úÖ ${unreadNotifications.length} notificaciones marcadas como le√≠das`);
            } else {
                alert('No hay notificaciones sin leer');
            }
        }

        function clearAllNotifications() {
            if (confirm('¬øEst√°s seguro de que quieres eliminar todas las notificaciones?\n\nEsta acci√≥n no se puede deshacer.')) {
                const notificationsList = document.getElementById('notifications-list');
                const emptyState = document.getElementById('empty-notifications');

                notificationsList.innerHTML = '';
                emptyState.style.display = 'block';

                // Update header count
                const countElement = document.querySelector('#notifications p');
                if (countElement) {
                    countElement.textContent = 'No tienes notificaciones';
                }

                alert('üóëÔ∏è Todas las notificaciones han sido eliminadas');
            }
        }

        function updateNotificationCount() {
            const unreadCount = document.querySelectorAll('.notification-item.unread').length;
            const countElement = document.querySelector('#notifications p');

            if (countElement) {
                if (unreadCount === 0) {
                    countElement.textContent = 'No tienes notificaciones sin leer';
                } else {
                    countElement.textContent = `Tienes ${unreadCount} notificaci√≥n${unreadCount !== 1 ? 'es' : ''} sin leer`;
                }
            }

            // Update filter tabs counts
            const allTab = document.querySelector('.filter-tab');
            if (allTab) {
                const totalCount = document.querySelectorAll('.notification-item').length;
                allTab.textContent = `üìã Todas (${totalCount})`;
            }
        }

        function viewExchange(exchangeId) {
            alert('Abriendo propuesta de intercambio...');
            showScreen('interactions');
        }

        function openChatFromNotification(userName, userInitials) {
            openChat(userName, userInitials, 'MacBook Air M1', 'üíª', 'iPhone 12 Pro');
        }

        function viewProductStats() {
            alert('üìä Estad√≠sticas del producto:\n\n‚Ä¢ 5 usuarios lo guardaron\n‚Ä¢ 12 visualizaciones esta semana\n‚Ä¢ 3 mensajes de inter√©s\n‚Ä¢ Precio sugerido: $800.000 - $900.000');
        }

        function viewProfile(userName) {
            alert(`Viendo perfil de ${userName}...`);
            showScreen('profile');
        }

        function viewProduct(productId) {
            alert('Abriendo p√°gina del producto...');
            showScreen('detail');
        }

        function learnMore(feature) {
            let message = '';
            switch (feature) {
                case 'scheduling':
                    message = 'üìÖ Nueva funci√≥n: Programaci√≥n de Intercambios\n\n‚Ä¢ Programa encuentros con anticipaci√≥n\n‚Ä¢ Recordatorios autom√°ticos\n‚Ä¢ Confirmaci√≥n mutua requerida\n‚Ä¢ Integraci√≥n con calendario\n\n¬°Pru√©bala en tu pr√≥ximo intercambio!';
                    break;
                default:
                    message = 'Funci√≥n en desarrollo...';
            }
            alert(message);
        }

        function viewPolicies() {
            alert('üìã Cambios en Pol√≠ticas (Resumen):\n\n‚Ä¢ Mayor protecci√≥n de datos personales\n‚Ä¢ Nuevas opciones de privacidad\n‚Ä¢ Proceso de resoluci√≥n de disputas mejorado\n‚Ä¢ Pol√≠ticas de devoluci√≥n actualizadas\n\nTe recomendamos revisar los t√©rminos completos en la configuraci√≥n.');
        }

        function openNotificationSettings() {
            alert('üîî Configuraci√≥n de Notificaciones:\n\n‚Ä¢ Push: Activado\n‚Ä¢ Email: Intercambios y mensajes\n‚Ä¢ Frecuencia: Inmediata\n‚Ä¢ Horario: 8 AM - 10 PM\n\nPuedes cambiar estas opciones en Editar Perfil > Notificaciones');
        }

        // Edit Proposal Functions
        function editProposal(recipientName, myProduct, theirProduct) {
            // Update edit proposal screen with specific details
            const editScreen = document.getElementById('edit-proposal');

            // Update recipient name in the screen
            const recipientElement = editScreen.querySelector('div[style*="font-weight: 600; color: #34495E; margin-bottom: 5px;"]');
            if (recipientElement) {
                recipientElement.textContent = `Propuesta enviada a ${recipientName}`;
            }

            // Show edit proposal screen
            showScreen('edit-proposal');
        }

        function selectProduct(productElement, productId) {
            // Remove selection from all products
            const allProducts = productElement.parentElement.querySelectorAll('div[onclick*="selectProduct"]');
            allProducts.forEach(product => {
                product.style.border = '1px solid #e0e0e0';
                product.style.background = 'white';
                // Remove checkmark
                const checkmark = product.querySelector('div[style*="background: #2ECC71"]');
                if (checkmark) {
                    checkmark.remove();
                }
            });

            // Add selection to clicked product
            productElement.style.border = '2px solid #2ECC71';
            productElement.style.background = '#f8fff8';

            // Add checkmark
            const productInfo = productElement.querySelector('div[style*="padding: 15px"]');
            const titleDiv = productInfo.querySelector('div[style*="display: flex"]') || productInfo.querySelector('div');

            if (!titleDiv.querySelector('div[style*="background: #2ECC71"]')) {
                const checkmark = document.createElement('div');
                checkmark.style.cssText = 'width: 20px; height: 20px; background: #2ECC71; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; margin-left: 10px;';
                checkmark.textContent = '‚úì';

                // Modify the title div to be flex
                if (!titleDiv.style.display) {
                    titleDiv.style.display = 'flex';
                    titleDiv.style.justifyContent = 'space-between';
                    titleDiv.style.alignItems = 'start';
                }

                titleDiv.appendChild(checkmark);
            }
        }

        function toggleAddition(button, additionType) {
            const additionalDetails = document.getElementById('additional-details');

            if (button.style.background === 'rgb(46, 204, 113)' || button.style.background === '#2ECC71') {
                // Deselect
                button.style.background = '#f8f9fa';
                button.style.border = '1px solid #e0e0e0';
                button.style.color = '#34495E';

                // Check if any other additions are selected
                const selectedAdditions = document.querySelectorAll('.addition-option[style*="#2ECC71"]');
                if (selectedAdditions.length === 0) {
                    additionalDetails.style.display = 'none';
                }
            } else {
                // Select
                button.style.background = '#2ECC71';
                button.style.border = '1px solid #27AE60';
                button.style.color = 'white';

                // Show additional details
                additionalDetails.style.display = 'block';

                // Focus on textarea
                const textarea = additionalDetails.querySelector('textarea');
                if (textarea) {
                    textarea.focus();

                    // Add placeholder text based on selection
                    let placeholder = '';
                    switch (additionType) {
                        case 'cash':
                            placeholder = 'Especifica la cantidad de dinero que incluyes (ej: $50.000 adicionales)...';
                            break;
                        case 'accessory':
                            placeholder = 'Describe los accesorios que incluyes (ej: funda, protector, cables)...';
                            break;
                        case 'service':
                            placeholder = 'Explica qu√© servicio t√©cnico ofreces (ej: instalaci√≥n, configuraci√≥n)...';
                            break;
                    }
                    textarea.placeholder = placeholder;
                }
            }
        }

        function toggleTimeSlot(button) {
            if (button.style.background === 'rgb(46, 204, 113)' || button.style.color === 'rgb(46, 204, 113)') {
                // Deselect
                button.style.background = '#f8f9fa';
                button.style.border = '1px solid #e0e0e0';
                button.style.color = '#34495E';
            } else {
                // Select
                button.style.background = '#D5FDCB';
                button.style.border = '1px solid #27AE60';
                button.style.color = '#27AE60';
            }
        }

        function updateProposal() {
            // Collect form data
            const selectedProduct = document.querySelector('div[style*="border: 2px solid #2ECC71"]');
            const selectedAdditions = document.querySelectorAll('.addition-option[style*="#2ECC71"]');
            const selectedTimeSlots = document.querySelectorAll('.time-slot[style*="#27AE60"], .time-slot[style*="rgb(46, 204, 113)"]');

            let updateMessage = '‚úÖ Propuesta actualizada exitosamente!\n\n';

            // Product info
            if (selectedProduct) {
                const productName = selectedProduct.querySelector('div[style*="font-weight: 600"]').textContent;
                updateMessage += `üì¶ Producto: ${productName}\n`;
            }

            // Additions
            if (selectedAdditions.length > 0) {
                updateMessage += `‚ûï Extras incluidos: ${selectedAdditions.length}\n`;
            }

            // Time preferences
            if (selectedTimeSlots.length > 0) {
                updateMessage += `‚è∞ Horarios disponibles: ${selectedTimeSlots.length} opciones\n`;
            }

            updateMessage += '\nüîî Laura recibir√° una notificaci√≥n con tu propuesta actualizada.';

            alert(updateMessage);
            showScreen('interactions');
        }

        function withdrawProposal() {
            if (confirm('¬øEst√°s seguro de que quieres retirar tu propuesta?\n\nEsta acci√≥n no se puede deshacer y Laura ser√° notificada.')) {
                alert('üóëÔ∏è Propuesta retirada exitosamente.\n\nLaura ha sido notificada sobre la cancelaci√≥n.');
                showScreen('interactions');
            }
        }

        function contactDirectly() {
            if (confirm('¬øQuieres abrir el chat directamente con Laura?\n\nEsto no afectar√° tu propuesta actual.')) {
                openChat('Laura Rodr√≠guez', 'LR', 'Equipo de Gimnasio', 'üèãÔ∏è', 'Bicicleta de Monta√±a');
            }
        }

        // Exchange Details Functions
        function viewExchangeDetails(userName, userInitials, theirProduct, myProduct, status) {
            // Update exchange details screen with specific information
            const detailsScreen = document.getElementById('exchange-details');

            // Update user info throughout the screen
            const userElements = detailsScreen.querySelectorAll('h3, div[style*="font-weight: 600; color: #34495E"]');
            userElements.forEach(element => {
                if (element.textContent && element.textContent.includes('Ana Garc√≠a')) {
                    element.textContent = element.textContent.replace('Ana Garc√≠a', userName);
                }
            });

            // Show exchange details screen
            showScreen('exchange-details');
        }

        function shareExchange() {
            const shareText = `üéâ ¬°Acabo de completar un intercambio exitoso en EcoSwap!\n\n` +
                `üì¶ Intercambi√© mi Nintendo Switch por 5 libros de programaci√≥n\n` +
                `‚≠ê Calificaci√≥n: 5/5 estrellas\n` +
                `üå± CO‚ÇÇ evitado: 2.1 kg\n\n` +
                `#EcoSwap #IntercambioSostenible #EconomiaCircular`;

            if (navigator.share) {
                navigator.share({
                    title: 'Mi intercambio en EcoSwap',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // Fallback for browsers without native sharing
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('üìã Texto copiado al portapapeles!\n\nPuedes pegarlo en tus redes sociales.');
                });
            }
        }

        function contactUser(userName, userInitials) {
            openChat(userName, userInitials, '5 Libros de Programaci√≥n', 'üìö', 'Nintendo Switch');
        }

        function viewUserProfile(userName) {
            alert(`üë§ Abriendo perfil de ${userName}...\n\n` +
                `‚Ä¢ ‚≠ê 4.9 estrellas (28 intercambios)\n` +
                `‚Ä¢ üèÜ Insignias: Eco Warrior, 5 Stars, Confiable\n` +
                `‚Ä¢ üìç Pereira, Colombia\n` +
                `‚Ä¢ üìÖ Miembro desde 2022`);
            showScreen('profile');
        }

        function reportExchange() {
            const reportReasons = [
                'üì¶ Producto no como se describ√≠a',
                '‚è∞ Problemas de puntualidad',
                'üí¨ Mala comunicaci√≥n',
                'üö® Problema de seguridad',
                'üí∞ Problema con dinero/precio',
                'ü§ù Comportamiento inapropiado',
                'üìç Problema con ubicaci√≥n',
                'üìã Otro (especificar)'
            ];

            let reportMessage = '‚ö†Ô∏è Reportar problema con el intercambio\n\n';
            reportMessage += 'Selecciona el motivo:\n\n';
            reportReasons.forEach((reason, index) => {
                reportMessage += `${index + 1}. ${reason}\n`;
            });

            const selection = prompt(reportMessage + '\nIngresa el n√∫mero correspondiente (1-8):');

            if (selection && selection >= '1' && selection <= '8') {
                const selectedReason = reportReasons[parseInt(selection) - 1];
                const details = prompt(`Has seleccionado: ${selectedReason}\n\nPor favor describe el problema en detalle para que nuestro equipo pueda investigar:`);

                if (details && details.trim()) {
                    alert('‚úÖ Reporte enviado exitosamente\n\n' +
                        `Motivo: ${selectedReason}\n` +
                        `ID del reporte: #REP-${Date.now().toString().slice(-6)}\n\n` +
                        'Nuestro equipo revisar√° tu reporte en las pr√≥ximas 24 horas y te contactaremos si necesitamos informaci√≥n adicional.\n\n' +
                        'Gracias por ayudar a mantener una comunidad segura.');
                }
            }
        }

        function downloadReceipt() {
            const receiptData = {
                id: `EXC-${Date.now().toString().slice(-8)}`,
                date: '25 de Agosto, 2024',
                time: '3:12 PM',
                participants: ['Mar√≠a Jos√© Ram√≠rez', 'Ana Garc√≠a'],
                products: ['Nintendo Switch', '5 Libros de Programaci√≥n'],
                location: 'Centro Comercial Pereira Plaza',
                status: 'Completado',
                impact: '2.1 kg CO‚ÇÇ evitado'
            };

            alert('üìÑ Generando comprobante...\n\n' +
                `ID: ${receiptData.id}\n` +
                `Fecha: ${receiptData.date}\n` +
                `Estado: ${receiptData.status}\n` +
                `Impacto: ${receiptData.impact}\n\n` +
                '‚úÖ Comprobante descargado como PDF\n' +
                'Archivo: intercambio_ecoswap_250824.pdf');
        }

        function addToFavorites(userName) {
            if (confirm(`¬øAgregar a ${userName} a tu lista de usuarios favoritos?\n\nPodr√°s ver f√°cilmente sus productos y propuestas futuras.`)) {
                alert(`‚≠ê ${userName} agregada a favoritos\n\n` +
                    '‚Ä¢ Recibir√°s notificaciones cuando publique nuevos productos\n' +
                    '‚Ä¢ Aparecer√° destacada en tus b√∫squedas\n' +
                    '‚Ä¢ Acceso r√°pido desde tu perfil\n\n' +
                    'Puedes gestionar tus usuarios favoritos desde Configuraci√≥n > Favoritos');
            }
        }

        // Cancel Proposal Functions
        function cancelProposal(recipientName, userInitials, myProduct, theirProduct) {
            // Update cancel proposal screen with specific details
            const cancelScreen = document.getElementById('cancel-proposal');

            // Update recipient name
            const recipientElement = cancelScreen.querySelector('div[style*="font-weight: 600; color: #34495E; margin-bottom: 5px;"]:not([onclick])');
            if (recipientElement) {
                recipientElement.textContent = recipientName;
            }

            // Show cancel proposal screen
            showScreen('cancel-proposal');
        }

        function selectReason(label) {
            // Remove selection from all labels
            const allLabels = document.querySelectorAll('label[onclick*="selectReason"]');
            allLabels.forEach(l => {
                l.style.border = '1px solid #e0e0e0';
                l.style.background = 'white';
            });

            // Select current label
            label.style.border = '2px solid #E74C3C';
            label.style.background = '#FFF5F5';

            // Check the radio button
            const radio = label.querySelector('input[type="radio"]');
            radio.checked = true;

            // Show additional comments if "other" is selected
            const additionalComments = document.getElementById('additional-comments');
            if (radio.value === 'other') {
                additionalComments.style.display = 'block';
                const textarea = additionalComments.querySelector('textarea');
                textarea.focus();
            } else {
                additionalComments.style.display = 'none';
            }
        }

        function goToEditProposal() {
            if (confirm('¬øIr a editar la propuesta en lugar de cancelar?\n\nPodr√°s modificar tu oferta, mensaje o condiciones sin perder la propuesta.')) {
                showScreen('edit-proposal');
            }
        }

        function contactLauraDirectly() {
            if (confirm('¬øAbrir chat con Laura antes de cancelar?\n\nPuedes aclarar dudas o negociar condiciones directamente.')) {
                openChat('Laura Rodr√≠guez', 'LR', 'Equipo de Gimnasio', 'üèãÔ∏è', 'Bicicleta de Monta√±a');
            }
        }

        function pauseProposal() {
            const pauseOptions = [
                '‚è∞ Pausar por 3 d√≠as',
                'üìÖ Pausar por 1 semana',
                'üóìÔ∏è Pausar por 2 semanas',
                'üí≠ Pausar hasta que yo reactive'
            ];

            let pauseMessage = '‚è∏Ô∏è Pausar Propuesta Temporalmente\n\n';
            pauseMessage += 'Selecciona el tiempo de pausa:\n\n';
            pauseOptions.forEach((option, index) => {
                pauseMessage += `${index + 1}. ${option}\n`;
            });

            const selection = prompt(pauseMessage + '\nIngresa el n√∫mero correspondiente (1-4):');

            if (selection && selection >= '1' && selection <= '4') {
                const selectedOption = pauseOptions[parseInt(selection) - 1];
                alert(`‚è∏Ô∏è Propuesta pausada exitosamente\n\n` +
                    `Duraci√≥n: ${selectedOption}\n\n` +
                    '‚Ä¢ Laura ser√° notificada de la pausa temporal\n' +
                    '‚Ä¢ Puedes reactivar en cualquier momento desde Interacciones\n' +
                    '‚Ä¢ La propuesta no se perder√°\n\n' +
                    'La propuesta aparecer√° como "PAUSADA" en tu lista de interacciones.');

                showScreen('interactions');
            }
        }

        function confirmCancellation() {
            const understandCheckbox = document.getElementById('understand-consequences');
            const confirmCheckbox = document.getElementById('confirm-cancellation');

            if (!understandCheckbox.checked || !confirmCheckbox.checked) {
                alert('‚ö†Ô∏è Debes marcar ambas casillas para continuar con la cancelaci√≥n.');
                return;
            }

            // Get selected reason if any
            const selectedReason = document.querySelector('input[name="cancel-reason"]:checked');
            let reasonText = '';

            if (selectedReason) {
                const reasonLabels = {
                    'changed-mind': 'Cambi√© de opini√≥n',
                    'better-offer': 'Recib√≠ mejor oferta',
                    'product-sold': 'Ya vend√≠ el producto',
                    'personal-reasons': 'Razones personales',
                    'no-response': 'Mucho tiempo sin respuesta',
                    'other': 'Otro motivo'
                };
                reasonText = reasonLabels[selectedReason.value] || 'No especificado';
            }

            // Final confirmation
            const finalConfirm = confirm(
                `‚ö†Ô∏è CONFIRMACI√ìN FINAL\n\n` +
                `¬øEst√°s completamente seguro de cancelar la propuesta con Laura Rodr√≠guez?\n\n` +
                `‚Ä¢ Esta acci√≥n es PERMANENTE e irreversible\n` +
                `‚Ä¢ Laura ser√° notificada inmediatamente\n` +
                `‚Ä¢ Afectar√° tu puntuaci√≥n de confiabilidad\n` +
                (reasonText ? `‚Ä¢ Motivo: ${reasonText}\n` : '') +
                `\n¬øProceder con la cancelaci√≥n?`
            );

            if (finalConfirm) {
                // Process cancellation
                let successMessage = '‚úÖ Propuesta cancelada exitosamente\n\n';
                successMessage += 'üìß Laura ha sido notificada de la cancelaci√≥n\n';
                successMessage += 'üìä Se ha actualizado tu historial de interacciones\n';

                if (reasonText) {
                    successMessage += `üí≠ Motivo registrado: ${reasonText}\n`;
                }

                successMessage += '\nüîÑ Puedes crear una nueva propuesta cuando quieras\n';
                successMessage += 'üí° Recuerda que las cancelaciones frecuentes pueden afectar tu reputaci√≥n';

                alert(successMessage);
                showScreen('interactions');
            }
        }

        // Enable/disable cancel button based on checkboxes
        document.addEventListener('change', function (e) {
            if (e.target.id === 'understand-consequences' || e.target.id === 'confirm-cancellation') {
                const understandCheckbox = document.getElementById('understand-consequences');
                const confirmCheckbox = document.getElementById('confirm-cancellation');
                const cancelButton = document.getElementById('final-cancel-btn');

                if (understandCheckbox && confirmCheckbox && cancelButton) {
                    if (understandCheckbox.checked && confirmCheckbox.checked) {
                        cancelButton.disabled = false;
                        cancelButton.style.background = '#E74C3C';
                        cancelButton.style.cursor = 'pointer';
                    } else {
                        cancelButton.disabled = true;
                        cancelButton.style.background = '#bdc3c7';
                        cancelButton.style.cursor = 'not-allowed';
                    }
                }
            }

            // Enable/disable reject button based on checkboxes
            if (e.target.id === 'confirm-respectful' || e.target.id === 'final-decision') {
                const respectfulCheckbox = document.getElementById('confirm-respectful');
                const finalDecisionCheckbox = document.getElementById('final-decision');
                const rejectButton = document.getElementById('final-reject-btn');

                if (respectfulCheckbox && finalDecisionCheckbox && rejectButton) {
                    if (respectfulCheckbox.checked && finalDecisionCheckbox.checked) {
                        rejectButton.disabled = false;
                        rejectButton.style.background = '#E74C3C';
                        rejectButton.style.cursor = 'pointer';
                    } else {
                        rejectButton.disabled = true;
                        rejectButton.style.background = '#bdc3c7';
                        rejectButton.style.cursor = 'not-allowed';
                    }
                }
            }

            // Enable/disable accept button based on all checkboxes
            if (e.target.id && e.target.id.includes('verify-condition') ||
                e.target.id.includes('meeting-safety') ||
                e.target.id.includes('communication-platform') ||
                e.target.id.includes('no-returns') ||
                e.target.id.includes('rating-commitment')) {

                const checkboxes = [
                    'verify-condition',
                    'meeting-safety',
                    'communication-platform',
                    'no-returns',
                    'rating-commitment'
                ];

                const acceptButton = document.getElementById('final-accept-btn');
                if (acceptButton) {
                    const allChecked = checkboxes.every(id => {
                        const checkbox = document.getElementById(id);
                        return checkbox && checkbox.checked;
                    });

                    if (allChecked) {
                        acceptButton.disabled = false;
                        acceptButton.style.background = 'linear-gradient(135deg, #2ECC71, #27AE60)';
                        acceptButton.style.cursor = 'pointer';
                    } else {
                        acceptButton.disabled = true;
                        acceptButton.style.background = '#bdc3c7';
                        acceptButton.style.cursor = 'not-allowed';
                    }
                }
            }
        });

        // Accept Proposal Functions
        function acceptProposal(senderName, userInitials, theirProduct, theirProductIcon, myProduct) {
            // Update accept proposal screen with specific details
            const acceptScreen = document.getElementById('accept-proposal');

            // Update sender name and initials throughout the screen
            const senderElements = acceptScreen.querySelectorAll('h3, div');
            senderElements.forEach(element => {
                if (element.textContent && element.textContent.includes('Carlos Mendoza')) {
                    element.textContent = element.textContent.replace('Carlos Mendoza', senderName);
                }
            });

            // Show accept proposal screen
            showScreen('accept-proposal');
        }

        function requestMorePhotos(userType) {
            const userName = userType === 'carlos' ? 'Carlos' : 'el usuario';

            if (confirm(`¬øSolicitar m√°s fotos del producto a ${userName}?\n\nEsto enviar√° un mensaje autom√°tico pidiendo fotos adicionales del producto desde diferentes √°ngulos.`)) {
                alert(`üì∏ Solicitud enviada exitosamente\n\n` +
                    `‚Ä¢ ${userName} recibir√° una notificaci√≥n\n` +
                    `‚Ä¢ Podr√° subir hasta 5 fotos adicionales\n` +
                    `‚Ä¢ Recibir√°s una notificaci√≥n cuando las suba\n` +
                    `‚Ä¢ Las fotos aparecer√°n en esta pantalla autom√°ticamente\n\n` +
                    `Mientras tanto, puedes continuar configurando otros detalles del intercambio.`);
            }
        }

        function addMorePhotos() {
            if (confirm('¬øSubir fotos adicionales de tu iPhone?\n\nEsto ayudar√° a Carlos a sentirse m√°s seguro sobre el intercambio.')) {
                alert('üì∑ Funcionalidad de c√°mara\n\n' +
                    '‚Ä¢ Puedes subir hasta 8 fotos\n' +
                    '‚Ä¢ Incluye diferentes √°ngulos\n' +
                    '‚Ä¢ Muestra detalles importantes\n' +
                    '‚Ä¢ Las fotos se compartir√°n con Carlos autom√°ticamente\n\n' +
                    '‚úÖ Fotos subidas exitosamente');
            }
        }

        function confirmAcceptance() {
            // Validate all checkboxes are checked
            const requiredCheckboxes = [
                'verify-condition',
                'meeting-safety',
                'communication-platform',
                'no-returns',
                'rating-commitment'
            ];

            const uncheckedItems = requiredCheckboxes.filter(id => {
                const checkbox = document.getElementById(id);
                return !checkbox || !checkbox.checked;
            });

            if (uncheckedItems.length > 0) {
                alert('‚ö†Ô∏è Debes aceptar todos los t√©rminos para continuar.\n\nPor favor marca todas las casillas de verificaci√≥n.');
                return;
            }

            // Get meeting details
            const locationSelect = document.querySelector('select');
            const dateInput = document.querySelector('input[type="date"]');
            const timeSelect = document.querySelectorAll('select')[1];
            const notesTextarea = document.querySelector('textarea');

            const location = locationSelect ? locationSelect.value : 'Centro Comercial Pereira Plaza';
            const date = dateInput ? dateInput.value : 'Por definir';
            const time = timeSelect ? timeSelect.value : '3:00 PM';
            const notes = notesTextarea ? notesTextarea.value.trim() : '';

            // Final confirmation
            let confirmationMessage = `üéâ CONFIRMAR INTERCAMBIO\n\n`;
            confirmationMessage += `üë§ Con: Carlos Mendoza\n`;
            confirmationMessage += `üîÑ Intercambio: MacBook Air M1 ‚ü∑ iPhone 12 Pro\n`;
            confirmationMessage += `üìç Lugar: ${location}\n`;
            confirmationMessage += `üìÖ Fecha: ${date || 'Por coordinar'}\n`;
            confirmationMessage += `‚è∞ Hora: ${time}\n`;
            if (notes) confirmationMessage += `üìù Notas: ${notes.substring(0, 50)}...\n`;
            confirmationMessage += `\n¬øConfirmar este intercambio?`;

            const finalConfirm = confirm(confirmationMessage);

            if (finalConfirm) {
                // Process acceptance
                let successMessage = `üéâ ¬°INTERCAMBIO CONFIRMADO EXITOSAMENTE!\n\n`;
                successMessage += `üîî Carlos ha sido notificado de tu aceptaci√≥n\n`;
                successMessage += `üí¨ Ya pueden comunicarse para coordinar detalles\n`;
                successMessage += `üìç Lugar acordado: ${location}\n`;
                successMessage += `üìÖ Fecha propuesta: ${date || 'Por coordinar'}\n`;
                successMessage += `‚è∞ Hora propuesta: ${time}\n\n`;
                successMessage += `üì± Pr√≥ximos pasos:\n`;
                successMessage += `‚Ä¢ Carlos confirmar√° los detalles\n`;
                successMessage += `‚Ä¢ Coordinar√°n lugar exacto y hora\n`;
                successMessage += `‚Ä¢ Verificar√°n productos antes del intercambio\n`;
                successMessage += `‚Ä¢ Completar√°n el intercambio en persona\n`;
                successMessage += `‚Ä¢ Calificar√°n la experiencia mutuamente\n\n`;
                successMessage += `üéØ ¬°Tu intercambio est√° programado!`;

                alert(successMessage);

                // Simulate opening chat with Carlos
                setTimeout(() => {
                    if (confirm('¬øQuieres abrir el chat con Carlos ahora para coordinar los detalles finales?')) {
                        openChat('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro');
                    } else {
                        showScreen('interactions');
                    }
                }, 1000);
            }
        }

        function openNegotiationChat() {
            if (confirm('¬øAbrir chat con Carlos para negociar detalles?\n\nPodr√°s discutir:\n‚Ä¢ Lugar y hora espec√≠ficos\n‚Ä¢ Condiciones adicionales\n‚Ä¢ Verificaciones del producto\n‚Ä¢ Cualquier duda antes de confirmar')) {
                openChat('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro');
            }
        }

        // Reject Proposal Functions
        function rejectProposal(senderName, userInitials, theirProduct, myProduct) {
            // Update reject proposal screen with specific details
            const rejectScreen = document.getElementById('reject-proposal');

            // Update sender name
            const senderElement = rejectScreen.querySelector('div[style*="font-weight: 600; color: #34495E; margin-bottom: 5px;"]:not([onclick])');
            if (senderElement) {
                senderElement.textContent = senderName;
            }

            // Show reject proposal screen
            showScreen('reject-proposal');
        }

        function selectRejectReason(label) {
            // Remove selection from all labels
            const allLabels = document.querySelectorAll('label[onclick*="selectRejectReason"]');
            allLabels.forEach(l => {
                l.style.border = '1px solid #e0e0e0';
                l.style.background = 'white';
            });

            // Select current label
            label.style.border = '2px solid #E74C3C';
            label.style.background = '#FFF5F5';

            // Check the radio button
            const radio = label.querySelector('input[type="radio"]');
            radio.checked = true;

            // Update placeholder text based on selection
            const textarea = document.getElementById('reject-message');
            const reasonValue = radio.value;

            const placeholders = {
                'not-interested': 'Hola Carlos, gracias por tu propuesta. Actualmente estoy buscando otro tipo de productos...',
                'unequal-value': 'Hola Carlos, agradezco tu inter√©s. Creo que los valores de nuestros productos no son equivalentes...',
                'condition-concerns': 'Hola Carlos, me gustar√≠a conocer m√°s detalles sobre el estado del MacBook antes de decidir...',
                'already-traded': 'Hola Carlos, gracias por tu propuesta. Lamentablemente ya intercambi√© el iPhone...',
                'location-distance': 'Hola Carlos, me interesa tu MacBook pero la distancia hace dif√≠cil coordinar el encuentro...',
                'profile-concerns': 'Hola Carlos, prefiero intercambiar con usuarios que tengan m√°s historial en la plataforma...',
                'other': 'Hola Carlos, gracias por tu propuesta...'
            };

            if (textarea && placeholders[reasonValue]) {
                textarea.placeholder = placeholders[reasonValue];
            }
        }

        function makeCounterOffer() {
            if (confirm('¬øHacer una contraoferta a Carlos?\n\nPodr√°s proponer un producto diferente o condiciones modificadas.')) {
                alert('üîÑ Redirigiendo a crear contraoferta...\n\n' +
                    '‚Ä¢ Podr√°s seleccionar otro producto de tu inventario\n' +
                    '‚Ä¢ Agregar condiciones adicionales\n' +
                    '‚Ä¢ Incluir un mensaje personalizado\n\n' +
                    'Carlos recibir√° tu contraoferta y podr√° aceptar, rechazar o negociar.');

                // This would typically redirect to a counter-offer creation screen
                showScreen('upload');
            }
        }

        function requestMoreInfo() {
            if (confirm('¬øSolicitar m√°s informaci√≥n a Carlos?\n\nPodr√°s pedirle fotos adicionales, detalles del estado o aclaraciones.')) {
                const questions = [
                    'üì∏ ¬øPodr√≠as enviar m√°s fotos del MacBook?',
                    'üîã ¬øCu√°l es el estado de la bater√≠a?',
                    'üíª ¬øTiene alg√∫n defecto o marca?',
                    'üì¶ ¬øIncluye accesorios originales?',
                    'üìÖ ¬øCu√°ndo lo compraste?',
                    'üí∞ ¬øCu√°l fue el precio original?',
                    'üìç ¬øD√≥nde podr√≠amos encontrarnos?',
                    'üìù Pregunta personalizada'
                ];

                let questionMessage = '‚ùì Selecciona las preguntas que quieres hacer:\n\n';
                questions.forEach((q, index) => {
                    questionMessage += `${index + 1}. ${q}\n`;
                });

                const selection = prompt(questionMessage + '\nEscribe los n√∫meros separados por comas (ej: 1,3,5):');

                if (selection) {
                    openChat('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro');
                }
            }
        }

        function negotiateTerms() {
            if (confirm('¬øAbrir chat con Carlos para negociar?\n\nPodr√°s discutir:\n‚Ä¢ Condiciones del intercambio\n‚Ä¢ Lugar de encuentro\n‚Ä¢ Productos adicionales\n‚Ä¢ Cualquier detalle espec√≠fico')) {
                openChat('Carlos Mendoza', 'CM', 'MacBook Air M1', 'üíª', 'iPhone 12 Pro');
            }
        }

        function saveForLater() {
            if (confirm('¬øMarcar como "pendiente" para decidir despu√©s?\n\nLa propuesta se mantendr√° activa y podr√°s revisarla m√°s tarde. Carlos no ser√° notificado de esta acci√≥n.')) {
                alert('‚è∞ Propuesta guardada para revisar despu√©s\n\n' +
                    '‚Ä¢ Aparecer√° en tu secci√≥n "Pendientes de revisar"\n' +
                    '‚Ä¢ Carlos no ser√° notificado\n' +
                    '‚Ä¢ Puedes aceptar, rechazar o negociar cuando decidas\n' +
                    '‚Ä¢ Recibir√°s recordatorios peri√≥dicos\n\n' +
                    'Accede a tus pendientes desde el men√∫ de Interacciones.');

                showScreen('interactions');
            }
        }

        function confirmRejection() {
            const respectfulCheckbox = document.getElementById('confirm-respectful');
            const finalDecisionCheckbox = document.getElementById('final-decision');

            if (!respectfulCheckbox.checked || !finalDecisionCheckbox.checked) {
                alert('‚ö†Ô∏è Debes marcar ambas casillas para continuar con el rechazo.');
                return;
            }

            // Get selected reason and message
            const selectedReason = document.querySelector('input[name="reject-reason"]:checked');
            const customMessage = document.getElementById('reject-message').value.trim();

            let reasonText = '';
            if (selectedReason) {
                const reasonLabels = {
                    'not-interested': 'No me interesa su producto',
                    'unequal-value': 'Valores no equivalentes',
                    'condition-concerns': 'Dudas sobre el estado',
                    'already-traded': 'Ya intercambi√© el producto',
                    'location-distance': 'Problemas de ubicaci√≥n',
                    'profile-concerns': 'Perfil del usuario',
                    'other': 'Otro motivo'
                };
                reasonText = reasonLabels[selectedReason.value] || '';
            }

            // Final confirmation
            let confirmationMessage = `‚ö†Ô∏è CONFIRMACI√ìN FINAL\n\n¬øEst√°s seguro de rechazar la propuesta de Carlos?\n\n`;
            confirmationMessage += `‚Ä¢ MacBook Air M1 ‚Üí iPhone 12 Pro\n`;
            if (reasonText) confirmationMessage += `‚Ä¢ Motivo: ${reasonText}\n`;
            if (customMessage) confirmationMessage += `‚Ä¢ Mensaje personalizado incluido\n`;
            confirmationMessage += `‚Ä¢ Carlos ser√° notificado del rechazo\n\n¬øProceder?`;

            const finalConfirm = confirm(confirmationMessage);

            if (finalConfirm) {
                let successMessage = '‚úÖ Propuesta rechazada exitosamente\n\n';
                successMessage += 'üìß Carlos ha sido notificado del rechazo\n';
                if (reasonText) successMessage += `üí≠ Motivo comunicado: ${reasonText}\n`;
                if (customMessage) successMessage += 'üíå Tu mensaje fue enviado\n';
                successMessage += '\nü§ù Mantuviste una comunicaci√≥n respetuosa\n';
                successMessage += 'üîÑ Carlos puede hacer nuevas propuestas en el futuro\n';
                successMessage += '‚ú® Tu reputaci√≥n no se ve afectada';

                alert(successMessage);
                showScreen('interactions');
            }
        }

        function setActiveTab(screenId) {
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Find and activate the correct tab
            const targetTab = document.querySelector(`button[onclick*="showScreen('${screenId}')"]`);
            if (targetTab) {
                targetTab.classList.add('active');
            }
        }

        function showNotifications() {
            showScreen('notifications');
        }

        function goToProfile() {
            // Hide all screens
            const screens = document.querySelectorAll('.mockup-screen');
            screens.forEach(screen => screen.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show profile screen
            const profileScreen = document.getElementById('profile');
            if (profileScreen) {
                profileScreen.classList.add('active');
            }

            // Activate profile tab
            const profileTab = document.querySelector('button[onclick="showScreen(\'profile\')"]');
            if (profileTab) {
                profileTab.classList.add('active');
            }
        }

        // Add click handlers for quick reply buttons
        document.addEventListener('click', function (e) {
            if (e.target.matches('#chat button[style*="background: #f0f8ff"]')) {
                const textarea = document.querySelector('#chat textarea');
                if (textarea) {
                    const buttonText = e.target.textContent.replace(/^[^\s]+\s/, ''); // Remove emoji
                    textarea.value = buttonText;
                    textarea.focus();
                }
            }
        });

        // Funciones para Nueva Propuesta
        function selectUser() {
            alert('Abriendo selector de usuarios...');
            // Aqu√≠ se abrir√≠a un modal para seleccionar usuario
        }

        function selectProduct() {
            alert('Abriendo selector de productos...');
            // Aqu√≠ se abrir√≠a un modal para seleccionar producto
        }

        function changeProduct() {
            alert('Abriendo selector de tus productos...');
            // Aqu√≠ se abrir√≠a un modal para cambiar el producto
        }

        function saveDraft() {
            alert('Borrador guardado exitosamente');
            // Aqu√≠ se guardar√≠a el borrador
        }

        function previewProposal() {
            alert('Mostrando vista previa de la propuesta...');
            // Aqu√≠ se mostrar√≠a una vista previa
        }

        function submitProposal() {
            const message = document.getElementById('proposal-message').value;
            if (!message.trim()) {
                alert('Por favor escribe un mensaje personalizado para tu propuesta');
                return;
            }

            alert('¬°Propuesta enviada exitosamente!\n\nCarlos ser√° notificado de tu propuesta.\nTe notificaremos cuando responda.');
            showScreen('interactions');
        }

        // Funciones para Aceptar Intercambio
        function viewUserProfile(userId) {
            alert(`Abriendo perfil de ${userId}...`);
            // Aqu√≠ se abrir√≠a el perfil del usuario
        }

        function startChat(userId) {
            alert(`Iniciando chat con ${userId}...`);
            showScreen('chat');
        }

        function editMyProduct() {
            alert('Abriendo editor de producto...');
            // Aqu√≠ se abrir√≠a el editor de producto
        }

        function addPhotos() {
            alert('Abriendo selector de fotos...');
            // Aqu√≠ se abrir√≠a el selector de fotos
        }

        function openLocationPicker() {
            alert('Abriendo selector de ubicaci√≥n en mapa...');
            // Aqu√≠ se abrir√≠a un mapa para seleccionar ubicaci√≥n
        }

        function updateLocationPreview() {
            const locationSelect = document.getElementById('meeting-location');
            const locationPreview = document.getElementById('location-preview');

            if (locationSelect && locationPreview) {
                const selectedOption = locationSelect.options[locationSelect.selectedIndex];
                const locationText = selectedOption.text;

                let locationInfo = '';
                let icon = 'üìç';

                switch (locationSelect.value) {
                    case 'pereira-plaza':
                        locationInfo = 'Centro Comercial Pereira Plaza';
                        icon = 'üè¢';
                        break;
                    case 'parque-arboleda':
                        locationInfo = 'Parque Arboleda';
                        icon = 'üå≥';
                        break;
                    case 'universidad':
                        locationInfo = 'Universidad Tecnol√≥gica';
                        icon = 'üéì';
                        break;
                    case 'starbucks':
                        locationInfo = 'Starbucks Centro';
                        icon = '‚òï';
                        break;
                    case 'plaza-bolivar':
                        locationInfo = 'Plaza de Bol√≠var';
                        icon = 'üèõÔ∏è';
                        break;
                    default:
                        locationInfo = 'Ubicaci√≥n personalizada';
                        icon = 'üìç';
                }

                locationPreview.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">${icon}</div>
                        <div>
                            <div style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 3px;">${locationInfo}</div>
                            <div style="color: #7f8c8d; font-size: 12px;">üìç Ubicaci√≥n seleccionada</div>
                            <div style="color: #27AE60; font-size: 11px; font-weight: 600;">‚úÖ Lugar p√∫blico y seguro</div>
                        </div>
                    </div>
                `;
            }
        }

        function updateDateInfo() {
            const dateInput = document.getElementById('meeting-date');
            const dateInfo = document.getElementById('date-info');

            if (dateInput && dateInfo) {
                const selectedDate = new Date(dateInput.value);
                const today = new Date();
                const diffTime = selectedDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                const options = { weekday: 'long', day: 'numeric', month: 'long' };
                const formattedDate = selectedDate.toLocaleDateString('es-ES', options);

                let timeText = '';
                if (diffDays === 0) timeText = 'Hoy';
                else if (diffDays === 1) timeText = 'Ma√±ana';
                else if (diffDays > 1) timeText = `En ${diffDays} d√≠as`;
                else timeText = 'Fecha pasada';

                dateInfo.innerHTML = `
                    <div style="color: #3498DB; font-weight: 600; font-size: 11px;">üìÖ ${formattedDate}</div>
                    <div style="color: #2980B9; font-size: 10px;">‚è∞ ${timeText}</div>
                `;
            }
        }

        function updateTimeInfo() {
            const timeSelect = document.getElementById('meeting-time');
            const timeInfo = document.getElementById('time-info');

            if (timeSelect && timeInfo) {
                const selectedTime = timeSelect.value;
                let timeText = '';
                let period = '';

                if (selectedTime < '12') {
                    period = 'Ma√±ana';
                    timeText = 'üåÖ';
                } else if (selectedTime < '18') {
                    period = 'Tarde';
                    timeText = '‚òÄÔ∏è';
                } else {
                    period = 'Noche';
                    timeText = 'üåÜ';
                }

                timeInfo.innerHTML = `
                    <div style="color: #3498DB; font-weight: 600; font-size: 11px;">${timeText} ${period} (${selectedTime}:00)</div>
                    <div style="color: #2980B9; font-size: 10px;">‚è±Ô∏è Duraci√≥n: 30 min</div>
                `;
            }
        }

        function updateDurationInfo() {
            const durationSelect = document.getElementById('meeting-duration');
            const timeInfo = document.getElementById('time-info');

            if (durationSelect && timeInfo) {
                const duration = durationSelect.value;
                const durationText = duration === '60' ? '1 hora' : `${duration} minutos`;

                const currentContent = timeInfo.innerHTML;
                const newContent = currentContent.replace(/‚è±Ô∏è Duraci√≥n: .*/, `‚è±Ô∏è Duraci√≥n: ${durationText}`);
                timeInfo.innerHTML = newContent;
            }
        }

        // Funciones para Coordinar Encuentro
        function openLocationPickerCoord() {
            alert('Abriendo selector de ubicaci√≥n en mapa...');
            // Aqu√≠ se abrir√≠a un mapa para seleccionar ubicaci√≥n
        }

        function updateLocationPreviewCoord() {
            const locationSelect = document.getElementById('meeting-location-coord');
            const locationPreview = document.getElementById('location-preview-coord');

            if (locationSelect && locationPreview) {
                const selectedOption = locationSelect.options[locationSelect.selectedIndex];
                const locationText = selectedOption.text;

                let locationInfo = '';
                let icon = 'üìç';

                switch (locationSelect.value) {
                    case 'pereira-plaza':
                        locationInfo = 'Centro Comercial Pereira Plaza';
                        icon = 'üè¢';
                        break;
                    case 'parque-arboleda':
                        locationInfo = 'Parque Arboleda';
                        icon = 'üå≥';
                        break;
                    case 'universidad':
                        locationInfo = 'Universidad Tecnol√≥gica';
                        icon = 'üéì';
                        break;
                    case 'starbucks':
                        locationInfo = 'Starbucks Centro';
                        icon = '‚òï';
                        break;
                    case 'plaza-bolivar':
                        locationInfo = 'Plaza de Bol√≠var';
                        icon = 'üèõÔ∏è';
                        break;
                    default:
                        locationInfo = 'Ubicaci√≥n personalizada';
                        icon = 'üìç';
                }

                locationPreview.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #3498DB, #2980B9); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">${icon}</div>
                        <div>
                            <div style="font-weight: 700; color: #34495E; font-size: 14px; margin-bottom: 3px;">${locationInfo}</div>
                            <div style="color: #7f8c8d; font-size: 12px;">üìç Ubicaci√≥n seleccionada</div>
                            <div style="color: #27AE60; font-size: 11px; font-weight: 600;">‚úÖ Lugar p√∫blico y seguro</div>
                        </div>
                    </div>
                `;
            }
        }

        function updateDateInfoCoord() {
            const dateInput = document.getElementById('meeting-date-coord');
            const dateInfo = document.getElementById('date-info-coord');

            if (dateInput && dateInfo) {
                const selectedDate = new Date(dateInput.value);
                const today = new Date();
                const diffTime = selectedDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                const options = { weekday: 'long', day: 'numeric', month: 'long' };
                const formattedDate = selectedDate.toLocaleDateString('es-ES', options);

                let timeText = '';
                if (diffDays === 0) timeText = 'Hoy';
                else if (diffDays === 1) timeText = 'Ma√±ana';
                else if (diffDays > 1) timeText = `En ${diffDays} d√≠as`;
                else timeText = 'Fecha pasada';

                dateInfo.innerHTML = `
                    <div style="color: #3498DB; font-weight: 600; font-size: 11px;">üìÖ ${formattedDate}</div>
                    <div style="color: #2980B9; font-size: 10px;">‚è∞ ${timeText}</div>
                `;
            }
        }

        function updateTimeInfoCoord() {
            const timeSelect = document.getElementById('meeting-time-coord');
            const timeInfo = document.getElementById('time-info-coord');

            if (timeSelect && timeInfo) {
                const selectedTime = timeSelect.value;
                let timeText = '';
                let period = '';

                if (selectedTime < '12') {
                    period = 'Ma√±ana';
                    timeText = 'üåÖ';
                } else if (selectedTime < '18') {
                    period = 'Tarde';
                    timeText = '‚òÄÔ∏è';
                } else {
                    period = 'Noche';
                    timeText = 'üåÜ';
                }

                timeInfo.innerHTML = `
                    <div style="color: #3498DB; font-weight: 600; font-size: 11px;">${timeText} ${period} (${selectedTime}:00)</div>
                    <div style="color: #2980B9; font-size: 10px;">‚è±Ô∏è Duraci√≥n: 30 min</div>
                `;
            }
        }

        function updateDurationInfoCoord() {
            const durationSelect = document.getElementById('meeting-duration-coord');
            const timeInfo = document.getElementById('time-info-coord');

            if (durationSelect && timeInfo) {
                const duration = durationSelect.value;
                const durationText = duration === '60' ? '1 hora' : `${duration} minutos`;

                const currentContent = timeInfo.innerHTML;
                const newContent = currentContent.replace(/‚è±Ô∏è Duraci√≥n: .*/, `‚è±Ô∏è Duraci√≥n: ${durationText}`);
                timeInfo.innerHTML = newContent;
            }
        }

        function saveMeetingDraft() {
            alert('Borrador del encuentro guardado exitosamente');
            // Aqu√≠ se guardar√≠a el borrador
        }

        function sendMeetingInvitation() {
            const location = document.getElementById('meeting-location-coord').value;
            const date = document.getElementById('meeting-date-coord').value;
            const time = document.getElementById('meeting-time-coord').value;
            const duration = document.getElementById('meeting-duration-coord').value;
            const phone = document.getElementById('contact-phone-coord').value;
            const notes = document.getElementById('meeting-notes-coord').value;

            if (!location || !date || !time || !duration) {
                alert('Por favor completa todos los campos obligatorios');
                return;
            }

            let successMessage = 'üì§ Invitaci√≥n de encuentro enviada exitosamente!\n\n';
            successMessage += 'üìÖ Carlos recibir√° todos los detalles del encuentro\n';
            successMessage += 'üí¨ Podr√° confirmar o sugerir cambios\n';
            successMessage += 'üì± Te notificaremos cuando responda\n';
            successMessage += '\nü§ù ¬°Est√°s a un paso de completar tu intercambio!';

            alert(successMessage);
            showScreen('interactions');
        }

        function openMeetingChat() {
            alert('Abriendo chat para coordinar detalles del encuentro...');
            showScreen('chat');
        }

        // Contador de caracteres para el mensaje
        document.addEventListener('DOMContentLoaded', function () {
            const messageTextarea = document.getElementById('proposal-message');
            const messageCount = document.getElementById('message-count');
            const messagePreview = document.getElementById('message-preview');

            if (messageTextarea) {
                messageTextarea.addEventListener('input', function () {
                    const count = this.value.length;
                    if (messageCount) {
                        messageCount.textContent = count;
                    }
                    if (messagePreview) {
                        messagePreview.textContent = this.value || 'Escribe tu mensaje para ver la vista previa aqu√≠...';
                        messagePreview.style.fontStyle = this.value ? 'normal' : 'italic';
                        messagePreview.style.color = this.value ? '#34495E' : '#7f8c8d';
                    }
                });
            }

            // Funciones para Aceptar Intercambio
            const meetingNotes = document.getElementById('meeting-notes');
            const notesCount = document.getElementById('notes-count');

            if (meetingNotes && notesCount) {
                meetingNotes.addEventListener('input', function () {
                    const count = this.value.length;
                    notesCount.textContent = `${count}/500 caracteres`;
                });
            }

            // Funciones para Coordinar Encuentro
            const meetingNotesCoord = document.getElementById('meeting-notes-coord');
            const notesCountCoord = document.getElementById('notes-count-coord');

            if (meetingNotesCoord && notesCountCoord) {
                meetingNotesCoord.addEventListener('input', function () {
                    const count = this.value.length;
                    notesCountCoord.textContent = `${count}/500 caracteres`;
                });
            }

            // Inicializar informaci√≥n de fecha y hora
            updateDateInfo();
            updateTimeInfo();
            updateDurationInfo();
            updateDateInfoCoord();
            updateTimeInfoCoord();
            updateDurationInfoCoord();
        });
    </script>
</body>

</html>

</html>

</html>